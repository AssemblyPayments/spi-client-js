{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/aes-js/index.js","webpack:///./node_modules/bn.js/lib/bn.js","webpack:///./node_modules/jssha/src/sha.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/Crypto.js","webpack:///./src/Messages.js","webpack:///./src/SpiModels.js","webpack:///./src/RequestIdHelper.js","webpack:///./src/Pairing.js","webpack:///./src/Secrets.js","webpack:///./src/DiffieHellman.js","webpack:///./src/PairingHelper.js","webpack:///./src/Connection.js","webpack:///./src/Purchase.js","webpack:///./src/PayAtTable.js","webpack:///./src/SpiPayAtTable.js","webpack:///./src/Preauth.js","webpack:///./src/SpiPreauth.js","webpack:///./src/Cashout.js","webpack:///./src/Settlement.js","webpack:///./src/PosInfo.js","webpack:///./src/PurchaseHelper.js","webpack:///./src/KeyRollingHelper.js","webpack:///./src/PingHelper.js","webpack:///./src/Service/DeviceService.js","webpack:///./src/Printing.js","webpack:///./src/TerminalStatus.js","webpack:///./src/Spi.js","webpack:///./src/Logger.js","webpack:///./index.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","checkInt","parseInt","checkInts","arrayish","length","coerceArray","arg","copy","buffer","slice","Array","isArray","Error","Uint8Array","createArray","copyArray","sourceArray","targetArray","targetStart","sourceStart","sourceEnd","set","Hex","convertUtf8","toBytes","text","result","encodeURI","charCodeAt","push","substr","fromBytes","bytes","String","fromCharCode","join","convertHex","v","numberOfRounds","16","24","32","rcon","S","Si","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","convertToInt32","AES","this","_prepare","rounds","_Ke","_Kd","index","roundKeyCount","KC","tk","tt","rconpointer","encrypt","plaintext","decrypt","ciphertext","ModeOfOperationECB","description","_aes","block","ModeOfOperationCBC","iv","_lastCipherblock","j","ModeOfOperationCFB","segmentSize","_shiftRegister","xorSegment","encrypted","ModeOfOperationOFB","_lastPrecipher","_lastPrecipherIndex","Counter","initialValue","_counter","setValue","setBytes","Number","MAX_SAFE_INTEGER","increment","ModeOfOperationCTR","counter","_remainingCounter","_remainingCounterIndex","aesjs","ModeOfOperation","ecb","cbc","cfb","ofb","ctr","utils","hex","utf8","padding","pkcs7","pad","data","padder","strip","_arrayTest","assert","val","msg","inherits","ctor","superCtor","super_","TempCtor","constructor","BN","number","base","endian","isBN","negative","words","red","_init","Buffer","wordSize","e","parseHex","str","start","end","len","Math","min","parseBase","mul","num","max","left","right","cmp","_initNumber","_initArray","toString","replace","_parseHex","_parseBase","toArray","ceil","w","off","limbLen","limbPow","total","mod","word","imuln","_iaddn","pow","dest","clone","_expand","size","_normSign","inspect","zeros","groupSizes","groupBases","smallMulTo","self","out","b","lo","carry","k","ncarry","rword","maxJ","groupSize","groupBase","isZero","modn","idivn","toNumber","ret","toJSON","toBuffer","toArrayLike","ArrayType","byteLength","reqLength","littleEndian","res","q","andln","iushrn","clz32","_countBits","_zeroBits","bitLength","hi","zeroBits","toTwos","width","abs","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","bit","wbit","iadd","isub","add","sub","comb10MulTo","mid","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","jumboMulTo","FFTM","mulp","x","y","mulTo","hncarry","bigMulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","PI","itwdf","sin","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","odd","conjugate","normalize13b","ws","round","convert13b","stub","ph","_","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","muln","sqr","isqr","toBitArray","iushln","bits","carryMask","newCarry","ishln","hint","extended","h","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","shift","_wordDiv","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","acc","egcd","A","B","C","D","g","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","tmp","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","split","imulK","input","output","outLen","prev","next","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","Y","f","I","encoding","numRounds","K","Z","lastIndexOf","L","F","M","setHMACKey","binLen","update","getHash","shakeLen","O","P","Q","ArrayBuffer","R","getHMAC","charAt","outputUpper","toUpperCase","b64Pad","isNaN","search","indexOf","T","aa","ba","U","ca","da","ea","fa","ga","ha","ia","ja","ka","G","la","H","ma","na","oa","J","E","V","W","X","webpackPolyfill","deprecate","paths","children","Crypto","textBytes","encryptedBytes","decryptedBytes","messageToSign","shaObj","jsSHA","Events","SuccessState","Unknown","Success","Failed","MessageStamp","posId","secrets","serverTimeDelta","PosId","Secrets","ServerTimeDelta","Message","id","eventName","needsEncryption","Id","EventName","Data","DateTimeStamp","IncommingHmac","_needsEncryption","DecryptedJson","success","error_reason","error_detail","now","Date","dts","getTime","stamp","tzoffset","getTimezoneOffset","adjustedTime","toISOString","envelope","message","event","datetime","pos_id","JSON","stringify","encMsg","AesEncrypt","EncKey","encrMessageEnvelope","enc","hmac","HmacSignature","HmacKey","bankDate","date","time","msgJson","env","parse","decryptedJson","AesDecrypt","decryptedMsg","IncomingHmac","SpiStatus","PairedConnected","PairedConnecting","Unpaired","SpiFlow","Pairing","Transaction","Idle","PairingFlowState","state","AwaitingCheckFromEftpos","AwaitingCheckFromPos","ConfirmationCode","Finished","Successful","assign","TransactionType","Purchase","Refund","CashoutOnly","MOTO","Settle","SettlementEnquiry","GetLastTransaction","Preauth","AccountVerify","InitiateTxResult","initiated","Initiated","MidTxResult","valid","Valid","TransactionFlowState","posRefId","type","amountCents","PosRefId","Type","DisplayMessage","AmountCents","RequestSent","RequestTime","LastStateRequestTime","AttemptingToCancel","AwaitingSignatureCheck","AwaitingPhoneForAuth","Response","SignatureRequiredMessage","PhoneForAuthRequiredMessage","CancelAttemptTime","Request","AwaitingGltResponse","GLTResponsePosRefId","response","spiMessage","SubmitAuthCodeResult","validFormat","ValidFormat","SpiConfig","PromptForCustomerCopyOnEftpos","SignatureFlowOnEftpos","PrintMerchantCopy","messageData","prompt_for_customer_copy","print_for_signature_required_transactions","print_merchant_copy","TransactionOptions","_customerReceiptHeader","_customerReceiptFooter","_merchantReceiptHeader","_merchantReceiptFooter","customerReceiptHeader","customerReceiptFooter","merchantReceiptHeader","merchantReceiptFooter","customer_receipt_header","customer_receipt_footer","merchant_receipt_header","merchant_receipt_footer","__RequestIdHelperCounter","RequestIdHelper","prefix","PairRequest","KeyRequest","RequestId","Aenc","Ahmac","KeyResponse","requestId","Benc","Bhmac","KeyCheck","substring","PairResponse","SecretsAndKeyResponse","keyResponse","DropKeysRequest","encKey","hmacKey","localStorage","setItem","getItem","removeItem","DiffieHellman","maxValue","maxValueBN","shiftDistance","floor","random","randBitInt","privateKey","aHex","gHex","montPrime","theirPublicKey","yourPrivateKey","bHex","AHex","GROUP14_2048_BIT_MODP","PairingHelper","keyRequest","encPubAndSec","_calculateMyPublicKeyAndSecret","MyPublicKey","Senc","SharedSecretKey","hmacPubAndSec","Shmac","diffieHellman","myPrivateBI","RandomPrivateKey","myPublicBI","PublicKey","secretBI","Secret","secret","DHSecretToSPISecret","PublicKeyAndSecret","padStart","GenerateHash","myPublicKey","sharedSecretKey","ConnectionState","Disconnected","Connecting","Connected","SPI_PROTOCOL","ConnectionStateEventArgs","connectionState","MessageEventArgs","Connection","Address","State","SpiProtocol","_ws","WebSocket","UseSecureWebSockets","onopen","pollWebSocketConnection","onmessage","payload","onMessageReceived","onclose","onClosed","onerror","err","onError","document","dispatchEvent","CustomEvent","detail","readyState","CLOSED","close","send","count","OPEN","onOpened","setTimeout","Disconnect","PurchaseRequest","PurchaseAmount","TipAmount","CashoutAmount","PromptForCashout","SurchargeAmount","Config","Options","toFixed","pos_ref_id","purchase_amount","tip_amount","cash_amount","prompt_for_cashout","surcharge_amount","addReceiptConfig","AddOptions","PurchaseResponse","_m","SchemeName","scheme_name","SchemeAppName","GetSuccessState","rrn","bank_noncash_amount","bank_cash_amount","customer_receipt","merchant_receipt","host_response_text","host_response_code","terminal_ref_id","card_entry","account_type","auth_code","bank_date","bank_time","masked_pan","terminal_id","merchant_receipt_printed","customer_receipt_printed","dateStr","bank_settlement_date","ParseBankDate","attribute","GetAccountType","GetAuthCode","GetBankDate","GetBankTime","GetResponseCode","GetResponseText","GetMaskedPan","GetPurchaseAmount","GetRRN","GetTerminalId","GetTerminalReferenceId","GetTipAmount","GetSurchargeAmount","CancelTransactionRequest","CancelTransactionResponse","GetLastTransactionRequest","GetLastTransactionResponse","GetError","startsWith","WasOperationInProgressError","GetPosRefId","transaction_type","amount_purchase","amount_transaction_type","cr","mr","RefundRequest","isSuppressMerchantPassword","IsSuppressMerchantPassword","refund_amount","suppress_merchant_password","RefundResponse","SignatureRequired","_receiptToSign","receiptToSign","SignatureDecline","SignatureAccept","MotoPurchaseRequest","surchargeAmount","MotoPurchaseResponse","PhoneForAuthRequired","args","_phoneNumber","_merchantId","auth_centre_phone_number","merchant_id","AuthCodeAdvice","authCode","AuthCode","BillStatusResponse","Result","BillId","TableId","TotalAmount","OutstandingAmount","BillData","map","bill","PaymentHistoryEntry","payment_type","payment_summary","messageId","BillRetrievalResult","SUCCESS","bill_id","table_id","bill_total_amount","bill_outstanding_amount","bill_payment_history","getBillPaymentHistory","INVALID_TABLE_ID","INVALID_BILL_ID","INVALID_OPERATOR_ID","BillPayment","_incomingAdvice","OperatorId","pt","PaymentType","purchaseMsg","paymentType","paymentSummary","PaymentSummary","PayAtTableConfig","PayAtTabledEnabled","OperatorIdEnabled","SplitByAmountEnabled","EqualSplitEnabled","TippingEnabled","SummaryReportEnabled","LabelPayButton","LabelOperatorId","LabelTableId","AllowedOperatorIds","SpiPayAtTable","spi","_spi","_log","console","billId","tableId","operatorId","billPayment","updatedBillData","_send","ToMessage","billStatus","GetBillStatus","info","existingBillStatus","warn","existingPaymentHistory","find","phe","GetTerminalRefId","updatedHistoryEntries","toLowerCase","ToPaymentSummary","ToBillData","updatedBillStatus","BillPaymentReceived","PreauthEvents","AccountVerifyRequest","PreauthOpenRequest","PreauthAmount","PreauthTopupRequest","preauthId","topupAmountCents","PreauthId","TopupAmount","PreauthPartialCancellationRequest","partialCancellationAmountCents","PartialCancellationAmount","PreauthExtendRequest","PreauthCancelRequest","PreauthCompletionRequest","completionAmountCents","CompletionAmount","SpiPreauth","verifyMsg","tfs","_initiatePreauthTx","sentMsg","CurrentStatus","CurrentFlow","CurrentTxFlowState","Sent","_handleAccountVerifyResponse","_handlePreauthResponse","incomingPosRefId","currentTxFlowState","Completed","CashoutOnlyRequest","CashoutOnlyResponse","SettleRequest","Settlement","accumulated_settle_by_acquirer_count","accumulated_settle_by_acquirer_value","accumulated_total_count","accumulated_total_value","timeStr","settlement_period_start_time","settlement_period_start_date","ParseBankDateTimeStr","settlement_period_end_time","settlement_period_end_date","settlement_triggered_time","settlement_triggered_date","transaction_range","schemes","scheme","SchemeSettlementEntry","SettleByAcquirer","settle_by_acquirer","TotalValue","total_value","TotalCount","total_count","SettlementEnquiryRequest","SetPosInfoRequest","version","vendorId","libraryLanguage","libraryVersion","otherInfo","_version","_vendorId","_libraryLanguage","_libraryVersion","_otherInfo","pos_version","pos_vendor_id","library_language","library_version","other_info","SetPosInfoResponse","_success","DeviceInfo","deviceInfo","navigator","userAgent","PurchaseHelper","purchaseId","purchaseAmount","tipAmount","cashoutAmount","promptForCashout","KeyRollingHelper","krRequest","currentSecrets","newSecrets","KeyRollingResult","keyRollingConfirmation","KeyRollingConfirmation","NewSecrets","PongHelper","ping","PingHelper","DeviceAddressStatus","useSecureWebSockets","ip","fqdn","last_updated","address","addreses","DeviceAddressService","serialNumber","apiKey","acquirerCode","isSecureConnection","isTestMode","path","deviceAddressUri","fetch","method","headers","then","json","error","StatusCode","PrintingRequest","_key","_payload","PrintingResponse","Printer","element","_render","innerText","scrollTop","scrollHeight","TerminalStatusRequest","TerminalStatusResponse","status","battery_level","charging","TerminalBattery","BatteryLevel","Spi","eftposAddress","_posId","_serialNumber","_secrets","_forceSecureWebSockets","_eftposAddress","CurrentDeviceStatus","_deviceApiKey","_acquirerCode","_inTestMode","_autoAddressResolutionEnabled","_spiMessageStamp","_posVendorId","_posVersion","_hasSetInfo","_mostRecentPingSent","_mostRecentPongReceived","_missedPongsCount","_retriesSinceLastDeviceAddressResolution","_mostRecentLoginResponse","_pongTimeout","_pingFrequency","_readyToTransact","_periodicPingThread","_txMonitorCheckFrequency","_checkOnTxFrequency","_maxWaitForCancelTx","_sleepBeforeReconnectMs","_missedPongsToDisconnect","_retriesBeforeResolvingDeviceAddress","CurrentPairingFlowState","_currentStatus","_spiPat","_spiPreauth","_resetConn","_startTransactionMonitoringThread","_conn","Connect","deviceApiKey","was","HasSerialNumberChanged","_autoResolveEftposAddress","autoAddressResolutionEnable","testMode","posVendorId","posVersion","_onPairingSuccess","_onReadyToTransact","_onPairingFailed","_doUnpair","purchaseRequest","CreatePurchaseRequest","options","purchase","CreatePurchaseRequestV2","AmountSummary","refundRequest","CreateRefundRequest","refundMsg","accepted","SignatureResponded","AuthCodeSent","cancelReq","Cancelling","cashoutOnlyRequest","cashoutMsg","motoPurchaseRequest","settleRequestMsg","stlEnqMsg","gltRequestMsg","txType","gltResponse","GltMatch","toMessage","GenerateSecretsAndKeyResponse","keyCheck","pairResp","_startPeriodicPing","krRes","PerformKeyRolling","phoneForAuthRequired","GetPhoneNumber","GetMerchantId","_callGetLastTransaction","txState","GotGltResponse","gtlResponse","WasRetrievedSuccessfully","CopyMerchantReceiptToCustomerReceipt","successState","UnknownCompleted","IsStillInProgress","IsWaitingForSignatureResponse","IsWaitingForAuthCode","WasTimeOutOfSyncError","cancelResponse","GetErrorReason","GetErrorDetail","CancelFailed","isSuccess","getErrorReason","getErrorDetail","needsPublishing","CallingGlt","BatteryLevelChanged","_isUsingHttps","addEventListener","_onSpiConnectionStatusChanged","_onSpiMessageReceived","_onWsErrorReceived","pr","NewPairRequest","_stopPeriodicPing","setInterval","_periodicPing","_doPing","_callSetPosInfo","PushPayAtTableConfig","setPosInfoRequest","GetAppDeviceInfo","clearInterval","GeneratePingRequest","_mostRecentPingSentTime","GetServerTimeDelta","debug","pong","GeneratePongRessponse","gltRequest","messageJson","FromJson","IsPreauthEvent","_handlePreauthMessage","_handleKeyRequest","_handleKeyCheck","_handlePairResponse","_handleDropKeysAdvice","_handlePurchaseResponse","_handleRefundResponse","_handleCashoutOnlyResponse","_handleMotoPurchaseResponse","_handleSignatureRequired","_handleAuthCodeRequired","_handleGetLastTransactionResponse","HandleSettleResponse","_handleSettlementEnquiryResponse","_handleIncomingPing","_handleIncomingPong","_handleKeyRollingRequest","_handleCancelTransactionResponse","_handleSetPosInfoResponse","FeatureDisableMessage","_handleGetTableConfig","_handleGetBillDetailsRequest","_handleBillPaymentAdvice","_handlePrintingResponse","_handleTerminalStatusResponse","_handleBatteryLevelChanged","_handleErrorEvent","ToJson","Send","updatedSerialNumber","updatedEftposAddress","service","RetrieveService","deviceAddressStatus","HasEftposAddressChanged","protocol","location","Logger","lineSeperator","log"],"mappings":"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IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,EAAM,IAAM,EAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,EAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,EAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,EAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAC//CC,EAAI,CAAC,GAAM,EAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,EAAM,IAAM,IAAM,GAAM,EAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,EAAM,IAAM,IAAM,IAAM,EAAM,EAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,EAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,KAG//CC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,EAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAC1/FC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,EAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,SAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAC1/FC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,SAAY,WAAY,UAAY,WAAY,UAAY,WAAY,SAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,EAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAC1/FC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,SAAY,WAAY,UAAY,WAAY,UAAY,WAAY,SAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,EAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAG1/FC,EAAK,CAAC,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,SAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,EAAY,UAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,EAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,SAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,SAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,SAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,EAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,SAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,WAAY,SAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,SAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,EAAY,WAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,UAAY,WAAY,YAG1/FC,EAAK,CAAC,EAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,EAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,SAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,WAAY,UAAY,SAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,EAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,SAAY,UAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,UAAY,UAAY,WAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,UAAY,SAAY,UAAY,UAAY,WAAY,UAAY,UAAY,UAAY,UAAY,SAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,YAC1/FC,EAAK,CAAC,EAAY,UAAY,UAAY,UAAY,UAAY,UAAY,UAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,WAAY,W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WAAW,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAAW,IAAIkN,EAAElN,EAAE,IAAI,YACpf,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAAW,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAAW,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAC1e,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAAW,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,WAAW,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAIkN,EAAElN,EAAE,IAAI,YAAY,IAAI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","file":"spi-client-js.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */\n(function(root) {\n    \"use strict\";\n\n    function checkInt(value) {\n        return (parseInt(value) === value);\n    }\n\n    function checkInts(arrayish) {\n        if (!checkInt(arrayish.length)) { return false; }\n\n        for (var i = 0; i < arrayish.length; i++) {\n            if (!checkInt(arrayish[i]) || arrayish[i] < 0 || arrayish[i] > 255) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function coerceArray(arg, copy) {\n\n        // ArrayBuffer view\n        if (arg.buffer && arg.name === 'Uint8Array') {\n\n            if (copy) {\n                if (arg.slice) {\n                    arg = arg.slice();\n                } else {\n                    arg = Array.prototype.slice.call(arg);\n                }\n            }\n\n            return arg;\n        }\n\n        // It's an array; check it is a valid representation of a byte\n        if (Array.isArray(arg)) {\n            if (!checkInts(arg)) {\n                throw new Error('Array contains invalid value: ' + arg);\n            }\n\n            return new Uint8Array(arg);\n        }\n\n        // Something else, but behaves like an array (maybe a Buffer? Arguments?)\n        if (checkInt(arg.length) && checkInts(arg)) {\n            return new Uint8Array(arg);\n        }\n\n        throw new Error('unsupported array-like object');\n    }\n\n    function createArray(length) {\n        return new Uint8Array(length);\n    }\n\n    function copyArray(sourceArray, targetArray, targetStart, sourceStart, sourceEnd) {\n        if (sourceStart != null || sourceEnd != null) {\n            if (sourceArray.slice) {\n                sourceArray = sourceArray.slice(sourceStart, sourceEnd);\n            } else {\n                sourceArray = Array.prototype.slice.call(sourceArray, sourceStart, sourceEnd);\n            }\n        }\n        targetArray.set(sourceArray, targetStart);\n    }\n\n\n\n    var convertUtf8 = (function() {\n        function toBytes(text) {\n            var result = [], i = 0;\n            text = encodeURI(text);\n            while (i < text.length) {\n                var c = text.charCodeAt(i++);\n\n                // if it is a % sign, encode the following 2 bytes as a hex value\n                if (c === 37) {\n                    result.push(parseInt(text.substr(i, 2), 16))\n                    i += 2;\n\n                // otherwise, just the actual byte\n                } else {\n                    result.push(c)\n                }\n            }\n\n            return coerceArray(result);\n        }\n\n        function fromBytes(bytes) {\n            var result = [], i = 0;\n\n            while (i < bytes.length) {\n                var c = bytes[i];\n\n                if (c < 128) {\n                    result.push(String.fromCharCode(c));\n                    i++;\n                } else if (c > 191 && c < 224) {\n                    result.push(String.fromCharCode(((c & 0x1f) << 6) | (bytes[i + 1] & 0x3f)));\n                    i += 2;\n                } else {\n                    result.push(String.fromCharCode(((c & 0x0f) << 12) | ((bytes[i + 1] & 0x3f) << 6) | (bytes[i + 2] & 0x3f)));\n                    i += 3;\n                }\n            }\n\n            return result.join('');\n        }\n\n        return {\n            toBytes: toBytes,\n            fromBytes: fromBytes,\n        }\n    })();\n\n    var convertHex = (function() {\n        function toBytes(text) {\n            var result = [];\n            for (var i = 0; i < text.length; i += 2) {\n                result.push(parseInt(text.substr(i, 2), 16));\n            }\n\n            return result;\n        }\n\n        // http://ixti.net/development/javascript/2011/11/11/base64-encodedecode-of-utf8-in-browser-with-js.html\n        var Hex = '0123456789abcdef';\n\n        function fromBytes(bytes) {\n                var result = [];\n                for (var i = 0; i < bytes.length; i++) {\n                    var v = bytes[i];\n                    result.push(Hex[(v & 0xf0) >> 4] + Hex[v & 0x0f]);\n                }\n                return result.join('');\n        }\n\n        return {\n            toBytes: toBytes,\n            fromBytes: fromBytes,\n        }\n    })();\n\n\n    // Number of rounds by keysize\n    var numberOfRounds = {16: 10, 24: 12, 32: 14}\n\n    // Round constant words\n    var rcon = [0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36, 0x6c, 0xd8, 0xab, 0x4d, 0x9a, 0x2f, 0x5e, 0xbc, 0x63, 0xc6, 0x97, 0x35, 0x6a, 0xd4, 0xb3, 0x7d, 0xfa, 0xef, 0xc5, 0x91];\n\n    // S-box and Inverse S-box (S is for Substitution)\n    var S = [0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76, 0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0, 0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15, 0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75, 0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84, 0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf, 0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8, 0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2, 0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73, 0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb, 0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79, 0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08, 0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a, 0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e, 0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf, 0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16];\n    var Si =[0x52, 0x09, 0x6a, 0xd5, 0x30, 0x36, 0xa5, 0x38, 0xbf, 0x40, 0xa3, 0x9e, 0x81, 0xf3, 0xd7, 0xfb, 0x7c, 0xe3, 0x39, 0x82, 0x9b, 0x2f, 0xff, 0x87, 0x34, 0x8e, 0x43, 0x44, 0xc4, 0xde, 0xe9, 0xcb, 0x54, 0x7b, 0x94, 0x32, 0xa6, 0xc2, 0x23, 0x3d, 0xee, 0x4c, 0x95, 0x0b, 0x42, 0xfa, 0xc3, 0x4e, 0x08, 0x2e, 0xa1, 0x66, 0x28, 0xd9, 0x24, 0xb2, 0x76, 0x5b, 0xa2, 0x49, 0x6d, 0x8b, 0xd1, 0x25, 0x72, 0xf8, 0xf6, 0x64, 0x86, 0x68, 0x98, 0x16, 0xd4, 0xa4, 0x5c, 0xcc, 0x5d, 0x65, 0xb6, 0x92, 0x6c, 0x70, 0x48, 0x50, 0xfd, 0xed, 0xb9, 0xda, 0x5e, 0x15, 0x46, 0x57, 0xa7, 0x8d, 0x9d, 0x84, 0x90, 0xd8, 0xab, 0x00, 0x8c, 0xbc, 0xd3, 0x0a, 0xf7, 0xe4, 0x58, 0x05, 0xb8, 0xb3, 0x45, 0x06, 0xd0, 0x2c, 0x1e, 0x8f, 0xca, 0x3f, 0x0f, 0x02, 0xc1, 0xaf, 0xbd, 0x03, 0x01, 0x13, 0x8a, 0x6b, 0x3a, 0x91, 0x11, 0x41, 0x4f, 0x67, 0xdc, 0xea, 0x97, 0xf2, 0xcf, 0xce, 0xf0, 0xb4, 0xe6, 0x73, 0x96, 0xac, 0x74, 0x22, 0xe7, 0xad, 0x35, 0x85, 0xe2, 0xf9, 0x37, 0xe8, 0x1c, 0x75, 0xdf, 0x6e, 0x47, 0xf1, 0x1a, 0x71, 0x1d, 0x29, 0xc5, 0x89, 0x6f, 0xb7, 0x62, 0x0e, 0xaa, 0x18, 0xbe, 0x1b, 0xfc, 0x56, 0x3e, 0x4b, 0xc6, 0xd2, 0x79, 0x20, 0x9a, 0xdb, 0xc0, 0xfe, 0x78, 0xcd, 0x5a, 0xf4, 0x1f, 0xdd, 0xa8, 0x33, 0x88, 0x07, 0xc7, 0x31, 0xb1, 0x12, 0x10, 0x59, 0x27, 0x80, 0xec, 0x5f, 0x60, 0x51, 0x7f, 0xa9, 0x19, 0xb5, 0x4a, 0x0d, 0x2d, 0xe5, 0x7a, 0x9f, 0x93, 0xc9, 0x9c, 0xef, 0xa0, 0xe0, 0x3b, 0x4d, 0xae, 0x2a, 0xf5, 0xb0, 0xc8, 0xeb, 0xbb, 0x3c, 0x83, 0x53, 0x99, 0x61, 0x17, 0x2b, 0x04, 0x7e, 0xba, 0x77, 0xd6, 0x26, 0xe1, 0x69, 0x14, 0x63, 0x55, 0x21, 0x0c, 0x7d];\n\n    // Transformations for encryption\n    var T1 = [0xc66363a5, 0xf87c7c84, 0xee777799, 0xf67b7b8d, 0xfff2f20d, 0xd66b6bbd, 0xde6f6fb1, 0x91c5c554, 0x60303050, 0x02010103, 0xce6767a9, 0x562b2b7d, 0xe7fefe19, 0xb5d7d762, 0x4dababe6, 0xec76769a, 0x8fcaca45, 0x1f82829d, 0x89c9c940, 0xfa7d7d87, 0xeffafa15, 0xb25959eb, 0x8e4747c9, 0xfbf0f00b, 0x41adadec, 0xb3d4d467, 0x5fa2a2fd, 0x45afafea, 0x239c9cbf, 0x53a4a4f7, 0xe4727296, 0x9bc0c05b, 0x75b7b7c2, 0xe1fdfd1c, 0x3d9393ae, 0x4c26266a, 0x6c36365a, 0x7e3f3f41, 0xf5f7f702, 0x83cccc4f, 0x6834345c, 0x51a5a5f4, 0xd1e5e534, 0xf9f1f108, 0xe2717193, 0xabd8d873, 0x62313153, 0x2a15153f, 0x0804040c, 0x95c7c752, 0x46232365, 0x9dc3c35e, 0x30181828, 0x379696a1, 0x0a05050f, 0x2f9a9ab5, 0x0e070709, 0x24121236, 0x1b80809b, 0xdfe2e23d, 0xcdebeb26, 0x4e272769, 0x7fb2b2cd, 0xea75759f, 0x1209091b, 0x1d83839e, 0x582c2c74, 0x341a1a2e, 0x361b1b2d, 0xdc6e6eb2, 0xb45a5aee, 0x5ba0a0fb, 0xa45252f6, 0x763b3b4d, 0xb7d6d661, 0x7db3b3ce, 0x5229297b, 0xdde3e33e, 0x5e2f2f71, 0x13848497, 0xa65353f5, 0xb9d1d168, 0x00000000, 0xc1eded2c, 0x40202060, 0xe3fcfc1f, 0x79b1b1c8, 0xb65b5bed, 0xd46a6abe, 0x8dcbcb46, 0x67bebed9, 0x7239394b, 0x944a4ade, 0x984c4cd4, 0xb05858e8, 0x85cfcf4a, 0xbbd0d06b, 0xc5efef2a, 0x4faaaae5, 0xedfbfb16, 0x864343c5, 0x9a4d4dd7, 0x66333355, 0x11858594, 0x8a4545cf, 0xe9f9f910, 0x04020206, 0xfe7f7f81, 0xa05050f0, 0x783c3c44, 0x259f9fba, 0x4ba8a8e3, 0xa25151f3, 0x5da3a3fe, 0x804040c0, 0x058f8f8a, 0x3f9292ad, 0x219d9dbc, 0x70383848, 0xf1f5f504, 0x63bcbcdf, 0x77b6b6c1, 0xafdada75, 0x42212163, 0x20101030, 0xe5ffff1a, 0xfdf3f30e, 0xbfd2d26d, 0x81cdcd4c, 0x180c0c14, 0x26131335, 0xc3ecec2f, 0xbe5f5fe1, 0x359797a2, 0x884444cc, 0x2e171739, 0x93c4c457, 0x55a7a7f2, 0xfc7e7e82, 0x7a3d3d47, 0xc86464ac, 0xba5d5de7, 0x3219192b, 0xe6737395, 0xc06060a0, 0x19818198, 0x9e4f4fd1, 0xa3dcdc7f, 0x44222266, 0x542a2a7e, 0x3b9090ab, 0x0b888883, 0x8c4646ca, 0xc7eeee29, 0x6bb8b8d3, 0x2814143c, 0xa7dede79, 0xbc5e5ee2, 0x160b0b1d, 0xaddbdb76, 0xdbe0e03b, 0x64323256, 0x743a3a4e, 0x140a0a1e, 0x924949db, 0x0c06060a, 0x4824246c, 0xb85c5ce4, 0x9fc2c25d, 0xbdd3d36e, 0x43acacef, 0xc46262a6, 0x399191a8, 0x319595a4, 0xd3e4e437, 0xf279798b, 0xd5e7e732, 0x8bc8c843, 0x6e373759, 0xda6d6db7, 0x018d8d8c, 0xb1d5d564, 0x9c4e4ed2, 0x49a9a9e0, 0xd86c6cb4, 0xac5656fa, 0xf3f4f407, 0xcfeaea25, 0xca6565af, 0xf47a7a8e, 0x47aeaee9, 0x10080818, 0x6fbabad5, 0xf0787888, 0x4a25256f, 0x5c2e2e72, 0x381c1c24, 0x57a6a6f1, 0x73b4b4c7, 0x97c6c651, 0xcbe8e823, 0xa1dddd7c, 0xe874749c, 0x3e1f1f21, 0x964b4bdd, 0x61bdbddc, 0x0d8b8b86, 0x0f8a8a85, 0xe0707090, 0x7c3e3e42, 0x71b5b5c4, 0xcc6666aa, 0x904848d8, 0x06030305, 0xf7f6f601, 0x1c0e0e12, 0xc26161a3, 0x6a35355f, 0xae5757f9, 0x69b9b9d0, 0x17868691, 0x99c1c158, 0x3a1d1d27, 0x279e9eb9, 0xd9e1e138, 0xebf8f813, 0x2b9898b3, 0x22111133, 0xd26969bb, 0xa9d9d970, 0x078e8e89, 0x339494a7, 0x2d9b9bb6, 0x3c1e1e22, 0x15878792, 0xc9e9e920, 0x87cece49, 0xaa5555ff, 0x50282878, 0xa5dfdf7a, 0x038c8c8f, 0x59a1a1f8, 0x09898980, 0x1a0d0d17, 0x65bfbfda, 0xd7e6e631, 0x844242c6, 0xd06868b8, 0x824141c3, 0x299999b0, 0x5a2d2d77, 0x1e0f0f11, 0x7bb0b0cb, 0xa85454fc, 0x6dbbbbd6, 0x2c16163a];\n    var T2 = [0xa5c66363, 0x84f87c7c, 0x99ee7777, 0x8df67b7b, 0x0dfff2f2, 0xbdd66b6b, 0xb1de6f6f, 0x5491c5c5, 0x50603030, 0x03020101, 0xa9ce6767, 0x7d562b2b, 0x19e7fefe, 0x62b5d7d7, 0xe64dabab, 0x9aec7676, 0x458fcaca, 0x9d1f8282, 0x4089c9c9, 0x87fa7d7d, 0x15effafa, 0xebb25959, 0xc98e4747, 0x0bfbf0f0, 0xec41adad, 0x67b3d4d4, 0xfd5fa2a2, 0xea45afaf, 0xbf239c9c, 0xf753a4a4, 0x96e47272, 0x5b9bc0c0, 0xc275b7b7, 0x1ce1fdfd, 0xae3d9393, 0x6a4c2626, 0x5a6c3636, 0x417e3f3f, 0x02f5f7f7, 0x4f83cccc, 0x5c683434, 0xf451a5a5, 0x34d1e5e5, 0x08f9f1f1, 0x93e27171, 0x73abd8d8, 0x53623131, 0x3f2a1515, 0x0c080404, 0x5295c7c7, 0x65462323, 0x5e9dc3c3, 0x28301818, 0xa1379696, 0x0f0a0505, 0xb52f9a9a, 0x090e0707, 0x36241212, 0x9b1b8080, 0x3ddfe2e2, 0x26cdebeb, 0x694e2727, 0xcd7fb2b2, 0x9fea7575, 0x1b120909, 0x9e1d8383, 0x74582c2c, 0x2e341a1a, 0x2d361b1b, 0xb2dc6e6e, 0xeeb45a5a, 0xfb5ba0a0, 0xf6a45252, 0x4d763b3b, 0x61b7d6d6, 0xce7db3b3, 0x7b522929, 0x3edde3e3, 0x715e2f2f, 0x97138484, 0xf5a65353, 0x68b9d1d1, 0x00000000, 0x2cc1eded, 0x60402020, 0x1fe3fcfc, 0xc879b1b1, 0xedb65b5b, 0xbed46a6a, 0x468dcbcb, 0xd967bebe, 0x4b723939, 0xde944a4a, 0xd4984c4c, 0xe8b05858, 0x4a85cfcf, 0x6bbbd0d0, 0x2ac5efef, 0xe54faaaa, 0x16edfbfb, 0xc5864343, 0xd79a4d4d, 0x55663333, 0x94118585, 0xcf8a4545, 0x10e9f9f9, 0x06040202, 0x81fe7f7f, 0xf0a05050, 0x44783c3c, 0xba259f9f, 0xe34ba8a8, 0xf3a25151, 0xfe5da3a3, 0xc0804040, 0x8a058f8f, 0xad3f9292, 0xbc219d9d, 0x48703838, 0x04f1f5f5, 0xdf63bcbc, 0xc177b6b6, 0x75afdada, 0x63422121, 0x30201010, 0x1ae5ffff, 0x0efdf3f3, 0x6dbfd2d2, 0x4c81cdcd, 0x14180c0c, 0x35261313, 0x2fc3ecec, 0xe1be5f5f, 0xa2359797, 0xcc884444, 0x392e1717, 0x5793c4c4, 0xf255a7a7, 0x82fc7e7e, 0x477a3d3d, 0xacc86464, 0xe7ba5d5d, 0x2b321919, 0x95e67373, 0xa0c06060, 0x98198181, 0xd19e4f4f, 0x7fa3dcdc, 0x66442222, 0x7e542a2a, 0xab3b9090, 0x830b8888, 0xca8c4646, 0x29c7eeee, 0xd36bb8b8, 0x3c281414, 0x79a7dede, 0xe2bc5e5e, 0x1d160b0b, 0x76addbdb, 0x3bdbe0e0, 0x56643232, 0x4e743a3a, 0x1e140a0a, 0xdb924949, 0x0a0c0606, 0x6c482424, 0xe4b85c5c, 0x5d9fc2c2, 0x6ebdd3d3, 0xef43acac, 0xa6c46262, 0xa8399191, 0xa4319595, 0x37d3e4e4, 0x8bf27979, 0x32d5e7e7, 0x438bc8c8, 0x596e3737, 0xb7da6d6d, 0x8c018d8d, 0x64b1d5d5, 0xd29c4e4e, 0xe049a9a9, 0xb4d86c6c, 0xfaac5656, 0x07f3f4f4, 0x25cfeaea, 0xafca6565, 0x8ef47a7a, 0xe947aeae, 0x18100808, 0xd56fbaba, 0x88f07878, 0x6f4a2525, 0x725c2e2e, 0x24381c1c, 0xf157a6a6, 0xc773b4b4, 0x5197c6c6, 0x23cbe8e8, 0x7ca1dddd, 0x9ce87474, 0x213e1f1f, 0xdd964b4b, 0xdc61bdbd, 0x860d8b8b, 0x850f8a8a, 0x90e07070, 0x427c3e3e, 0xc471b5b5, 0xaacc6666, 0xd8904848, 0x05060303, 0x01f7f6f6, 0x121c0e0e, 0xa3c26161, 0x5f6a3535, 0xf9ae5757, 0xd069b9b9, 0x91178686, 0x5899c1c1, 0x273a1d1d, 0xb9279e9e, 0x38d9e1e1, 0x13ebf8f8, 0xb32b9898, 0x33221111, 0xbbd26969, 0x70a9d9d9, 0x89078e8e, 0xa7339494, 0xb62d9b9b, 0x223c1e1e, 0x92158787, 0x20c9e9e9, 0x4987cece, 0xffaa5555, 0x78502828, 0x7aa5dfdf, 0x8f038c8c, 0xf859a1a1, 0x80098989, 0x171a0d0d, 0xda65bfbf, 0x31d7e6e6, 0xc6844242, 0xb8d06868, 0xc3824141, 0xb0299999, 0x775a2d2d, 0x111e0f0f, 0xcb7bb0b0, 0xfca85454, 0xd66dbbbb, 0x3a2c1616];\n    var T3 = [0x63a5c663, 0x7c84f87c, 0x7799ee77, 0x7b8df67b, 0xf20dfff2, 0x6bbdd66b, 0x6fb1de6f, 0xc55491c5, 0x30506030, 0x01030201, 0x67a9ce67, 0x2b7d562b, 0xfe19e7fe, 0xd762b5d7, 0xabe64dab, 0x769aec76, 0xca458fca, 0x829d1f82, 0xc94089c9, 0x7d87fa7d, 0xfa15effa, 0x59ebb259, 0x47c98e47, 0xf00bfbf0, 0xadec41ad, 0xd467b3d4, 0xa2fd5fa2, 0xafea45af, 0x9cbf239c, 0xa4f753a4, 0x7296e472, 0xc05b9bc0, 0xb7c275b7, 0xfd1ce1fd, 0x93ae3d93, 0x266a4c26, 0x365a6c36, 0x3f417e3f, 0xf702f5f7, 0xcc4f83cc, 0x345c6834, 0xa5f451a5, 0xe534d1e5, 0xf108f9f1, 0x7193e271, 0xd873abd8, 0x31536231, 0x153f2a15, 0x040c0804, 0xc75295c7, 0x23654623, 0xc35e9dc3, 0x18283018, 0x96a13796, 0x050f0a05, 0x9ab52f9a, 0x07090e07, 0x12362412, 0x809b1b80, 0xe23ddfe2, 0xeb26cdeb, 0x27694e27, 0xb2cd7fb2, 0x759fea75, 0x091b1209, 0x839e1d83, 0x2c74582c, 0x1a2e341a, 0x1b2d361b, 0x6eb2dc6e, 0x5aeeb45a, 0xa0fb5ba0, 0x52f6a452, 0x3b4d763b, 0xd661b7d6, 0xb3ce7db3, 0x297b5229, 0xe33edde3, 0x2f715e2f, 0x84971384, 0x53f5a653, 0xd168b9d1, 0x00000000, 0xed2cc1ed, 0x20604020, 0xfc1fe3fc, 0xb1c879b1, 0x5bedb65b, 0x6abed46a, 0xcb468dcb, 0xbed967be, 0x394b7239, 0x4ade944a, 0x4cd4984c, 0x58e8b058, 0xcf4a85cf, 0xd06bbbd0, 0xef2ac5ef, 0xaae54faa, 0xfb16edfb, 0x43c58643, 0x4dd79a4d, 0x33556633, 0x85941185, 0x45cf8a45, 0xf910e9f9, 0x02060402, 0x7f81fe7f, 0x50f0a050, 0x3c44783c, 0x9fba259f, 0xa8e34ba8, 0x51f3a251, 0xa3fe5da3, 0x40c08040, 0x8f8a058f, 0x92ad3f92, 0x9dbc219d, 0x38487038, 0xf504f1f5, 0xbcdf63bc, 0xb6c177b6, 0xda75afda, 0x21634221, 0x10302010, 0xff1ae5ff, 0xf30efdf3, 0xd26dbfd2, 0xcd4c81cd, 0x0c14180c, 0x13352613, 0xec2fc3ec, 0x5fe1be5f, 0x97a23597, 0x44cc8844, 0x17392e17, 0xc45793c4, 0xa7f255a7, 0x7e82fc7e, 0x3d477a3d, 0x64acc864, 0x5de7ba5d, 0x192b3219, 0x7395e673, 0x60a0c060, 0x81981981, 0x4fd19e4f, 0xdc7fa3dc, 0x22664422, 0x2a7e542a, 0x90ab3b90, 0x88830b88, 0x46ca8c46, 0xee29c7ee, 0xb8d36bb8, 0x143c2814, 0xde79a7de, 0x5ee2bc5e, 0x0b1d160b, 0xdb76addb, 0xe03bdbe0, 0x32566432, 0x3a4e743a, 0x0a1e140a, 0x49db9249, 0x060a0c06, 0x246c4824, 0x5ce4b85c, 0xc25d9fc2, 0xd36ebdd3, 0xacef43ac, 0x62a6c462, 0x91a83991, 0x95a43195, 0xe437d3e4, 0x798bf279, 0xe732d5e7, 0xc8438bc8, 0x37596e37, 0x6db7da6d, 0x8d8c018d, 0xd564b1d5, 0x4ed29c4e, 0xa9e049a9, 0x6cb4d86c, 0x56faac56, 0xf407f3f4, 0xea25cfea, 0x65afca65, 0x7a8ef47a, 0xaee947ae, 0x08181008, 0xbad56fba, 0x7888f078, 0x256f4a25, 0x2e725c2e, 0x1c24381c, 0xa6f157a6, 0xb4c773b4, 0xc65197c6, 0xe823cbe8, 0xdd7ca1dd, 0x749ce874, 0x1f213e1f, 0x4bdd964b, 0xbddc61bd, 0x8b860d8b, 0x8a850f8a, 0x7090e070, 0x3e427c3e, 0xb5c471b5, 0x66aacc66, 0x48d89048, 0x03050603, 0xf601f7f6, 0x0e121c0e, 0x61a3c261, 0x355f6a35, 0x57f9ae57, 0xb9d069b9, 0x86911786, 0xc15899c1, 0x1d273a1d, 0x9eb9279e, 0xe138d9e1, 0xf813ebf8, 0x98b32b98, 0x11332211, 0x69bbd269, 0xd970a9d9, 0x8e89078e, 0x94a73394, 0x9bb62d9b, 0x1e223c1e, 0x87921587, 0xe920c9e9, 0xce4987ce, 0x55ffaa55, 0x28785028, 0xdf7aa5df, 0x8c8f038c, 0xa1f859a1, 0x89800989, 0x0d171a0d, 0xbfda65bf, 0xe631d7e6, 0x42c68442, 0x68b8d068, 0x41c38241, 0x99b02999, 0x2d775a2d, 0x0f111e0f, 0xb0cb7bb0, 0x54fca854, 0xbbd66dbb, 0x163a2c16];\n    var T4 = [0x6363a5c6, 0x7c7c84f8, 0x777799ee, 0x7b7b8df6, 0xf2f20dff, 0x6b6bbdd6, 0x6f6fb1de, 0xc5c55491, 0x30305060, 0x01010302, 0x6767a9ce, 0x2b2b7d56, 0xfefe19e7, 0xd7d762b5, 0xababe64d, 0x76769aec, 0xcaca458f, 0x82829d1f, 0xc9c94089, 0x7d7d87fa, 0xfafa15ef, 0x5959ebb2, 0x4747c98e, 0xf0f00bfb, 0xadadec41, 0xd4d467b3, 0xa2a2fd5f, 0xafafea45, 0x9c9cbf23, 0xa4a4f753, 0x727296e4, 0xc0c05b9b, 0xb7b7c275, 0xfdfd1ce1, 0x9393ae3d, 0x26266a4c, 0x36365a6c, 0x3f3f417e, 0xf7f702f5, 0xcccc4f83, 0x34345c68, 0xa5a5f451, 0xe5e534d1, 0xf1f108f9, 0x717193e2, 0xd8d873ab, 0x31315362, 0x15153f2a, 0x04040c08, 0xc7c75295, 0x23236546, 0xc3c35e9d, 0x18182830, 0x9696a137, 0x05050f0a, 0x9a9ab52f, 0x0707090e, 0x12123624, 0x80809b1b, 0xe2e23ddf, 0xebeb26cd, 0x2727694e, 0xb2b2cd7f, 0x75759fea, 0x09091b12, 0x83839e1d, 0x2c2c7458, 0x1a1a2e34, 0x1b1b2d36, 0x6e6eb2dc, 0x5a5aeeb4, 0xa0a0fb5b, 0x5252f6a4, 0x3b3b4d76, 0xd6d661b7, 0xb3b3ce7d, 0x29297b52, 0xe3e33edd, 0x2f2f715e, 0x84849713, 0x5353f5a6, 0xd1d168b9, 0x00000000, 0xeded2cc1, 0x20206040, 0xfcfc1fe3, 0xb1b1c879, 0x5b5bedb6, 0x6a6abed4, 0xcbcb468d, 0xbebed967, 0x39394b72, 0x4a4ade94, 0x4c4cd498, 0x5858e8b0, 0xcfcf4a85, 0xd0d06bbb, 0xefef2ac5, 0xaaaae54f, 0xfbfb16ed, 0x4343c586, 0x4d4dd79a, 0x33335566, 0x85859411, 0x4545cf8a, 0xf9f910e9, 0x02020604, 0x7f7f81fe, 0x5050f0a0, 0x3c3c4478, 0x9f9fba25, 0xa8a8e34b, 0x5151f3a2, 0xa3a3fe5d, 0x4040c080, 0x8f8f8a05, 0x9292ad3f, 0x9d9dbc21, 0x38384870, 0xf5f504f1, 0xbcbcdf63, 0xb6b6c177, 0xdada75af, 0x21216342, 0x10103020, 0xffff1ae5, 0xf3f30efd, 0xd2d26dbf, 0xcdcd4c81, 0x0c0c1418, 0x13133526, 0xecec2fc3, 0x5f5fe1be, 0x9797a235, 0x4444cc88, 0x1717392e, 0xc4c45793, 0xa7a7f255, 0x7e7e82fc, 0x3d3d477a, 0x6464acc8, 0x5d5de7ba, 0x19192b32, 0x737395e6, 0x6060a0c0, 0x81819819, 0x4f4fd19e, 0xdcdc7fa3, 0x22226644, 0x2a2a7e54, 0x9090ab3b, 0x8888830b, 0x4646ca8c, 0xeeee29c7, 0xb8b8d36b, 0x14143c28, 0xdede79a7, 0x5e5ee2bc, 0x0b0b1d16, 0xdbdb76ad, 0xe0e03bdb, 0x32325664, 0x3a3a4e74, 0x0a0a1e14, 0x4949db92, 0x06060a0c, 0x24246c48, 0x5c5ce4b8, 0xc2c25d9f, 0xd3d36ebd, 0xacacef43, 0x6262a6c4, 0x9191a839, 0x9595a431, 0xe4e437d3, 0x79798bf2, 0xe7e732d5, 0xc8c8438b, 0x3737596e, 0x6d6db7da, 0x8d8d8c01, 0xd5d564b1, 0x4e4ed29c, 0xa9a9e049, 0x6c6cb4d8, 0x5656faac, 0xf4f407f3, 0xeaea25cf, 0x6565afca, 0x7a7a8ef4, 0xaeaee947, 0x08081810, 0xbabad56f, 0x787888f0, 0x25256f4a, 0x2e2e725c, 0x1c1c2438, 0xa6a6f157, 0xb4b4c773, 0xc6c65197, 0xe8e823cb, 0xdddd7ca1, 0x74749ce8, 0x1f1f213e, 0x4b4bdd96, 0xbdbddc61, 0x8b8b860d, 0x8a8a850f, 0x707090e0, 0x3e3e427c, 0xb5b5c471, 0x6666aacc, 0x4848d890, 0x03030506, 0xf6f601f7, 0x0e0e121c, 0x6161a3c2, 0x35355f6a, 0x5757f9ae, 0xb9b9d069, 0x86869117, 0xc1c15899, 0x1d1d273a, 0x9e9eb927, 0xe1e138d9, 0xf8f813eb, 0x9898b32b, 0x11113322, 0x6969bbd2, 0xd9d970a9, 0x8e8e8907, 0x9494a733, 0x9b9bb62d, 0x1e1e223c, 0x87879215, 0xe9e920c9, 0xcece4987, 0x5555ffaa, 0x28287850, 0xdfdf7aa5, 0x8c8c8f03, 0xa1a1f859, 0x89898009, 0x0d0d171a, 0xbfbfda65, 0xe6e631d7, 0x4242c684, 0x6868b8d0, 0x4141c382, 0x9999b029, 0x2d2d775a, 0x0f0f111e, 0xb0b0cb7b, 0x5454fca8, 0xbbbbd66d, 0x16163a2c];\n\n    // Transformations for decryption\n    var T5 = [0x51f4a750, 0x7e416553, 0x1a17a4c3, 0x3a275e96, 0x3bab6bcb, 0x1f9d45f1, 0xacfa58ab, 0x4be30393, 0x2030fa55, 0xad766df6, 0x88cc7691, 0xf5024c25, 0x4fe5d7fc, 0xc52acbd7, 0x26354480, 0xb562a38f, 0xdeb15a49, 0x25ba1b67, 0x45ea0e98, 0x5dfec0e1, 0xc32f7502, 0x814cf012, 0x8d4697a3, 0x6bd3f9c6, 0x038f5fe7, 0x15929c95, 0xbf6d7aeb, 0x955259da, 0xd4be832d, 0x587421d3, 0x49e06929, 0x8ec9c844, 0x75c2896a, 0xf48e7978, 0x99583e6b, 0x27b971dd, 0xbee14fb6, 0xf088ad17, 0xc920ac66, 0x7dce3ab4, 0x63df4a18, 0xe51a3182, 0x97513360, 0x62537f45, 0xb16477e0, 0xbb6bae84, 0xfe81a01c, 0xf9082b94, 0x70486858, 0x8f45fd19, 0x94de6c87, 0x527bf8b7, 0xab73d323, 0x724b02e2, 0xe31f8f57, 0x6655ab2a, 0xb2eb2807, 0x2fb5c203, 0x86c57b9a, 0xd33708a5, 0x302887f2, 0x23bfa5b2, 0x02036aba, 0xed16825c, 0x8acf1c2b, 0xa779b492, 0xf307f2f0, 0x4e69e2a1, 0x65daf4cd, 0x0605bed5, 0xd134621f, 0xc4a6fe8a, 0x342e539d, 0xa2f355a0, 0x058ae132, 0xa4f6eb75, 0x0b83ec39, 0x4060efaa, 0x5e719f06, 0xbd6e1051, 0x3e218af9, 0x96dd063d, 0xdd3e05ae, 0x4de6bd46, 0x91548db5, 0x71c45d05, 0x0406d46f, 0x605015ff, 0x1998fb24, 0xd6bde997, 0x894043cc, 0x67d99e77, 0xb0e842bd, 0x07898b88, 0xe7195b38, 0x79c8eedb, 0xa17c0a47, 0x7c420fe9, 0xf8841ec9, 0x00000000, 0x09808683, 0x322bed48, 0x1e1170ac, 0x6c5a724e, 0xfd0efffb, 0x0f853856, 0x3daed51e, 0x362d3927, 0x0a0fd964, 0x685ca621, 0x9b5b54d1, 0x24362e3a, 0x0c0a67b1, 0x9357e70f, 0xb4ee96d2, 0x1b9b919e, 0x80c0c54f, 0x61dc20a2, 0x5a774b69, 0x1c121a16, 0xe293ba0a, 0xc0a02ae5, 0x3c22e043, 0x121b171d, 0x0e090d0b, 0xf28bc7ad, 0x2db6a8b9, 0x141ea9c8, 0x57f11985, 0xaf75074c, 0xee99ddbb, 0xa37f60fd, 0xf701269f, 0x5c72f5bc, 0x44663bc5, 0x5bfb7e34, 0x8b432976, 0xcb23c6dc, 0xb6edfc68, 0xb8e4f163, 0xd731dcca, 0x42638510, 0x13972240, 0x84c61120, 0x854a247d, 0xd2bb3df8, 0xaef93211, 0xc729a16d, 0x1d9e2f4b, 0xdcb230f3, 0x0d8652ec, 0x77c1e3d0, 0x2bb3166c, 0xa970b999, 0x119448fa, 0x47e96422, 0xa8fc8cc4, 0xa0f03f1a, 0x567d2cd8, 0x223390ef, 0x87494ec7, 0xd938d1c1, 0x8ccaa2fe, 0x98d40b36, 0xa6f581cf, 0xa57ade28, 0xdab78e26, 0x3fadbfa4, 0x2c3a9de4, 0x5078920d, 0x6a5fcc9b, 0x547e4662, 0xf68d13c2, 0x90d8b8e8, 0x2e39f75e, 0x82c3aff5, 0x9f5d80be, 0x69d0937c, 0x6fd52da9, 0xcf2512b3, 0xc8ac993b, 0x10187da7, 0xe89c636e, 0xdb3bbb7b, 0xcd267809, 0x6e5918f4, 0xec9ab701, 0x834f9aa8, 0xe6956e65, 0xaaffe67e, 0x21bccf08, 0xef15e8e6, 0xbae79bd9, 0x4a6f36ce, 0xea9f09d4, 0x29b07cd6, 0x31a4b2af, 0x2a3f2331, 0xc6a59430, 0x35a266c0, 0x744ebc37, 0xfc82caa6, 0xe090d0b0, 0x33a7d815, 0xf104984a, 0x41ecdaf7, 0x7fcd500e, 0x1791f62f, 0x764dd68d, 0x43efb04d, 0xccaa4d54, 0xe49604df, 0x9ed1b5e3, 0x4c6a881b, 0xc12c1fb8, 0x4665517f, 0x9d5eea04, 0x018c355d, 0xfa877473, 0xfb0b412e, 0xb3671d5a, 0x92dbd252, 0xe9105633, 0x6dd64713, 0x9ad7618c, 0x37a10c7a, 0x59f8148e, 0xeb133c89, 0xcea927ee, 0xb761c935, 0xe11ce5ed, 0x7a47b13c, 0x9cd2df59, 0x55f2733f, 0x1814ce79, 0x73c737bf, 0x53f7cdea, 0x5ffdaa5b, 0xdf3d6f14, 0x7844db86, 0xcaaff381, 0xb968c43e, 0x3824342c, 0xc2a3405f, 0x161dc372, 0xbce2250c, 0x283c498b, 0xff0d9541, 0x39a80171, 0x080cb3de, 0xd8b4e49c, 0x6456c190, 0x7bcb8461, 0xd532b670, 0x486c5c74, 0xd0b85742];\n    var T6 = [0x5051f4a7, 0x537e4165, 0xc31a17a4, 0x963a275e, 0xcb3bab6b, 0xf11f9d45, 0xabacfa58, 0x934be303, 0x552030fa, 0xf6ad766d, 0x9188cc76, 0x25f5024c, 0xfc4fe5d7, 0xd7c52acb, 0x80263544, 0x8fb562a3, 0x49deb15a, 0x6725ba1b, 0x9845ea0e, 0xe15dfec0, 0x02c32f75, 0x12814cf0, 0xa38d4697, 0xc66bd3f9, 0xe7038f5f, 0x9515929c, 0xebbf6d7a, 0xda955259, 0x2dd4be83, 0xd3587421, 0x2949e069, 0x448ec9c8, 0x6a75c289, 0x78f48e79, 0x6b99583e, 0xdd27b971, 0xb6bee14f, 0x17f088ad, 0x66c920ac, 0xb47dce3a, 0x1863df4a, 0x82e51a31, 0x60975133, 0x4562537f, 0xe0b16477, 0x84bb6bae, 0x1cfe81a0, 0x94f9082b, 0x58704868, 0x198f45fd, 0x8794de6c, 0xb7527bf8, 0x23ab73d3, 0xe2724b02, 0x57e31f8f, 0x2a6655ab, 0x07b2eb28, 0x032fb5c2, 0x9a86c57b, 0xa5d33708, 0xf2302887, 0xb223bfa5, 0xba02036a, 0x5ced1682, 0x2b8acf1c, 0x92a779b4, 0xf0f307f2, 0xa14e69e2, 0xcd65daf4, 0xd50605be, 0x1fd13462, 0x8ac4a6fe, 0x9d342e53, 0xa0a2f355, 0x32058ae1, 0x75a4f6eb, 0x390b83ec, 0xaa4060ef, 0x065e719f, 0x51bd6e10, 0xf93e218a, 0x3d96dd06, 0xaedd3e05, 0x464de6bd, 0xb591548d, 0x0571c45d, 0x6f0406d4, 0xff605015, 0x241998fb, 0x97d6bde9, 0xcc894043, 0x7767d99e, 0xbdb0e842, 0x8807898b, 0x38e7195b, 0xdb79c8ee, 0x47a17c0a, 0xe97c420f, 0xc9f8841e, 0x00000000, 0x83098086, 0x48322bed, 0xac1e1170, 0x4e6c5a72, 0xfbfd0eff, 0x560f8538, 0x1e3daed5, 0x27362d39, 0x640a0fd9, 0x21685ca6, 0xd19b5b54, 0x3a24362e, 0xb10c0a67, 0x0f9357e7, 0xd2b4ee96, 0x9e1b9b91, 0x4f80c0c5, 0xa261dc20, 0x695a774b, 0x161c121a, 0x0ae293ba, 0xe5c0a02a, 0x433c22e0, 0x1d121b17, 0x0b0e090d, 0xadf28bc7, 0xb92db6a8, 0xc8141ea9, 0x8557f119, 0x4caf7507, 0xbbee99dd, 0xfda37f60, 0x9ff70126, 0xbc5c72f5, 0xc544663b, 0x345bfb7e, 0x768b4329, 0xdccb23c6, 0x68b6edfc, 0x63b8e4f1, 0xcad731dc, 0x10426385, 0x40139722, 0x2084c611, 0x7d854a24, 0xf8d2bb3d, 0x11aef932, 0x6dc729a1, 0x4b1d9e2f, 0xf3dcb230, 0xec0d8652, 0xd077c1e3, 0x6c2bb316, 0x99a970b9, 0xfa119448, 0x2247e964, 0xc4a8fc8c, 0x1aa0f03f, 0xd8567d2c, 0xef223390, 0xc787494e, 0xc1d938d1, 0xfe8ccaa2, 0x3698d40b, 0xcfa6f581, 0x28a57ade, 0x26dab78e, 0xa43fadbf, 0xe42c3a9d, 0x0d507892, 0x9b6a5fcc, 0x62547e46, 0xc2f68d13, 0xe890d8b8, 0x5e2e39f7, 0xf582c3af, 0xbe9f5d80, 0x7c69d093, 0xa96fd52d, 0xb3cf2512, 0x3bc8ac99, 0xa710187d, 0x6ee89c63, 0x7bdb3bbb, 0x09cd2678, 0xf46e5918, 0x01ec9ab7, 0xa8834f9a, 0x65e6956e, 0x7eaaffe6, 0x0821bccf, 0xe6ef15e8, 0xd9bae79b, 0xce4a6f36, 0xd4ea9f09, 0xd629b07c, 0xaf31a4b2, 0x312a3f23, 0x30c6a594, 0xc035a266, 0x37744ebc, 0xa6fc82ca, 0xb0e090d0, 0x1533a7d8, 0x4af10498, 0xf741ecda, 0x0e7fcd50, 0x2f1791f6, 0x8d764dd6, 0x4d43efb0, 0x54ccaa4d, 0xdfe49604, 0xe39ed1b5, 0x1b4c6a88, 0xb8c12c1f, 0x7f466551, 0x049d5eea, 0x5d018c35, 0x73fa8774, 0x2efb0b41, 0x5ab3671d, 0x5292dbd2, 0x33e91056, 0x136dd647, 0x8c9ad761, 0x7a37a10c, 0x8e59f814, 0x89eb133c, 0xeecea927, 0x35b761c9, 0xede11ce5, 0x3c7a47b1, 0x599cd2df, 0x3f55f273, 0x791814ce, 0xbf73c737, 0xea53f7cd, 0x5b5ffdaa, 0x14df3d6f, 0x867844db, 0x81caaff3, 0x3eb968c4, 0x2c382434, 0x5fc2a340, 0x72161dc3, 0x0cbce225, 0x8b283c49, 0x41ff0d95, 0x7139a801, 0xde080cb3, 0x9cd8b4e4, 0x906456c1, 0x617bcb84, 0x70d532b6, 0x74486c5c, 0x42d0b857];\n    var T7 = [0xa75051f4, 0x65537e41, 0xa4c31a17, 0x5e963a27, 0x6bcb3bab, 0x45f11f9d, 0x58abacfa, 0x03934be3, 0xfa552030, 0x6df6ad76, 0x769188cc, 0x4c25f502, 0xd7fc4fe5, 0xcbd7c52a, 0x44802635, 0xa38fb562, 0x5a49deb1, 0x1b6725ba, 0x0e9845ea, 0xc0e15dfe, 0x7502c32f, 0xf012814c, 0x97a38d46, 0xf9c66bd3, 0x5fe7038f, 0x9c951592, 0x7aebbf6d, 0x59da9552, 0x832dd4be, 0x21d35874, 0x692949e0, 0xc8448ec9, 0x896a75c2, 0x7978f48e, 0x3e6b9958, 0x71dd27b9, 0x4fb6bee1, 0xad17f088, 0xac66c920, 0x3ab47dce, 0x4a1863df, 0x3182e51a, 0x33609751, 0x7f456253, 0x77e0b164, 0xae84bb6b, 0xa01cfe81, 0x2b94f908, 0x68587048, 0xfd198f45, 0x6c8794de, 0xf8b7527b, 0xd323ab73, 0x02e2724b, 0x8f57e31f, 0xab2a6655, 0x2807b2eb, 0xc2032fb5, 0x7b9a86c5, 0x08a5d337, 0x87f23028, 0xa5b223bf, 0x6aba0203, 0x825ced16, 0x1c2b8acf, 0xb492a779, 0xf2f0f307, 0xe2a14e69, 0xf4cd65da, 0xbed50605, 0x621fd134, 0xfe8ac4a6, 0x539d342e, 0x55a0a2f3, 0xe132058a, 0xeb75a4f6, 0xec390b83, 0xefaa4060, 0x9f065e71, 0x1051bd6e, 0x8af93e21, 0x063d96dd, 0x05aedd3e, 0xbd464de6, 0x8db59154, 0x5d0571c4, 0xd46f0406, 0x15ff6050, 0xfb241998, 0xe997d6bd, 0x43cc8940, 0x9e7767d9, 0x42bdb0e8, 0x8b880789, 0x5b38e719, 0xeedb79c8, 0x0a47a17c, 0x0fe97c42, 0x1ec9f884, 0x00000000, 0x86830980, 0xed48322b, 0x70ac1e11, 0x724e6c5a, 0xfffbfd0e, 0x38560f85, 0xd51e3dae, 0x3927362d, 0xd9640a0f, 0xa621685c, 0x54d19b5b, 0x2e3a2436, 0x67b10c0a, 0xe70f9357, 0x96d2b4ee, 0x919e1b9b, 0xc54f80c0, 0x20a261dc, 0x4b695a77, 0x1a161c12, 0xba0ae293, 0x2ae5c0a0, 0xe0433c22, 0x171d121b, 0x0d0b0e09, 0xc7adf28b, 0xa8b92db6, 0xa9c8141e, 0x198557f1, 0x074caf75, 0xddbbee99, 0x60fda37f, 0x269ff701, 0xf5bc5c72, 0x3bc54466, 0x7e345bfb, 0x29768b43, 0xc6dccb23, 0xfc68b6ed, 0xf163b8e4, 0xdccad731, 0x85104263, 0x22401397, 0x112084c6, 0x247d854a, 0x3df8d2bb, 0x3211aef9, 0xa16dc729, 0x2f4b1d9e, 0x30f3dcb2, 0x52ec0d86, 0xe3d077c1, 0x166c2bb3, 0xb999a970, 0x48fa1194, 0x642247e9, 0x8cc4a8fc, 0x3f1aa0f0, 0x2cd8567d, 0x90ef2233, 0x4ec78749, 0xd1c1d938, 0xa2fe8cca, 0x0b3698d4, 0x81cfa6f5, 0xde28a57a, 0x8e26dab7, 0xbfa43fad, 0x9de42c3a, 0x920d5078, 0xcc9b6a5f, 0x4662547e, 0x13c2f68d, 0xb8e890d8, 0xf75e2e39, 0xaff582c3, 0x80be9f5d, 0x937c69d0, 0x2da96fd5, 0x12b3cf25, 0x993bc8ac, 0x7da71018, 0x636ee89c, 0xbb7bdb3b, 0x7809cd26, 0x18f46e59, 0xb701ec9a, 0x9aa8834f, 0x6e65e695, 0xe67eaaff, 0xcf0821bc, 0xe8e6ef15, 0x9bd9bae7, 0x36ce4a6f, 0x09d4ea9f, 0x7cd629b0, 0xb2af31a4, 0x23312a3f, 0x9430c6a5, 0x66c035a2, 0xbc37744e, 0xcaa6fc82, 0xd0b0e090, 0xd81533a7, 0x984af104, 0xdaf741ec, 0x500e7fcd, 0xf62f1791, 0xd68d764d, 0xb04d43ef, 0x4d54ccaa, 0x04dfe496, 0xb5e39ed1, 0x881b4c6a, 0x1fb8c12c, 0x517f4665, 0xea049d5e, 0x355d018c, 0x7473fa87, 0x412efb0b, 0x1d5ab367, 0xd25292db, 0x5633e910, 0x47136dd6, 0x618c9ad7, 0x0c7a37a1, 0x148e59f8, 0x3c89eb13, 0x27eecea9, 0xc935b761, 0xe5ede11c, 0xb13c7a47, 0xdf599cd2, 0x733f55f2, 0xce791814, 0x37bf73c7, 0xcdea53f7, 0xaa5b5ffd, 0x6f14df3d, 0xdb867844, 0xf381caaf, 0xc43eb968, 0x342c3824, 0x405fc2a3, 0xc372161d, 0x250cbce2, 0x498b283c, 0x9541ff0d, 0x017139a8, 0xb3de080c, 0xe49cd8b4, 0xc1906456, 0x84617bcb, 0xb670d532, 0x5c74486c, 0x5742d0b8];\n    var T8 = [0xf4a75051, 0x4165537e, 0x17a4c31a, 0x275e963a, 0xab6bcb3b, 0x9d45f11f, 0xfa58abac, 0xe303934b, 0x30fa5520, 0x766df6ad, 0xcc769188, 0x024c25f5, 0xe5d7fc4f, 0x2acbd7c5, 0x35448026, 0x62a38fb5, 0xb15a49de, 0xba1b6725, 0xea0e9845, 0xfec0e15d, 0x2f7502c3, 0x4cf01281, 0x4697a38d, 0xd3f9c66b, 0x8f5fe703, 0x929c9515, 0x6d7aebbf, 0x5259da95, 0xbe832dd4, 0x7421d358, 0xe0692949, 0xc9c8448e, 0xc2896a75, 0x8e7978f4, 0x583e6b99, 0xb971dd27, 0xe14fb6be, 0x88ad17f0, 0x20ac66c9, 0xce3ab47d, 0xdf4a1863, 0x1a3182e5, 0x51336097, 0x537f4562, 0x6477e0b1, 0x6bae84bb, 0x81a01cfe, 0x082b94f9, 0x48685870, 0x45fd198f, 0xde6c8794, 0x7bf8b752, 0x73d323ab, 0x4b02e272, 0x1f8f57e3, 0x55ab2a66, 0xeb2807b2, 0xb5c2032f, 0xc57b9a86, 0x3708a5d3, 0x2887f230, 0xbfa5b223, 0x036aba02, 0x16825ced, 0xcf1c2b8a, 0x79b492a7, 0x07f2f0f3, 0x69e2a14e, 0xdaf4cd65, 0x05bed506, 0x34621fd1, 0xa6fe8ac4, 0x2e539d34, 0xf355a0a2, 0x8ae13205, 0xf6eb75a4, 0x83ec390b, 0x60efaa40, 0x719f065e, 0x6e1051bd, 0x218af93e, 0xdd063d96, 0x3e05aedd, 0xe6bd464d, 0x548db591, 0xc45d0571, 0x06d46f04, 0x5015ff60, 0x98fb2419, 0xbde997d6, 0x4043cc89, 0xd99e7767, 0xe842bdb0, 0x898b8807, 0x195b38e7, 0xc8eedb79, 0x7c0a47a1, 0x420fe97c, 0x841ec9f8, 0x00000000, 0x80868309, 0x2bed4832, 0x1170ac1e, 0x5a724e6c, 0x0efffbfd, 0x8538560f, 0xaed51e3d, 0x2d392736, 0x0fd9640a, 0x5ca62168, 0x5b54d19b, 0x362e3a24, 0x0a67b10c, 0x57e70f93, 0xee96d2b4, 0x9b919e1b, 0xc0c54f80, 0xdc20a261, 0x774b695a, 0x121a161c, 0x93ba0ae2, 0xa02ae5c0, 0x22e0433c, 0x1b171d12, 0x090d0b0e, 0x8bc7adf2, 0xb6a8b92d, 0x1ea9c814, 0xf1198557, 0x75074caf, 0x99ddbbee, 0x7f60fda3, 0x01269ff7, 0x72f5bc5c, 0x663bc544, 0xfb7e345b, 0x4329768b, 0x23c6dccb, 0xedfc68b6, 0xe4f163b8, 0x31dccad7, 0x63851042, 0x97224013, 0xc6112084, 0x4a247d85, 0xbb3df8d2, 0xf93211ae, 0x29a16dc7, 0x9e2f4b1d, 0xb230f3dc, 0x8652ec0d, 0xc1e3d077, 0xb3166c2b, 0x70b999a9, 0x9448fa11, 0xe9642247, 0xfc8cc4a8, 0xf03f1aa0, 0x7d2cd856, 0x3390ef22, 0x494ec787, 0x38d1c1d9, 0xcaa2fe8c, 0xd40b3698, 0xf581cfa6, 0x7ade28a5, 0xb78e26da, 0xadbfa43f, 0x3a9de42c, 0x78920d50, 0x5fcc9b6a, 0x7e466254, 0x8d13c2f6, 0xd8b8e890, 0x39f75e2e, 0xc3aff582, 0x5d80be9f, 0xd0937c69, 0xd52da96f, 0x2512b3cf, 0xac993bc8, 0x187da710, 0x9c636ee8, 0x3bbb7bdb, 0x267809cd, 0x5918f46e, 0x9ab701ec, 0x4f9aa883, 0x956e65e6, 0xffe67eaa, 0xbccf0821, 0x15e8e6ef, 0xe79bd9ba, 0x6f36ce4a, 0x9f09d4ea, 0xb07cd629, 0xa4b2af31, 0x3f23312a, 0xa59430c6, 0xa266c035, 0x4ebc3774, 0x82caa6fc, 0x90d0b0e0, 0xa7d81533, 0x04984af1, 0xecdaf741, 0xcd500e7f, 0x91f62f17, 0x4dd68d76, 0xefb04d43, 0xaa4d54cc, 0x9604dfe4, 0xd1b5e39e, 0x6a881b4c, 0x2c1fb8c1, 0x65517f46, 0x5eea049d, 0x8c355d01, 0x877473fa, 0x0b412efb, 0x671d5ab3, 0xdbd25292, 0x105633e9, 0xd647136d, 0xd7618c9a, 0xa10c7a37, 0xf8148e59, 0x133c89eb, 0xa927eece, 0x61c935b7, 0x1ce5ede1, 0x47b13c7a, 0xd2df599c, 0xf2733f55, 0x14ce7918, 0xc737bf73, 0xf7cdea53, 0xfdaa5b5f, 0x3d6f14df, 0x44db8678, 0xaff381ca, 0x68c43eb9, 0x24342c38, 0xa3405fc2, 0x1dc37216, 0xe2250cbc, 0x3c498b28, 0x0d9541ff, 0xa8017139, 0x0cb3de08, 0xb4e49cd8, 0x56c19064, 0xcb84617b, 0x32b670d5, 0x6c5c7448, 0xb85742d0];\n\n    // Transformations for decryption key expansion\n    var U1 = [0x00000000, 0x0e090d0b, 0x1c121a16, 0x121b171d, 0x3824342c, 0x362d3927, 0x24362e3a, 0x2a3f2331, 0x70486858, 0x7e416553, 0x6c5a724e, 0x62537f45, 0x486c5c74, 0x4665517f, 0x547e4662, 0x5a774b69, 0xe090d0b0, 0xee99ddbb, 0xfc82caa6, 0xf28bc7ad, 0xd8b4e49c, 0xd6bde997, 0xc4a6fe8a, 0xcaaff381, 0x90d8b8e8, 0x9ed1b5e3, 0x8ccaa2fe, 0x82c3aff5, 0xa8fc8cc4, 0xa6f581cf, 0xb4ee96d2, 0xbae79bd9, 0xdb3bbb7b, 0xd532b670, 0xc729a16d, 0xc920ac66, 0xe31f8f57, 0xed16825c, 0xff0d9541, 0xf104984a, 0xab73d323, 0xa57ade28, 0xb761c935, 0xb968c43e, 0x9357e70f, 0x9d5eea04, 0x8f45fd19, 0x814cf012, 0x3bab6bcb, 0x35a266c0, 0x27b971dd, 0x29b07cd6, 0x038f5fe7, 0x0d8652ec, 0x1f9d45f1, 0x119448fa, 0x4be30393, 0x45ea0e98, 0x57f11985, 0x59f8148e, 0x73c737bf, 0x7dce3ab4, 0x6fd52da9, 0x61dc20a2, 0xad766df6, 0xa37f60fd, 0xb16477e0, 0xbf6d7aeb, 0x955259da, 0x9b5b54d1, 0x894043cc, 0x87494ec7, 0xdd3e05ae, 0xd33708a5, 0xc12c1fb8, 0xcf2512b3, 0xe51a3182, 0xeb133c89, 0xf9082b94, 0xf701269f, 0x4de6bd46, 0x43efb04d, 0x51f4a750, 0x5ffdaa5b, 0x75c2896a, 0x7bcb8461, 0x69d0937c, 0x67d99e77, 0x3daed51e, 0x33a7d815, 0x21bccf08, 0x2fb5c203, 0x058ae132, 0x0b83ec39, 0x1998fb24, 0x1791f62f, 0x764dd68d, 0x7844db86, 0x6a5fcc9b, 0x6456c190, 0x4e69e2a1, 0x4060efaa, 0x527bf8b7, 0x5c72f5bc, 0x0605bed5, 0x080cb3de, 0x1a17a4c3, 0x141ea9c8, 0x3e218af9, 0x302887f2, 0x223390ef, 0x2c3a9de4, 0x96dd063d, 0x98d40b36, 0x8acf1c2b, 0x84c61120, 0xaef93211, 0xa0f03f1a, 0xb2eb2807, 0xbce2250c, 0xe6956e65, 0xe89c636e, 0xfa877473, 0xf48e7978, 0xdeb15a49, 0xd0b85742, 0xc2a3405f, 0xccaa4d54, 0x41ecdaf7, 0x4fe5d7fc, 0x5dfec0e1, 0x53f7cdea, 0x79c8eedb, 0x77c1e3d0, 0x65daf4cd, 0x6bd3f9c6, 0x31a4b2af, 0x3fadbfa4, 0x2db6a8b9, 0x23bfa5b2, 0x09808683, 0x07898b88, 0x15929c95, 0x1b9b919e, 0xa17c0a47, 0xaf75074c, 0xbd6e1051, 0xb3671d5a, 0x99583e6b, 0x97513360, 0x854a247d, 0x8b432976, 0xd134621f, 0xdf3d6f14, 0xcd267809, 0xc32f7502, 0xe9105633, 0xe7195b38, 0xf5024c25, 0xfb0b412e, 0x9ad7618c, 0x94de6c87, 0x86c57b9a, 0x88cc7691, 0xa2f355a0, 0xacfa58ab, 0xbee14fb6, 0xb0e842bd, 0xea9f09d4, 0xe49604df, 0xf68d13c2, 0xf8841ec9, 0xd2bb3df8, 0xdcb230f3, 0xcea927ee, 0xc0a02ae5, 0x7a47b13c, 0x744ebc37, 0x6655ab2a, 0x685ca621, 0x42638510, 0x4c6a881b, 0x5e719f06, 0x5078920d, 0x0a0fd964, 0x0406d46f, 0x161dc372, 0x1814ce79, 0x322bed48, 0x3c22e043, 0x2e39f75e, 0x2030fa55, 0xec9ab701, 0xe293ba0a, 0xf088ad17, 0xfe81a01c, 0xd4be832d, 0xdab78e26, 0xc8ac993b, 0xc6a59430, 0x9cd2df59, 0x92dbd252, 0x80c0c54f, 0x8ec9c844, 0xa4f6eb75, 0xaaffe67e, 0xb8e4f163, 0xb6edfc68, 0x0c0a67b1, 0x02036aba, 0x10187da7, 0x1e1170ac, 0x342e539d, 0x3a275e96, 0x283c498b, 0x26354480, 0x7c420fe9, 0x724b02e2, 0x605015ff, 0x6e5918f4, 0x44663bc5, 0x4a6f36ce, 0x587421d3, 0x567d2cd8, 0x37a10c7a, 0x39a80171, 0x2bb3166c, 0x25ba1b67, 0x0f853856, 0x018c355d, 0x13972240, 0x1d9e2f4b, 0x47e96422, 0x49e06929, 0x5bfb7e34, 0x55f2733f, 0x7fcd500e, 0x71c45d05, 0x63df4a18, 0x6dd64713, 0xd731dcca, 0xd938d1c1, 0xcb23c6dc, 0xc52acbd7, 0xef15e8e6, 0xe11ce5ed, 0xf307f2f0, 0xfd0efffb, 0xa779b492, 0xa970b999, 0xbb6bae84, 0xb562a38f, 0x9f5d80be, 0x91548db5, 0x834f9aa8, 0x8d4697a3];\n    var U2 = [0x00000000, 0x0b0e090d, 0x161c121a, 0x1d121b17, 0x2c382434, 0x27362d39, 0x3a24362e, 0x312a3f23, 0x58704868, 0x537e4165, 0x4e6c5a72, 0x4562537f, 0x74486c5c, 0x7f466551, 0x62547e46, 0x695a774b, 0xb0e090d0, 0xbbee99dd, 0xa6fc82ca, 0xadf28bc7, 0x9cd8b4e4, 0x97d6bde9, 0x8ac4a6fe, 0x81caaff3, 0xe890d8b8, 0xe39ed1b5, 0xfe8ccaa2, 0xf582c3af, 0xc4a8fc8c, 0xcfa6f581, 0xd2b4ee96, 0xd9bae79b, 0x7bdb3bbb, 0x70d532b6, 0x6dc729a1, 0x66c920ac, 0x57e31f8f, 0x5ced1682, 0x41ff0d95, 0x4af10498, 0x23ab73d3, 0x28a57ade, 0x35b761c9, 0x3eb968c4, 0x0f9357e7, 0x049d5eea, 0x198f45fd, 0x12814cf0, 0xcb3bab6b, 0xc035a266, 0xdd27b971, 0xd629b07c, 0xe7038f5f, 0xec0d8652, 0xf11f9d45, 0xfa119448, 0x934be303, 0x9845ea0e, 0x8557f119, 0x8e59f814, 0xbf73c737, 0xb47dce3a, 0xa96fd52d, 0xa261dc20, 0xf6ad766d, 0xfda37f60, 0xe0b16477, 0xebbf6d7a, 0xda955259, 0xd19b5b54, 0xcc894043, 0xc787494e, 0xaedd3e05, 0xa5d33708, 0xb8c12c1f, 0xb3cf2512, 0x82e51a31, 0x89eb133c, 0x94f9082b, 0x9ff70126, 0x464de6bd, 0x4d43efb0, 0x5051f4a7, 0x5b5ffdaa, 0x6a75c289, 0x617bcb84, 0x7c69d093, 0x7767d99e, 0x1e3daed5, 0x1533a7d8, 0x0821bccf, 0x032fb5c2, 0x32058ae1, 0x390b83ec, 0x241998fb, 0x2f1791f6, 0x8d764dd6, 0x867844db, 0x9b6a5fcc, 0x906456c1, 0xa14e69e2, 0xaa4060ef, 0xb7527bf8, 0xbc5c72f5, 0xd50605be, 0xde080cb3, 0xc31a17a4, 0xc8141ea9, 0xf93e218a, 0xf2302887, 0xef223390, 0xe42c3a9d, 0x3d96dd06, 0x3698d40b, 0x2b8acf1c, 0x2084c611, 0x11aef932, 0x1aa0f03f, 0x07b2eb28, 0x0cbce225, 0x65e6956e, 0x6ee89c63, 0x73fa8774, 0x78f48e79, 0x49deb15a, 0x42d0b857, 0x5fc2a340, 0x54ccaa4d, 0xf741ecda, 0xfc4fe5d7, 0xe15dfec0, 0xea53f7cd, 0xdb79c8ee, 0xd077c1e3, 0xcd65daf4, 0xc66bd3f9, 0xaf31a4b2, 0xa43fadbf, 0xb92db6a8, 0xb223bfa5, 0x83098086, 0x8807898b, 0x9515929c, 0x9e1b9b91, 0x47a17c0a, 0x4caf7507, 0x51bd6e10, 0x5ab3671d, 0x6b99583e, 0x60975133, 0x7d854a24, 0x768b4329, 0x1fd13462, 0x14df3d6f, 0x09cd2678, 0x02c32f75, 0x33e91056, 0x38e7195b, 0x25f5024c, 0x2efb0b41, 0x8c9ad761, 0x8794de6c, 0x9a86c57b, 0x9188cc76, 0xa0a2f355, 0xabacfa58, 0xb6bee14f, 0xbdb0e842, 0xd4ea9f09, 0xdfe49604, 0xc2f68d13, 0xc9f8841e, 0xf8d2bb3d, 0xf3dcb230, 0xeecea927, 0xe5c0a02a, 0x3c7a47b1, 0x37744ebc, 0x2a6655ab, 0x21685ca6, 0x10426385, 0x1b4c6a88, 0x065e719f, 0x0d507892, 0x640a0fd9, 0x6f0406d4, 0x72161dc3, 0x791814ce, 0x48322bed, 0x433c22e0, 0x5e2e39f7, 0x552030fa, 0x01ec9ab7, 0x0ae293ba, 0x17f088ad, 0x1cfe81a0, 0x2dd4be83, 0x26dab78e, 0x3bc8ac99, 0x30c6a594, 0x599cd2df, 0x5292dbd2, 0x4f80c0c5, 0x448ec9c8, 0x75a4f6eb, 0x7eaaffe6, 0x63b8e4f1, 0x68b6edfc, 0xb10c0a67, 0xba02036a, 0xa710187d, 0xac1e1170, 0x9d342e53, 0x963a275e, 0x8b283c49, 0x80263544, 0xe97c420f, 0xe2724b02, 0xff605015, 0xf46e5918, 0xc544663b, 0xce4a6f36, 0xd3587421, 0xd8567d2c, 0x7a37a10c, 0x7139a801, 0x6c2bb316, 0x6725ba1b, 0x560f8538, 0x5d018c35, 0x40139722, 0x4b1d9e2f, 0x2247e964, 0x2949e069, 0x345bfb7e, 0x3f55f273, 0x0e7fcd50, 0x0571c45d, 0x1863df4a, 0x136dd647, 0xcad731dc, 0xc1d938d1, 0xdccb23c6, 0xd7c52acb, 0xe6ef15e8, 0xede11ce5, 0xf0f307f2, 0xfbfd0eff, 0x92a779b4, 0x99a970b9, 0x84bb6bae, 0x8fb562a3, 0xbe9f5d80, 0xb591548d, 0xa8834f9a, 0xa38d4697];\n    var U3 = [0x00000000, 0x0d0b0e09, 0x1a161c12, 0x171d121b, 0x342c3824, 0x3927362d, 0x2e3a2436, 0x23312a3f, 0x68587048, 0x65537e41, 0x724e6c5a, 0x7f456253, 0x5c74486c, 0x517f4665, 0x4662547e, 0x4b695a77, 0xd0b0e090, 0xddbbee99, 0xcaa6fc82, 0xc7adf28b, 0xe49cd8b4, 0xe997d6bd, 0xfe8ac4a6, 0xf381caaf, 0xb8e890d8, 0xb5e39ed1, 0xa2fe8cca, 0xaff582c3, 0x8cc4a8fc, 0x81cfa6f5, 0x96d2b4ee, 0x9bd9bae7, 0xbb7bdb3b, 0xb670d532, 0xa16dc729, 0xac66c920, 0x8f57e31f, 0x825ced16, 0x9541ff0d, 0x984af104, 0xd323ab73, 0xde28a57a, 0xc935b761, 0xc43eb968, 0xe70f9357, 0xea049d5e, 0xfd198f45, 0xf012814c, 0x6bcb3bab, 0x66c035a2, 0x71dd27b9, 0x7cd629b0, 0x5fe7038f, 0x52ec0d86, 0x45f11f9d, 0x48fa1194, 0x03934be3, 0x0e9845ea, 0x198557f1, 0x148e59f8, 0x37bf73c7, 0x3ab47dce, 0x2da96fd5, 0x20a261dc, 0x6df6ad76, 0x60fda37f, 0x77e0b164, 0x7aebbf6d, 0x59da9552, 0x54d19b5b, 0x43cc8940, 0x4ec78749, 0x05aedd3e, 0x08a5d337, 0x1fb8c12c, 0x12b3cf25, 0x3182e51a, 0x3c89eb13, 0x2b94f908, 0x269ff701, 0xbd464de6, 0xb04d43ef, 0xa75051f4, 0xaa5b5ffd, 0x896a75c2, 0x84617bcb, 0x937c69d0, 0x9e7767d9, 0xd51e3dae, 0xd81533a7, 0xcf0821bc, 0xc2032fb5, 0xe132058a, 0xec390b83, 0xfb241998, 0xf62f1791, 0xd68d764d, 0xdb867844, 0xcc9b6a5f, 0xc1906456, 0xe2a14e69, 0xefaa4060, 0xf8b7527b, 0xf5bc5c72, 0xbed50605, 0xb3de080c, 0xa4c31a17, 0xa9c8141e, 0x8af93e21, 0x87f23028, 0x90ef2233, 0x9de42c3a, 0x063d96dd, 0x0b3698d4, 0x1c2b8acf, 0x112084c6, 0x3211aef9, 0x3f1aa0f0, 0x2807b2eb, 0x250cbce2, 0x6e65e695, 0x636ee89c, 0x7473fa87, 0x7978f48e, 0x5a49deb1, 0x5742d0b8, 0x405fc2a3, 0x4d54ccaa, 0xdaf741ec, 0xd7fc4fe5, 0xc0e15dfe, 0xcdea53f7, 0xeedb79c8, 0xe3d077c1, 0xf4cd65da, 0xf9c66bd3, 0xb2af31a4, 0xbfa43fad, 0xa8b92db6, 0xa5b223bf, 0x86830980, 0x8b880789, 0x9c951592, 0x919e1b9b, 0x0a47a17c, 0x074caf75, 0x1051bd6e, 0x1d5ab367, 0x3e6b9958, 0x33609751, 0x247d854a, 0x29768b43, 0x621fd134, 0x6f14df3d, 0x7809cd26, 0x7502c32f, 0x5633e910, 0x5b38e719, 0x4c25f502, 0x412efb0b, 0x618c9ad7, 0x6c8794de, 0x7b9a86c5, 0x769188cc, 0x55a0a2f3, 0x58abacfa, 0x4fb6bee1, 0x42bdb0e8, 0x09d4ea9f, 0x04dfe496, 0x13c2f68d, 0x1ec9f884, 0x3df8d2bb, 0x30f3dcb2, 0x27eecea9, 0x2ae5c0a0, 0xb13c7a47, 0xbc37744e, 0xab2a6655, 0xa621685c, 0x85104263, 0x881b4c6a, 0x9f065e71, 0x920d5078, 0xd9640a0f, 0xd46f0406, 0xc372161d, 0xce791814, 0xed48322b, 0xe0433c22, 0xf75e2e39, 0xfa552030, 0xb701ec9a, 0xba0ae293, 0xad17f088, 0xa01cfe81, 0x832dd4be, 0x8e26dab7, 0x993bc8ac, 0x9430c6a5, 0xdf599cd2, 0xd25292db, 0xc54f80c0, 0xc8448ec9, 0xeb75a4f6, 0xe67eaaff, 0xf163b8e4, 0xfc68b6ed, 0x67b10c0a, 0x6aba0203, 0x7da71018, 0x70ac1e11, 0x539d342e, 0x5e963a27, 0x498b283c, 0x44802635, 0x0fe97c42, 0x02e2724b, 0x15ff6050, 0x18f46e59, 0x3bc54466, 0x36ce4a6f, 0x21d35874, 0x2cd8567d, 0x0c7a37a1, 0x017139a8, 0x166c2bb3, 0x1b6725ba, 0x38560f85, 0x355d018c, 0x22401397, 0x2f4b1d9e, 0x642247e9, 0x692949e0, 0x7e345bfb, 0x733f55f2, 0x500e7fcd, 0x5d0571c4, 0x4a1863df, 0x47136dd6, 0xdccad731, 0xd1c1d938, 0xc6dccb23, 0xcbd7c52a, 0xe8e6ef15, 0xe5ede11c, 0xf2f0f307, 0xfffbfd0e, 0xb492a779, 0xb999a970, 0xae84bb6b, 0xa38fb562, 0x80be9f5d, 0x8db59154, 0x9aa8834f, 0x97a38d46];\n    var U4 = [0x00000000, 0x090d0b0e, 0x121a161c, 0x1b171d12, 0x24342c38, 0x2d392736, 0x362e3a24, 0x3f23312a, 0x48685870, 0x4165537e, 0x5a724e6c, 0x537f4562, 0x6c5c7448, 0x65517f46, 0x7e466254, 0x774b695a, 0x90d0b0e0, 0x99ddbbee, 0x82caa6fc, 0x8bc7adf2, 0xb4e49cd8, 0xbde997d6, 0xa6fe8ac4, 0xaff381ca, 0xd8b8e890, 0xd1b5e39e, 0xcaa2fe8c, 0xc3aff582, 0xfc8cc4a8, 0xf581cfa6, 0xee96d2b4, 0xe79bd9ba, 0x3bbb7bdb, 0x32b670d5, 0x29a16dc7, 0x20ac66c9, 0x1f8f57e3, 0x16825ced, 0x0d9541ff, 0x04984af1, 0x73d323ab, 0x7ade28a5, 0x61c935b7, 0x68c43eb9, 0x57e70f93, 0x5eea049d, 0x45fd198f, 0x4cf01281, 0xab6bcb3b, 0xa266c035, 0xb971dd27, 0xb07cd629, 0x8f5fe703, 0x8652ec0d, 0x9d45f11f, 0x9448fa11, 0xe303934b, 0xea0e9845, 0xf1198557, 0xf8148e59, 0xc737bf73, 0xce3ab47d, 0xd52da96f, 0xdc20a261, 0x766df6ad, 0x7f60fda3, 0x6477e0b1, 0x6d7aebbf, 0x5259da95, 0x5b54d19b, 0x4043cc89, 0x494ec787, 0x3e05aedd, 0x3708a5d3, 0x2c1fb8c1, 0x2512b3cf, 0x1a3182e5, 0x133c89eb, 0x082b94f9, 0x01269ff7, 0xe6bd464d, 0xefb04d43, 0xf4a75051, 0xfdaa5b5f, 0xc2896a75, 0xcb84617b, 0xd0937c69, 0xd99e7767, 0xaed51e3d, 0xa7d81533, 0xbccf0821, 0xb5c2032f, 0x8ae13205, 0x83ec390b, 0x98fb2419, 0x91f62f17, 0x4dd68d76, 0x44db8678, 0x5fcc9b6a, 0x56c19064, 0x69e2a14e, 0x60efaa40, 0x7bf8b752, 0x72f5bc5c, 0x05bed506, 0x0cb3de08, 0x17a4c31a, 0x1ea9c814, 0x218af93e, 0x2887f230, 0x3390ef22, 0x3a9de42c, 0xdd063d96, 0xd40b3698, 0xcf1c2b8a, 0xc6112084, 0xf93211ae, 0xf03f1aa0, 0xeb2807b2, 0xe2250cbc, 0x956e65e6, 0x9c636ee8, 0x877473fa, 0x8e7978f4, 0xb15a49de, 0xb85742d0, 0xa3405fc2, 0xaa4d54cc, 0xecdaf741, 0xe5d7fc4f, 0xfec0e15d, 0xf7cdea53, 0xc8eedb79, 0xc1e3d077, 0xdaf4cd65, 0xd3f9c66b, 0xa4b2af31, 0xadbfa43f, 0xb6a8b92d, 0xbfa5b223, 0x80868309, 0x898b8807, 0x929c9515, 0x9b919e1b, 0x7c0a47a1, 0x75074caf, 0x6e1051bd, 0x671d5ab3, 0x583e6b99, 0x51336097, 0x4a247d85, 0x4329768b, 0x34621fd1, 0x3d6f14df, 0x267809cd, 0x2f7502c3, 0x105633e9, 0x195b38e7, 0x024c25f5, 0x0b412efb, 0xd7618c9a, 0xde6c8794, 0xc57b9a86, 0xcc769188, 0xf355a0a2, 0xfa58abac, 0xe14fb6be, 0xe842bdb0, 0x9f09d4ea, 0x9604dfe4, 0x8d13c2f6, 0x841ec9f8, 0xbb3df8d2, 0xb230f3dc, 0xa927eece, 0xa02ae5c0, 0x47b13c7a, 0x4ebc3774, 0x55ab2a66, 0x5ca62168, 0x63851042, 0x6a881b4c, 0x719f065e, 0x78920d50, 0x0fd9640a, 0x06d46f04, 0x1dc37216, 0x14ce7918, 0x2bed4832, 0x22e0433c, 0x39f75e2e, 0x30fa5520, 0x9ab701ec, 0x93ba0ae2, 0x88ad17f0, 0x81a01cfe, 0xbe832dd4, 0xb78e26da, 0xac993bc8, 0xa59430c6, 0xd2df599c, 0xdbd25292, 0xc0c54f80, 0xc9c8448e, 0xf6eb75a4, 0xffe67eaa, 0xe4f163b8, 0xedfc68b6, 0x0a67b10c, 0x036aba02, 0x187da710, 0x1170ac1e, 0x2e539d34, 0x275e963a, 0x3c498b28, 0x35448026, 0x420fe97c, 0x4b02e272, 0x5015ff60, 0x5918f46e, 0x663bc544, 0x6f36ce4a, 0x7421d358, 0x7d2cd856, 0xa10c7a37, 0xa8017139, 0xb3166c2b, 0xba1b6725, 0x8538560f, 0x8c355d01, 0x97224013, 0x9e2f4b1d, 0xe9642247, 0xe0692949, 0xfb7e345b, 0xf2733f55, 0xcd500e7f, 0xc45d0571, 0xdf4a1863, 0xd647136d, 0x31dccad7, 0x38d1c1d9, 0x23c6dccb, 0x2acbd7c5, 0x15e8e6ef, 0x1ce5ede1, 0x07f2f0f3, 0x0efffbfd, 0x79b492a7, 0x70b999a9, 0x6bae84bb, 0x62a38fb5, 0x5d80be9f, 0x548db591, 0x4f9aa883, 0x4697a38d];\n\n    function convertToInt32(bytes) {\n        var result = [];\n        for (var i = 0; i < bytes.length; i += 4) {\n            result.push(\n                (bytes[i    ] << 24) |\n                (bytes[i + 1] << 16) |\n                (bytes[i + 2] <<  8) |\n                 bytes[i + 3]\n            );\n        }\n        return result;\n    }\n\n    var AES = function(key) {\n        if (!(this instanceof AES)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        Object.defineProperty(this, 'key', {\n            value: coerceArray(key, true)\n        });\n\n        this._prepare();\n    }\n\n\n    AES.prototype._prepare = function() {\n\n        var rounds = numberOfRounds[this.key.length];\n        if (rounds == null) {\n            throw new Error('invalid key size (must be 16, 24 or 32 bytes)');\n        }\n\n        // encryption round keys\n        this._Ke = [];\n\n        // decryption round keys\n        this._Kd = [];\n\n        for (var i = 0; i <= rounds; i++) {\n            this._Ke.push([0, 0, 0, 0]);\n            this._Kd.push([0, 0, 0, 0]);\n        }\n\n        var roundKeyCount = (rounds + 1) * 4;\n        var KC = this.key.length / 4;\n\n        // convert the key into ints\n        var tk = convertToInt32(this.key);\n\n        // copy values into round key arrays\n        var index;\n        for (var i = 0; i < KC; i++) {\n            index = i >> 2;\n            this._Ke[index][i % 4] = tk[i];\n            this._Kd[rounds - index][i % 4] = tk[i];\n        }\n\n        // key expansion (fips-197 section 5.2)\n        var rconpointer = 0;\n        var t = KC, tt;\n        while (t < roundKeyCount) {\n            tt = tk[KC - 1];\n            tk[0] ^= ((S[(tt >> 16) & 0xFF] << 24) ^\n                      (S[(tt >>  8) & 0xFF] << 16) ^\n                      (S[ tt        & 0xFF] <<  8) ^\n                       S[(tt >> 24) & 0xFF]        ^\n                      (rcon[rconpointer] << 24));\n            rconpointer += 1;\n\n            // key expansion (for non-256 bit)\n            if (KC != 8) {\n                for (var i = 1; i < KC; i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n\n            // key expansion for 256-bit keys is \"slightly different\" (fips-197)\n            } else {\n                for (var i = 1; i < (KC / 2); i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n                tt = tk[(KC / 2) - 1];\n\n                tk[KC / 2] ^= (S[ tt        & 0xFF]        ^\n                              (S[(tt >>  8) & 0xFF] <<  8) ^\n                              (S[(tt >> 16) & 0xFF] << 16) ^\n                              (S[(tt >> 24) & 0xFF] << 24));\n\n                for (var i = (KC / 2) + 1; i < KC; i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n            }\n\n            // copy values into round key arrays\n            var i = 0, r, c;\n            while (i < KC && t < roundKeyCount) {\n                r = t >> 2;\n                c = t % 4;\n                this._Ke[r][c] = tk[i];\n                this._Kd[rounds - r][c] = tk[i++];\n                t++;\n            }\n        }\n\n        // inverse-cipher-ify the decryption round key (fips-197 section 5.3)\n        for (var r = 1; r < rounds; r++) {\n            for (var c = 0; c < 4; c++) {\n                tt = this._Kd[r][c];\n                this._Kd[r][c] = (U1[(tt >> 24) & 0xFF] ^\n                                  U2[(tt >> 16) & 0xFF] ^\n                                  U3[(tt >>  8) & 0xFF] ^\n                                  U4[ tt        & 0xFF]);\n            }\n        }\n    }\n\n    AES.prototype.encrypt = function(plaintext) {\n        if (plaintext.length != 16) {\n            throw new Error('invalid plaintext size (must be 16 bytes)');\n        }\n\n        var rounds = this._Ke.length - 1;\n        var a = [0, 0, 0, 0];\n\n        // convert plaintext to (ints ^ key)\n        var t = convertToInt32(plaintext);\n        for (var i = 0; i < 4; i++) {\n            t[i] ^= this._Ke[0][i];\n        }\n\n        // apply round transforms\n        for (var r = 1; r < rounds; r++) {\n            for (var i = 0; i < 4; i++) {\n                a[i] = (T1[(t[ i         ] >> 24) & 0xff] ^\n                        T2[(t[(i + 1) % 4] >> 16) & 0xff] ^\n                        T3[(t[(i + 2) % 4] >>  8) & 0xff] ^\n                        T4[ t[(i + 3) % 4]        & 0xff] ^\n                        this._Ke[r][i]);\n            }\n            t = a.slice();\n        }\n\n        // the last round is special\n        var result = createArray(16), tt;\n        for (var i = 0; i < 4; i++) {\n            tt = this._Ke[rounds][i];\n            result[4 * i    ] = (S[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n            result[4 * i + 1] = (S[(t[(i + 1) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n            result[4 * i + 2] = (S[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n            result[4 * i + 3] = (S[ t[(i + 3) % 4]        & 0xff] ^  tt       ) & 0xff;\n        }\n\n        return result;\n    }\n\n    AES.prototype.decrypt = function(ciphertext) {\n        if (ciphertext.length != 16) {\n            throw new Error('invalid ciphertext size (must be 16 bytes)');\n        }\n\n        var rounds = this._Kd.length - 1;\n        var a = [0, 0, 0, 0];\n\n        // convert plaintext to (ints ^ key)\n        var t = convertToInt32(ciphertext);\n        for (var i = 0; i < 4; i++) {\n            t[i] ^= this._Kd[0][i];\n        }\n\n        // apply round transforms\n        for (var r = 1; r < rounds; r++) {\n            for (var i = 0; i < 4; i++) {\n                a[i] = (T5[(t[ i          ] >> 24) & 0xff] ^\n                        T6[(t[(i + 3) % 4] >> 16) & 0xff] ^\n                        T7[(t[(i + 2) % 4] >>  8) & 0xff] ^\n                        T8[ t[(i + 1) % 4]        & 0xff] ^\n                        this._Kd[r][i]);\n            }\n            t = a.slice();\n        }\n\n        // the last round is special\n        var result = createArray(16), tt;\n        for (var i = 0; i < 4; i++) {\n            tt = this._Kd[rounds][i];\n            result[4 * i    ] = (Si[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n            result[4 * i + 1] = (Si[(t[(i + 3) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n            result[4 * i + 2] = (Si[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n            result[4 * i + 3] = (Si[ t[(i + 1) % 4]        & 0xff] ^  tt       ) & 0xff;\n        }\n\n        return result;\n    }\n\n\n    /**\n     *  Mode Of Operation - Electonic Codebook (ECB)\n     */\n    var ModeOfOperationECB = function(key) {\n        if (!(this instanceof ModeOfOperationECB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Electronic Code Block\";\n        this.name = \"ecb\";\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationECB.prototype.encrypt = function(plaintext) {\n        plaintext = coerceArray(plaintext);\n\n        if ((plaintext.length % 16) !== 0) {\n            throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n        }\n\n        var ciphertext = createArray(plaintext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < plaintext.length; i += 16) {\n            copyArray(plaintext, block, 0, i, i + 16);\n            block = this._aes.encrypt(block);\n            copyArray(block, ciphertext, i);\n        }\n\n        return ciphertext;\n    }\n\n    ModeOfOperationECB.prototype.decrypt = function(ciphertext) {\n        ciphertext = coerceArray(ciphertext);\n\n        if ((ciphertext.length % 16) !== 0) {\n            throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n        }\n\n        var plaintext = createArray(ciphertext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < ciphertext.length; i += 16) {\n            copyArray(ciphertext, block, 0, i, i + 16);\n            block = this._aes.decrypt(block);\n            copyArray(block, plaintext, i);\n        }\n\n        return plaintext;\n    }\n\n\n    /**\n     *  Mode Of Operation - Cipher Block Chaining (CBC)\n     */\n    var ModeOfOperationCBC = function(key, iv) {\n        if (!(this instanceof ModeOfOperationCBC)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Cipher Block Chaining\";\n        this.name = \"cbc\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 bytes)');\n        }\n\n        this._lastCipherblock = coerceArray(iv, true);\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCBC.prototype.encrypt = function(plaintext) {\n        plaintext = coerceArray(plaintext);\n\n        if ((plaintext.length % 16) !== 0) {\n            throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n        }\n\n        var ciphertext = createArray(plaintext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < plaintext.length; i += 16) {\n            copyArray(plaintext, block, 0, i, i + 16);\n\n            for (var j = 0; j < 16; j++) {\n                block[j] ^= this._lastCipherblock[j];\n            }\n\n            this._lastCipherblock = this._aes.encrypt(block);\n            copyArray(this._lastCipherblock, ciphertext, i);\n        }\n\n        return ciphertext;\n    }\n\n    ModeOfOperationCBC.prototype.decrypt = function(ciphertext) {\n        ciphertext = coerceArray(ciphertext);\n\n        if ((ciphertext.length % 16) !== 0) {\n            throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n        }\n\n        var plaintext = createArray(ciphertext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < ciphertext.length; i += 16) {\n            copyArray(ciphertext, block, 0, i, i + 16);\n            block = this._aes.decrypt(block);\n\n            for (var j = 0; j < 16; j++) {\n                plaintext[i + j] = block[j] ^ this._lastCipherblock[j];\n            }\n\n            copyArray(ciphertext, this._lastCipherblock, 0, i, i + 16);\n        }\n\n        return plaintext;\n    }\n\n\n    /**\n     *  Mode Of Operation - Cipher Feedback (CFB)\n     */\n    var ModeOfOperationCFB = function(key, iv, segmentSize) {\n        if (!(this instanceof ModeOfOperationCFB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Cipher Feedback\";\n        this.name = \"cfb\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 size)');\n        }\n\n        if (!segmentSize) { segmentSize = 1; }\n\n        this.segmentSize = segmentSize;\n\n        this._shiftRegister = coerceArray(iv, true);\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCFB.prototype.encrypt = function(plaintext) {\n        if ((plaintext.length % this.segmentSize) != 0) {\n            throw new Error('invalid plaintext size (must be segmentSize bytes)');\n        }\n\n        var encrypted = coerceArray(plaintext, true);\n\n        var xorSegment;\n        for (var i = 0; i < encrypted.length; i += this.segmentSize) {\n            xorSegment = this._aes.encrypt(this._shiftRegister);\n            for (var j = 0; j < this.segmentSize; j++) {\n                encrypted[i + j] ^= xorSegment[j];\n            }\n\n            // Shift the register\n            copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n            copyArray(encrypted, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n        }\n\n        return encrypted;\n    }\n\n    ModeOfOperationCFB.prototype.decrypt = function(ciphertext) {\n        if ((ciphertext.length % this.segmentSize) != 0) {\n            throw new Error('invalid ciphertext size (must be segmentSize bytes)');\n        }\n\n        var plaintext = coerceArray(ciphertext, true);\n\n        var xorSegment;\n        for (var i = 0; i < plaintext.length; i += this.segmentSize) {\n            xorSegment = this._aes.encrypt(this._shiftRegister);\n\n            for (var j = 0; j < this.segmentSize; j++) {\n                plaintext[i + j] ^= xorSegment[j];\n            }\n\n            // Shift the register\n            copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n            copyArray(ciphertext, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n        }\n\n        return plaintext;\n    }\n\n    /**\n     *  Mode Of Operation - Output Feedback (OFB)\n     */\n    var ModeOfOperationOFB = function(key, iv) {\n        if (!(this instanceof ModeOfOperationOFB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Output Feedback\";\n        this.name = \"ofb\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 bytes)');\n        }\n\n        this._lastPrecipher = coerceArray(iv, true);\n        this._lastPrecipherIndex = 16;\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationOFB.prototype.encrypt = function(plaintext) {\n        var encrypted = coerceArray(plaintext, true);\n\n        for (var i = 0; i < encrypted.length; i++) {\n            if (this._lastPrecipherIndex === 16) {\n                this._lastPrecipher = this._aes.encrypt(this._lastPrecipher);\n                this._lastPrecipherIndex = 0;\n            }\n            encrypted[i] ^= this._lastPrecipher[this._lastPrecipherIndex++];\n        }\n\n        return encrypted;\n    }\n\n    // Decryption is symetric\n    ModeOfOperationOFB.prototype.decrypt = ModeOfOperationOFB.prototype.encrypt;\n\n\n    /**\n     *  Counter object for CTR common mode of operation\n     */\n    var Counter = function(initialValue) {\n        if (!(this instanceof Counter)) {\n            throw Error('Counter must be instanitated with `new`');\n        }\n\n        // We allow 0, but anything false-ish uses the default 1\n        if (initialValue !== 0 && !initialValue) { initialValue = 1; }\n\n        if (typeof(initialValue) === 'number') {\n            this._counter = createArray(16);\n            this.setValue(initialValue);\n\n        } else {\n            this.setBytes(initialValue);\n        }\n    }\n\n    Counter.prototype.setValue = function(value) {\n        if (typeof(value) !== 'number' || parseInt(value) != value) {\n            throw new Error('invalid counter value (must be an integer)');\n        }\n\n        // We cannot safely handle numbers beyond the safe range for integers\n        if (value > Number.MAX_SAFE_INTEGER) {\n            throw new Error('integer value out of safe range');\n        }\n\n        for (var index = 15; index >= 0; --index) {\n            this._counter[index] = value % 256;\n            value = parseInt(value / 256);\n        }\n    }\n\n    Counter.prototype.setBytes = function(bytes) {\n        bytes = coerceArray(bytes, true);\n\n        if (bytes.length != 16) {\n            throw new Error('invalid counter bytes size (must be 16 bytes)');\n        }\n\n        this._counter = bytes;\n    };\n\n    Counter.prototype.increment = function() {\n        for (var i = 15; i >= 0; i--) {\n            if (this._counter[i] === 255) {\n                this._counter[i] = 0;\n            } else {\n                this._counter[i]++;\n                break;\n            }\n        }\n    }\n\n\n    /**\n     *  Mode Of Operation - Counter (CTR)\n     */\n    var ModeOfOperationCTR = function(key, counter) {\n        if (!(this instanceof ModeOfOperationCTR)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Counter\";\n        this.name = \"ctr\";\n\n        if (!(counter instanceof Counter)) {\n            counter = new Counter(counter)\n        }\n\n        this._counter = counter;\n\n        this._remainingCounter = null;\n        this._remainingCounterIndex = 16;\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCTR.prototype.encrypt = function(plaintext) {\n        var encrypted = coerceArray(plaintext, true);\n\n        for (var i = 0; i < encrypted.length; i++) {\n            if (this._remainingCounterIndex === 16) {\n                this._remainingCounter = this._aes.encrypt(this._counter._counter);\n                this._remainingCounterIndex = 0;\n                this._counter.increment();\n            }\n            encrypted[i] ^= this._remainingCounter[this._remainingCounterIndex++];\n        }\n\n        return encrypted;\n    }\n\n    // Decryption is symetric\n    ModeOfOperationCTR.prototype.decrypt = ModeOfOperationCTR.prototype.encrypt;\n\n\n    ///////////////////////\n    // Padding\n\n    // See:https://tools.ietf.org/html/rfc2315\n    function pkcs7pad(data) {\n        data = coerceArray(data, true);\n        var padder = 16 - (data.length % 16);\n        var result = createArray(data.length + padder);\n        copyArray(data, result);\n        for (var i = data.length; i < result.length; i++) {\n            result[i] = padder;\n        }\n        return result;\n    }\n\n    function pkcs7strip(data) {\n        data = coerceArray(data, true);\n        if (data.length < 16) { throw new Error('PKCS#7 invalid length'); }\n\n        var padder = data[data.length - 1];\n        if (padder > 16) { throw new Error('PKCS#7 padding byte out of range'); }\n\n        var length = data.length - padder;\n        for (var i = 0; i < padder; i++) {\n            if (data[length + i] !== padder) {\n                throw new Error('PKCS#7 invalid padding byte');\n            }\n        }\n\n        var result = createArray(length);\n        copyArray(data, result, 0, 0, length);\n        return result;\n    }\n\n    ///////////////////////\n    // Exporting\n\n\n    // The block cipher\n    var aesjs = {\n        AES: AES,\n        Counter: Counter,\n\n        ModeOfOperation: {\n            ecb: ModeOfOperationECB,\n            cbc: ModeOfOperationCBC,\n            cfb: ModeOfOperationCFB,\n            ofb: ModeOfOperationOFB,\n            ctr: ModeOfOperationCTR\n        },\n\n        utils: {\n            hex: convertHex,\n            utf8: convertUtf8\n        },\n\n        padding: {\n            pkcs7: {\n                pad: pkcs7pad,\n                strip: pkcs7strip\n            }\n        },\n\n        _arrayTest: {\n            coerceArray: coerceArray,\n            createArray: createArray,\n            copyArray: copyArray,\n        }\n    };\n\n\n    // node.js\n    if (typeof exports !== 'undefined') {\n        module.exports = aesjs\n\n    // RequireJS/AMD\n    // http://www.requirejs.org/docs/api.html\n    // https://github.com/amdjs/amdjs-api/wiki/AMD\n    } else if (typeof(define) === 'function' && define.amd) {\n        define([], function() { return aesjs; });\n\n    // Web Browsers\n    } else {\n\n        // If there was an existing library at \"aesjs\" make sure it's still available\n        if (root.aesjs) {\n            aesjs._aesjs = root.aesjs;\n        }\n\n        root.aesjs = aesjs;\n    }\n\n\n})(this);\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    Buffer = require('buffer').Buffer;\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n    }\n\n    if (base === 16) {\n      this._parseHex(number, start);\n    } else {\n      this._parseBase(number, base, start);\n    }\n\n    if (number[0] === '-') {\n      this.negative = 1;\n    }\n\n    this.strip();\n\n    if (endian !== 'le') return;\n\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [ number & 0x3ffffff ];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [ 0 ];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this.strip();\n  };\n\n  function parseHex (str, start, end) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r <<= 4;\n\n      // 'a' - 'f'\n      if (c >= 49 && c <= 54) {\n        r |= c - 49 + 0xa;\n\n      // 'A' - 'F'\n      } else if (c >= 17 && c <= 22) {\n        r |= c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r |= c & 0xf;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    // Scan 24-bit chunks and add them to the number\n    var off = 0;\n    for (i = number.length - 6, j = 0; i >= start; i -= 6) {\n      w = parseHex(number, i, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      // NOTE: `0x3fffff` is intentional here, 26bits max shift + 24bit hex limb\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n      off += 24;\n      if (off >= 26) {\n        off -= 26;\n        j++;\n      }\n    }\n    if (i + 6 !== start) {\n      w = parseHex(number, start, i + 6);\n      this.words[j] |= (w << off) & 0x3ffffff;\n      this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;\n    }\n    this.strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        r += c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        r += c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        r += c;\n      }\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [ 0 ];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype.strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  BN.prototype.inspect = function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  };\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16);\n  };\n\n  BN.prototype.toBuffer = function toBuffer (endian, length) {\n    assert(typeof Buffer !== 'undefined');\n    return this.toArrayLike(Buffer, endian, length);\n  };\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    this.strip();\n    var littleEndian = endian === 'le';\n    var res = new ArrayType(reqLength);\n\n    var b, i;\n    var q = this.clone();\n    if (!littleEndian) {\n      // Assume big-endian\n      for (i = 0; i < reqLength - byteLength; i++) {\n        res[i] = 0;\n      }\n\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[reqLength - i - 1] = b;\n      }\n    } else {\n      for (i = 0; !q.isZero(); i++) {\n        b = q.andln(0xff);\n        q.iushrn(8);\n\n        res[i] = b;\n      }\n\n      for (; i < reqLength; i++) {\n        res[i] = 0;\n      }\n    }\n\n    return res;\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] & (1 << wbit)) >>> wbit;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this.strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this.strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this.strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this.strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out.strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    var fftm = new FFTM();\n    return fftm.mulp(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out.strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this.strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) < num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this.strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this.strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q.strip();\n    }\n    a.strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modn = function modn (num) {\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return acc;\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    return this.strip();\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this.strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      r.strip();\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n    return a.umod(this.m)._forceRed(this);\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","/*\n A JavaScript implementation of the SHA family of hashes, as\n defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding\n HMAC implementation as defined in FIPS PUB 198a\n\n Copyright Brian Turek 2008-2017\n Distributed under the BSD License\n See http://caligatio.github.com/jsSHA/ for more information\n\n Several functions taken from Paul Johnston\n*/\n'use strict';(function(Y){function C(c,a,b){var e=0,h=[],n=0,g,l,d,f,m,q,u,r,I=!1,v=[],w=[],t,y=!1,z=!1,x=-1;b=b||{};g=b.encoding||\"UTF8\";t=b.numRounds||1;if(t!==parseInt(t,10)||1>t)throw Error(\"numRounds must a integer >= 1\");if(\"SHA-1\"===c)m=512,q=K,u=Z,f=160,r=function(a){return a.slice()};else if(0===c.lastIndexOf(\"SHA-\",0))if(q=function(a,b){return L(a,b,c)},u=function(a,b,h,e){var k,f;if(\"SHA-224\"===c||\"SHA-256\"===c)k=(b+65>>>9<<4)+15,f=16;else if(\"SHA-384\"===c||\"SHA-512\"===c)k=(b+129>>>10<<\n5)+31,f=32;else throw Error(\"Unexpected error in SHA-2 implementation\");for(;a.length<=k;)a.push(0);a[b>>>5]|=128<<24-b%32;b=b+h;a[k]=b&4294967295;a[k-1]=b/4294967296|0;h=a.length;for(b=0;b<h;b+=f)e=L(a.slice(b,b+f),e,c);if(\"SHA-224\"===c)a=[e[0],e[1],e[2],e[3],e[4],e[5],e[6]];else if(\"SHA-256\"===c)a=e;else if(\"SHA-384\"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,e[4].b,e[5].a,e[5].b];else if(\"SHA-512\"===c)a=[e[0].a,e[0].b,e[1].a,e[1].b,e[2].a,e[2].b,e[3].a,e[3].b,e[4].a,\ne[4].b,e[5].a,e[5].b,e[6].a,e[6].b,e[7].a,e[7].b];else throw Error(\"Unexpected error in SHA-2 implementation\");return a},r=function(a){return a.slice()},\"SHA-224\"===c)m=512,f=224;else if(\"SHA-256\"===c)m=512,f=256;else if(\"SHA-384\"===c)m=1024,f=384;else if(\"SHA-512\"===c)m=1024,f=512;else throw Error(\"Chosen SHA variant is not supported\");else if(0===c.lastIndexOf(\"SHA3-\",0)||0===c.lastIndexOf(\"SHAKE\",0)){var F=6;q=D;r=function(a){var c=[],e;for(e=0;5>e;e+=1)c[e]=a[e].slice();return c};x=1;if(\"SHA3-224\"===\nc)m=1152,f=224;else if(\"SHA3-256\"===c)m=1088,f=256;else if(\"SHA3-384\"===c)m=832,f=384;else if(\"SHA3-512\"===c)m=576,f=512;else if(\"SHAKE128\"===c)m=1344,f=-1,F=31,z=!0;else if(\"SHAKE256\"===c)m=1088,f=-1,F=31,z=!0;else throw Error(\"Chosen SHA variant is not supported\");u=function(a,c,e,b,h){e=m;var k=F,f,g=[],n=e>>>5,l=0,d=c>>>5;for(f=0;f<d&&c>=e;f+=n)b=D(a.slice(f,f+n),b),c-=e;a=a.slice(f);for(c%=e;a.length<n;)a.push(0);f=c>>>3;a[f>>2]^=k<<f%4*8;a[n-1]^=2147483648;for(b=D(a,b);32*g.length<h;){a=b[l%\n5][l/5|0];g.push(a.b);if(32*g.length>=h)break;g.push(a.a);l+=1;0===64*l%e&&D(null,b)}return g}}else throw Error(\"Chosen SHA variant is not supported\");d=M(a,g,x);l=A(c);this.setHMACKey=function(a,b,h){var k;if(!0===I)throw Error(\"HMAC key already set\");if(!0===y)throw Error(\"Cannot set HMAC key after calling update\");if(!0===z)throw Error(\"SHAKE is not supported for HMAC\");g=(h||{}).encoding||\"UTF8\";b=M(b,g,x)(a);a=b.binLen;b=b.value;k=m>>>3;h=k/4-1;if(k<a/8){for(b=u(b,a,0,A(c),f);b.length<=h;)b.push(0);\nb[h]&=4294967040}else if(k>a/8){for(;b.length<=h;)b.push(0);b[h]&=4294967040}for(a=0;a<=h;a+=1)v[a]=b[a]^909522486,w[a]=b[a]^1549556828;l=q(v,l);e=m;I=!0};this.update=function(a){var c,b,k,f=0,g=m>>>5;c=d(a,h,n);a=c.binLen;b=c.value;c=a>>>5;for(k=0;k<c;k+=g)f+m<=a&&(l=q(b.slice(k,k+g),l),f+=m);e+=f;h=b.slice(f>>>5);n=a%m;y=!0};this.getHash=function(a,b){var k,g,d,m;if(!0===I)throw Error(\"Cannot call getHash after setting HMAC key\");d=N(b);if(!0===z){if(-1===d.shakeLen)throw Error(\"shakeLen must be specified in options\");\nf=d.shakeLen}switch(a){case \"HEX\":k=function(a){return O(a,f,x,d)};break;case \"B64\":k=function(a){return P(a,f,x,d)};break;case \"BYTES\":k=function(a){return Q(a,f,x)};break;case \"ARRAYBUFFER\":try{g=new ArrayBuffer(0)}catch(p){throw Error(\"ARRAYBUFFER not supported by this environment\");}k=function(a){return R(a,f,x)};break;default:throw Error(\"format must be HEX, B64, BYTES, or ARRAYBUFFER\");}m=u(h.slice(),n,e,r(l),f);for(g=1;g<t;g+=1)!0===z&&0!==f%32&&(m[m.length-1]&=16777215>>>24-f%32),m=u(m,f,\n0,A(c),f);return k(m)};this.getHMAC=function(a,b){var k,g,d,p;if(!1===I)throw Error(\"Cannot call getHMAC without first setting HMAC key\");d=N(b);switch(a){case \"HEX\":k=function(a){return O(a,f,x,d)};break;case \"B64\":k=function(a){return P(a,f,x,d)};break;case \"BYTES\":k=function(a){return Q(a,f,x)};break;case \"ARRAYBUFFER\":try{k=new ArrayBuffer(0)}catch(v){throw Error(\"ARRAYBUFFER not supported by this environment\");}k=function(a){return R(a,f,x)};break;default:throw Error(\"outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER\");\n}g=u(h.slice(),n,e,r(l),f);p=q(w,A(c));p=u(g,f,m,p,f);return k(p)}}function b(c,a){this.a=c;this.b=a}function O(c,a,b,e){var h=\"\";a/=8;var n,g,d;d=-1===b?3:0;for(n=0;n<a;n+=1)g=c[n>>>2]>>>8*(d+n%4*b),h+=\"0123456789abcdef\".charAt(g>>>4&15)+\"0123456789abcdef\".charAt(g&15);return e.outputUpper?h.toUpperCase():h}function P(c,a,b,e){var h=\"\",n=a/8,g,d,p,f;f=-1===b?3:0;for(g=0;g<n;g+=3)for(d=g+1<n?c[g+1>>>2]:0,p=g+2<n?c[g+2>>>2]:0,p=(c[g>>>2]>>>8*(f+g%4*b)&255)<<16|(d>>>8*(f+(g+1)%4*b)&255)<<8|p>>>8*(f+\n(g+2)%4*b)&255,d=0;4>d;d+=1)8*g+6*d<=a?h+=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".charAt(p>>>6*(3-d)&63):h+=e.b64Pad;return h}function Q(c,a,b){var e=\"\";a/=8;var h,d,g;g=-1===b?3:0;for(h=0;h<a;h+=1)d=c[h>>>2]>>>8*(g+h%4*b)&255,e+=String.fromCharCode(d);return e}function R(c,a,b){a/=8;var e,h=new ArrayBuffer(a),d,g;g=new Uint8Array(h);d=-1===b?3:0;for(e=0;e<a;e+=1)g[e]=c[e>>>2]>>>8*(d+e%4*b)&255;return h}function N(c){var a={outputUpper:!1,b64Pad:\"=\",shakeLen:-1};c=c||{};\na.outputUpper=c.outputUpper||!1;!0===c.hasOwnProperty(\"b64Pad\")&&(a.b64Pad=c.b64Pad);if(!0===c.hasOwnProperty(\"shakeLen\")){if(0!==c.shakeLen%8)throw Error(\"shakeLen must be a multiple of 8\");a.shakeLen=c.shakeLen}if(\"boolean\"!==typeof a.outputUpper)throw Error(\"Invalid outputUpper formatting option\");if(\"string\"!==typeof a.b64Pad)throw Error(\"Invalid b64Pad formatting option\");return a}function M(c,a,b){switch(a){case \"UTF8\":case \"UTF16BE\":case \"UTF16LE\":break;default:throw Error(\"encoding must be UTF8, UTF16BE, or UTF16LE\");\n}switch(c){case \"HEX\":c=function(a,c,d){var g=a.length,l,p,f,m,q,u;if(0!==g%2)throw Error(\"String of HEX type must be in byte increments\");c=c||[0];d=d||0;q=d>>>3;u=-1===b?3:0;for(l=0;l<g;l+=2){p=parseInt(a.substr(l,2),16);if(isNaN(p))throw Error(\"String of HEX type contains invalid characters\");m=(l>>>1)+q;for(f=m>>>2;c.length<=f;)c.push(0);c[f]|=p<<8*(u+m%4*b)}return{value:c,binLen:4*g+d}};break;case \"TEXT\":c=function(c,h,d){var g,l,p=0,f,m,q,u,r,t;h=h||[0];d=d||0;q=d>>>3;if(\"UTF8\"===a)for(t=-1===\nb?3:0,f=0;f<c.length;f+=1)for(g=c.charCodeAt(f),l=[],128>g?l.push(g):2048>g?(l.push(192|g>>>6),l.push(128|g&63)):55296>g||57344<=g?l.push(224|g>>>12,128|g>>>6&63,128|g&63):(f+=1,g=65536+((g&1023)<<10|c.charCodeAt(f)&1023),l.push(240|g>>>18,128|g>>>12&63,128|g>>>6&63,128|g&63)),m=0;m<l.length;m+=1){r=p+q;for(u=r>>>2;h.length<=u;)h.push(0);h[u]|=l[m]<<8*(t+r%4*b);p+=1}else if(\"UTF16BE\"===a||\"UTF16LE\"===a)for(t=-1===b?2:0,l=\"UTF16LE\"===a&&1!==b||\"UTF16LE\"!==a&&1===b,f=0;f<c.length;f+=1){g=c.charCodeAt(f);\n!0===l&&(m=g&255,g=m<<8|g>>>8);r=p+q;for(u=r>>>2;h.length<=u;)h.push(0);h[u]|=g<<8*(t+r%4*b);p+=2}return{value:h,binLen:8*p+d}};break;case \"B64\":c=function(a,c,d){var g=0,l,p,f,m,q,u,r,t;if(-1===a.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(\"Invalid character in base-64 string\");p=a.indexOf(\"=\");a=a.replace(/\\=/g,\"\");if(-1!==p&&p<a.length)throw Error(\"Invalid '=' found in base-64 string\");c=c||[0];d=d||0;u=d>>>3;t=-1===b?3:0;for(p=0;p<a.length;p+=4){q=a.substr(p,4);for(f=m=0;f<q.length;f+=1)l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(q[f]),\nm|=l<<18-6*f;for(f=0;f<q.length-1;f+=1){r=g+u;for(l=r>>>2;c.length<=l;)c.push(0);c[l]|=(m>>>16-8*f&255)<<8*(t+r%4*b);g+=1}}return{value:c,binLen:8*g+d}};break;case \"BYTES\":c=function(a,c,d){var g,l,p,f,m,q;c=c||[0];d=d||0;p=d>>>3;q=-1===b?3:0;for(l=0;l<a.length;l+=1)g=a.charCodeAt(l),m=l+p,f=m>>>2,c.length<=f&&c.push(0),c[f]|=g<<8*(q+m%4*b);return{value:c,binLen:8*a.length+d}};break;case \"ARRAYBUFFER\":try{c=new ArrayBuffer(0)}catch(e){throw Error(\"ARRAYBUFFER not supported by this environment\");}c=\nfunction(a,c,d){var g,l,p,f,m,q;c=c||[0];d=d||0;l=d>>>3;m=-1===b?3:0;q=new Uint8Array(a);for(g=0;g<a.byteLength;g+=1)f=g+l,p=f>>>2,c.length<=p&&c.push(0),c[p]|=q[g]<<8*(m+f%4*b);return{value:c,binLen:8*a.byteLength+d}};break;default:throw Error(\"format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER\");}return c}function y(c,a){return c<<a|c>>>32-a}function S(c,a){return 32<a?(a-=32,new b(c.b<<a|c.a>>>32-a,c.a<<a|c.b>>>32-a)):0!==a?new b(c.a<<a|c.b>>>32-a,c.b<<a|c.a>>>32-a):c}function w(c,a){return c>>>\na|c<<32-a}function t(c,a){var k=null,k=new b(c.a,c.b);return k=32>=a?new b(k.a>>>a|k.b<<32-a&4294967295,k.b>>>a|k.a<<32-a&4294967295):new b(k.b>>>a-32|k.a<<64-a&4294967295,k.a>>>a-32|k.b<<64-a&4294967295)}function T(c,a){var k=null;return k=32>=a?new b(c.a>>>a,c.b>>>a|c.a<<32-a&4294967295):new b(0,c.a>>>a-32)}function aa(c,a,b){return c&a^~c&b}function ba(c,a,k){return new b(c.a&a.a^~c.a&k.a,c.b&a.b^~c.b&k.b)}function U(c,a,b){return c&a^c&b^a&b}function ca(c,a,k){return new b(c.a&a.a^c.a&k.a^a.a&\nk.a,c.b&a.b^c.b&k.b^a.b&k.b)}function da(c){return w(c,2)^w(c,13)^w(c,22)}function ea(c){var a=t(c,28),k=t(c,34);c=t(c,39);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function fa(c){return w(c,6)^w(c,11)^w(c,25)}function ga(c){var a=t(c,14),k=t(c,18);c=t(c,41);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ha(c){return w(c,7)^w(c,18)^c>>>3}function ia(c){var a=t(c,1),k=t(c,8);c=T(c,7);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function ja(c){return w(c,17)^w(c,19)^c>>>10}function ka(c){var a=t(c,19),k=t(c,61);\nc=T(c,6);return new b(a.a^k.a^c.a,a.b^k.b^c.b)}function G(c,a){var b=(c&65535)+(a&65535);return((c>>>16)+(a>>>16)+(b>>>16)&65535)<<16|b&65535}function la(c,a,b,e){var h=(c&65535)+(a&65535)+(b&65535)+(e&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)&65535)<<16|h&65535}function H(c,a,b,e,h){var d=(c&65535)+(a&65535)+(b&65535)+(e&65535)+(h&65535);return((c>>>16)+(a>>>16)+(b>>>16)+(e>>>16)+(h>>>16)+(d>>>16)&65535)<<16|d&65535}function ma(c,a){var d,e,h;d=(c.b&65535)+(a.b&65535);e=(c.b>>>16)+\n(a.b>>>16)+(d>>>16);h=(e&65535)<<16|d&65535;d=(c.a&65535)+(a.a&65535)+(e>>>16);e=(c.a>>>16)+(a.a>>>16)+(d>>>16);return new b((e&65535)<<16|d&65535,h)}function na(c,a,d,e){var h,n,g;h=(c.b&65535)+(a.b&65535)+(d.b&65535)+(e.b&65535);n=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h>>>16);g=(n&65535)<<16|h&65535;h=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(n>>>16);n=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h>>>16);return new b((n&65535)<<16|h&65535,g)}function oa(c,a,d,e,h){var n,g,l;n=(c.b&\n65535)+(a.b&65535)+(d.b&65535)+(e.b&65535)+(h.b&65535);g=(c.b>>>16)+(a.b>>>16)+(d.b>>>16)+(e.b>>>16)+(h.b>>>16)+(n>>>16);l=(g&65535)<<16|n&65535;n=(c.a&65535)+(a.a&65535)+(d.a&65535)+(e.a&65535)+(h.a&65535)+(g>>>16);g=(c.a>>>16)+(a.a>>>16)+(d.a>>>16)+(e.a>>>16)+(h.a>>>16)+(n>>>16);return new b((g&65535)<<16|n&65535,l)}function B(c,a){return new b(c.a^a.a,c.b^a.b)}function A(c){var a=[],d;if(\"SHA-1\"===c)a=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===c.lastIndexOf(\"SHA-\",0))switch(a=\n[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case \"SHA-224\":break;case \"SHA-256\":a=d;break;case \"SHA-384\":a=[new b(3418070365,a[0]),new b(1654270250,a[1]),new b(2438529370,a[2]),new b(355462360,a[3]),new b(1731405415,a[4]),new b(41048885895,a[5]),new b(3675008525,a[6]),new b(1203062813,a[7])];break;case \"SHA-512\":a=[new b(d[0],4089235720),new b(d[1],2227873595),\nnew b(d[2],4271175723),new b(d[3],1595750129),new b(d[4],2917565137),new b(d[5],725511199),new b(d[6],4215389547),new b(d[7],327033209)];break;default:throw Error(\"Unknown SHA variant\");}else if(0===c.lastIndexOf(\"SHA3-\",0)||0===c.lastIndexOf(\"SHAKE\",0))for(c=0;5>c;c+=1)a[c]=[new b(0,0),new b(0,0),new b(0,0),new b(0,0),new b(0,0)];else throw Error(\"No SHA variants supported\");return a}function K(c,a){var b=[],e,d,n,g,l,p,f;e=a[0];d=a[1];n=a[2];g=a[3];l=a[4];for(f=0;80>f;f+=1)b[f]=16>f?c[f]:y(b[f-\n3]^b[f-8]^b[f-14]^b[f-16],1),p=20>f?H(y(e,5),d&n^~d&g,l,1518500249,b[f]):40>f?H(y(e,5),d^n^g,l,1859775393,b[f]):60>f?H(y(e,5),U(d,n,g),l,2400959708,b[f]):H(y(e,5),d^n^g,l,3395469782,b[f]),l=g,g=n,n=y(d,30),d=e,e=p;a[0]=G(e,a[0]);a[1]=G(d,a[1]);a[2]=G(n,a[2]);a[3]=G(g,a[3]);a[4]=G(l,a[4]);return a}function Z(c,a,b,e){var d;for(d=(a+65>>>9<<4)+15;c.length<=d;)c.push(0);c[a>>>5]|=128<<24-a%32;a+=b;c[d]=a&4294967295;c[d-1]=a/4294967296|0;a=c.length;for(d=0;d<a;d+=16)e=K(c.slice(d,d+16),e);return e}function L(c,\na,k){var e,h,n,g,l,p,f,m,q,u,r,t,v,w,y,A,z,x,F,B,C,D,E=[],J;if(\"SHA-224\"===k||\"SHA-256\"===k)u=64,t=1,D=Number,v=G,w=la,y=H,A=ha,z=ja,x=da,F=fa,C=U,B=aa,J=d;else if(\"SHA-384\"===k||\"SHA-512\"===k)u=80,t=2,D=b,v=ma,w=na,y=oa,A=ia,z=ka,x=ea,F=ga,C=ca,B=ba,J=V;else throw Error(\"Unexpected error in SHA-2 implementation\");k=a[0];e=a[1];h=a[2];n=a[3];g=a[4];l=a[5];p=a[6];f=a[7];for(r=0;r<u;r+=1)16>r?(q=r*t,m=c.length<=q?0:c[q],q=c.length<=q+1?0:c[q+1],E[r]=new D(m,q)):E[r]=w(z(E[r-2]),E[r-7],A(E[r-15]),E[r-\n16]),m=y(f,F(g),B(g,l,p),J[r],E[r]),q=v(x(k),C(k,e,h)),f=p,p=l,l=g,g=v(n,m),n=h,h=e,e=k,k=v(m,q);a[0]=v(k,a[0]);a[1]=v(e,a[1]);a[2]=v(h,a[2]);a[3]=v(n,a[3]);a[4]=v(g,a[4]);a[5]=v(l,a[5]);a[6]=v(p,a[6]);a[7]=v(f,a[7]);return a}function D(c,a){var d,e,h,n,g=[],l=[];if(null!==c)for(e=0;e<c.length;e+=2)a[(e>>>1)%5][(e>>>1)/5|0]=B(a[(e>>>1)%5][(e>>>1)/5|0],new b(c[e+1],c[e]));for(d=0;24>d;d+=1){n=A(\"SHA3-\");for(e=0;5>e;e+=1){h=a[e][0];var p=a[e][1],f=a[e][2],m=a[e][3],q=a[e][4];g[e]=new b(h.a^p.a^f.a^\nm.a^q.a,h.b^p.b^f.b^m.b^q.b)}for(e=0;5>e;e+=1)l[e]=B(g[(e+4)%5],S(g[(e+1)%5],1));for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(a[e][h],l[e]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)n[h][(2*e+3*h)%5]=S(a[e][h],W[e][h]);for(e=0;5>e;e+=1)for(h=0;5>h;h+=1)a[e][h]=B(n[e][h],new b(~n[(e+1)%5][h].a&n[(e+2)%5][h].a,~n[(e+1)%5][h].b&n[(e+2)%5][h].b));a[0][0]=B(a[0][0],X[d])}return a}var d,V,W,X;d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,\n1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,\n2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];V=[new b(d[0],3609767458),new b(d[1],602891725),new b(d[2],3964484399),new b(d[3],2173295548),new b(d[4],4081628472),new b(d[5],3053834265),new b(d[6],2937671579),new b(d[7],3664609560),new b(d[8],2734883394),new b(d[9],1164996542),new b(d[10],1323610764),new b(d[11],3590304994),new b(d[12],4068182383),new b(d[13],991336113),new b(d[14],633803317),new b(d[15],3479774868),new b(d[16],2666613458),new b(d[17],944711139),new b(d[18],2341262773),\nnew b(d[19],2007800933),new b(d[20],1495990901),new b(d[21],1856431235),new b(d[22],3175218132),new b(d[23],2198950837),new b(d[24],3999719339),new b(d[25],766784016),new b(d[26],2566594879),new b(d[27],3203337956),new b(d[28],1034457026),new b(d[29],2466948901),new b(d[30],3758326383),new b(d[31],168717936),new b(d[32],1188179964),new b(d[33],1546045734),new b(d[34],1522805485),new b(d[35],2643833823),new b(d[36],2343527390),new b(d[37],1014477480),new b(d[38],1206759142),new b(d[39],344077627),\nnew b(d[40],1290863460),new b(d[41],3158454273),new b(d[42],3505952657),new b(d[43],106217008),new b(d[44],3606008344),new b(d[45],1432725776),new b(d[46],1467031594),new b(d[47],851169720),new b(d[48],3100823752),new b(d[49],1363258195),new b(d[50],3750685593),new b(d[51],3785050280),new b(d[52],3318307427),new b(d[53],3812723403),new b(d[54],2003034995),new b(d[55],3602036899),new b(d[56],1575990012),new b(d[57],1125592928),new b(d[58],2716904306),new b(d[59],442776044),new b(d[60],593698344),new b(d[61],\n3733110249),new b(d[62],2999351573),new b(d[63],3815920427),new b(3391569614,3928383900),new b(3515267271,566280711),new b(3940187606,3454069534),new b(4118630271,4000239992),new b(116418474,1914138554),new b(174292421,2731055270),new b(289380356,3203993006),new b(460393269,320620315),new b(685471733,587496836),new b(852142971,1086792851),new b(1017036298,365543100),new b(1126000580,2618297676),new b(1288033470,3409855158),new b(1501505948,4234509866),new b(1607167915,987167468),new b(1816402316,\n1246189591)];X=[new b(0,1),new b(0,32898),new b(2147483648,32906),new b(2147483648,2147516416),new b(0,32907),new b(0,2147483649),new b(2147483648,2147516545),new b(2147483648,32777),new b(0,138),new b(0,136),new b(0,2147516425),new b(0,2147483658),new b(0,2147516555),new b(2147483648,139),new b(2147483648,32905),new b(2147483648,32771),new b(2147483648,32770),new b(2147483648,128),new b(0,32778),new b(2147483648,2147483658),new b(2147483648,2147516545),new b(2147483648,32896),new b(0,2147483649),\nnew b(2147483648,2147516424)];W=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];\"function\"===typeof define&&define.amd?define(function(){return C}):\"undefined\"!==typeof exports?(\"undefined\"!==typeof module&&module.exports&&(module.exports=C),exports=C):Y.jsSHA=C})(this);\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import jsSHA from 'jssha';\nimport aesjs from 'aes-js';\n\nexport class Crypto {\n    \n    constructor() {\n\n    }\n\n    // <summary>\n    // Encrypt a block using CBC and PKCS7.\n    // </summary>\n    // <param name=\"key\">The key value</param>\n    // <param name=\"data\">The message to encrypt</param>\n    // <returns>Returns the resulting encrypted string data as HEX.</returns>\n    static AesEncrypt (key, data) {\n        let bytes = aesjs.utils.hex.toBytes(key);\n        const iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ];\n        const textBytes = aesjs.padding.pkcs7.pad(aesjs.utils.utf8.toBytes(data));\n        const aesCbc = new aesjs.ModeOfOperation.cbc(bytes, iv);\n        const encryptedBytes = aesCbc.encrypt(textBytes);\n        const encryptedString = aesjs.utils.hex.fromBytes(encryptedBytes);\n\n        return encryptedString;\n    }\n    \n    // <summary>\n    // Decrypt a block using a CBC and PKCS7.\n    // </summary>\n    // <param name=\"key\">The key value</param>\n    // <param name=\"data\">the data to decrypt</param>\n    // <returns>Returns the resulting data decrypted in plaintext.</returns>\n    static AesDecrypt(key, data) {\n        let bytes = aesjs.utils.hex.toBytes(key);\n        const iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ];\n        const encryptedBytes = aesjs.utils.hex.toBytes(data);\n        const aesCbc = new aesjs.ModeOfOperation.cbc(bytes, iv);\n        const decryptedBytes = aesCbc.decrypt(encryptedBytes);\n        const decrypted = aesjs.utils.utf8.fromBytes(aesjs.padding.pkcs7.strip(decryptedBytes));\n    \n        return decrypted;\n    }\n\n    // <summary>\n    // Calculates the HMACSHA256 signature of a message.\n    // </summary>\n    // <param name=\"key\">The Hmac Key as HEX</param>\n    // <param name=\"messageToSign\">The message to sign</param>\n    // <returns>The HMACSHA256 signature as a hex string</returns>\n    static HmacSignature(key, messageToSign) {\n        let shaObj = new jsSHA(\"SHA-256\", \"TEXT\");\n\n        shaObj.setHMACKey(key,'HEX');\n        shaObj.update(messageToSign);\n        \n        return shaObj.getHMAC(\"HEX\");\n    }\n\n\n    /**\n     * This utility function calculates the SHA-256 value in hexadecimal format\n     * @param {String} value the value to be hashed\n     */\n    static GenerateHash(value) {\n        let shaObj = new jsSHA('SHA-256', 'HEX');\n        shaObj.update(value);\n        const shaHash = shaObj.getHash('HEX');\n        return shaHash;\n    }\n}\n","import {Crypto} from './Crypto';\n\n// <summary>\n// Events statically declares the various event names in messages.\n// </summary>\nexport const Events = {\n     PairRequest : \"pair_request\",\n     KeyRequest : \"key_request\",\n     KeyResponse : \"key_response\",\n     KeyCheck : \"key_check\",\n     PairResponse : \"pair_response\",\n     DropKeysAdvice : \"drop_keys\",\n\n     LoginRequest : \"login_request\",\n     LoginResponse : \"login_response\",\n\n     Ping : \"ping\",\n     Pong : \"pong\",\n\n     PurchaseRequest : \"purchase\",\n     PurchaseResponse : \"purchase_response\",\n     CancelTransactionRequest : \"cancel_transaction\",\n     CancelTransactionResponse : \"cancel_response\",\n     GetLastTransactionRequest : \"get_last_transaction\",\n     GetLastTransactionResponse : \"last_transaction\",\n     RefundRequest : \"refund\",\n     RefundResponse : \"refund_response\",\n     SignatureRequired : \"signature_required\",\n     SignatureDeclined : \"signature_decline\",\n     SignatureAccepted : \"signature_accept\",\n     AuthCodeRequired : \"authorisation_code_required\",\n     AuthCodeAdvice : \"authorisation_code_advice\",\n\n     CashoutOnlyRequest : \"cash\",\n     CashoutOnlyResponse : \"cash_response\",\n\n     MotoPurchaseRequest : \"moto_purchase\",\n     MotoPurchaseResponse : \"moto_purchase_response\",\n\n     SettleRequest : \"settle\",\n     SettleResponse : \"settle_response\",\n     SettlementEnquiryRequest : \"settlement_enquiry\",\n     SettlementEnquiryResponse : \"settlement_enquiry_response\",\n\n     SetPosInfoRequest : \"set_pos_info\",\n     SetPosInfoResponse : \"set_pos_info_response\",\n\n     KeyRollRequest : \"request_use_next_keys\",\n     KeyRollResponse : \"response_use_next_keys\",\n\n     Error : \"error\",\n    \n     InvalidHmacSignature : \"_INVALID_SIGNATURE_\",\n\n    // Pay At Table Related Messages\n    PayAtTableGetTableConfig : \"get_table_config\", // incoming. When eftpos wants to ask us for P@T configuration.\n    PayAtTableSetTableConfig : \"set_table_config\", // outgoing. When we want to instruct eftpos with the P@T configuration.\n    PayAtTableGetBillDetails : \"get_bill_details\", // incoming. When eftpos wants to aretrieve the bill for a table.\n    PayAtTableBillDetails : \"bill_details\",        // outgoing. We reply with this when eftpos requests to us get_bill_details.\n    PayAtTableBillPayment : \"bill_payment\",        // incoming. When the eftpos advices \n\n    PrintingRequest : \"print\",\n    PrintingResponse : \"print_response\",\n\n    TerminalStatusRequest : \"get_terminal_status\",\n    TerminalStatusResponse : \"terminal_status\",\n\n    BatteryLevelChanged : \"battery_level_changed\"\n};\n\nexport const SuccessState = {\n    Unknown: 'Unknown', Success: 'Success', Failed: 'Failed'\n};\n\n// <summary>\n// MessageStamp represents what is required to turn an outgoing Message into Json\n// including encryption and date setting.\n// </summary>\nexport class MessageStamp {\n    constructor(posId, secrets, serverTimeDelta) {\n        this.PosId = posId;\n        this.Secrets = secrets;\n        this.ServerTimeDelta = serverTimeDelta;\n    }\n}\n\n// <summary>\n// MessageEnvelope represents the outer structure of any message that is exchanged\n// between the Pos and the PinPad and vice-versa.\n// See http://www.simplepaymentapi.com/#/api/message-encryption\n// </summary>\nexport class MessageEnvelope {\n    constructor(message, enc, hmac, posId) {\n        // <summary>\n        // The Message field is set only when in Un-encrypted form.\n        // In fact it is the only field in an envelope in the Un-Encrypted form.\n        // </summary>\n        this.Message = message;\n\n        // <summary>\n        // The enc field is set only when in Encrypted form.\n        // It contains the encrypted Json of another MessageEnvelope \n        // </summary>\n        this.Enc = enc;\n\n        // <summary>\n        // The hmac field is set only when in Encrypted form.\n        // It is the signature of the \"enc\" field.\n        // </summary>\n        this.Hmac = hmac;\n\n        // <summary>\n        // The pos_id field is only filled for outgoing Encrypted messages.\n        // </summary>\n        this.PosId = posId;\n    }\n\n    toJSON() {\n        return {\n            message: this.Message,\n            enc: this.Enc,\n            hmac: this.Hmac,\n            pos_id: this.PosId\n        }\n    }\n}\n\n// <summary>\n// Message represents the contents of a Message.\n// See http://www.simplepaymentapi.com/#/api/message-encryption\n// </summary>\nexport class Message {\n    constructor(id, eventName, data, needsEncryption) {\n        this.Id = id;\n        this.EventName = eventName;\n        this.Data = data;\n        this.DateTimeStamp = '';\n        this.PosId = ''; // Pos_id is set here only for outgoing Un-encrypted messages. \n        this.IncommingHmac = ''; // Sometimes the logic around the incoming message might need access to the sugnature, for example in the key_check.\n        this._needsEncryption = needsEncryption; // Denotes whether an outgoing message needs to be encrypted in ToJson()\n        this.DecryptedJson = ''; // Set on an incoming message just so you can have a look at what it looked like in its json form.\n    }\n\n    GetSuccessState() {\n        if(!this.Data || typeof this.Data.success === \"undefined\") {\n            return SuccessState.Unknown;\n        }\n\n        return this.Data.success ? SuccessState.Success : SuccessState.Failed;\n    }\n\n    GetError() {\n        return this.Data.error_reason ? this.Data.error_reason : \"\";\n    }\n\n    GetErrorDetail() {\n        return this.Data.error_detail;\n    }\n\n    GetServerTimeDelta()\n    {\n        let now = Date.now();\n        \n        // Stamp format: 2018-04-19T01:42:38.279\n        let dts = this.DateTimeStamp.split(/[\\-\\+\\. :T]/);\n        let msgTime = new Date(\n            // year, month, date\n            dts[0], dts[1] - 1, dts[2],\n            // hour, minute, second, millis\n            dts[3], dts[4], dts[5], dts[6]\n        ).getTime(); // Local time zone\n\n        return msgTime - now;\n    }\n\n    // Helper method to parse bank date format 20042018 (ddMMyyyy)\n    static ParseBankDate(bankDate) {\n        if(bankDate.length !== 8) return null;\n\n        return new Date(`${bankDate.substr(4,4)}-${bankDate.substr(2,2)}-${bankDate.substr(0,2)}`);\n    }\n\n    // Parses a bank date & time str from \"05Oct17\" / \"05:00\" (\"ddMMMyy/HH:mm\") into date obj\n    static ParseBankDateTimeStr(date, time) {\n        return new Date(`${date.substr(0,2)} ${date.substr(2,3)} ${date.substr(5,2)} ${time}`);\n    }\n\n    static FromJson(msgJson, secrets) {\n        let env = JSON.parse(msgJson);\n\n        if(env.message != null) {\n            let message = new Message(env.message.id, env.message.event, env.message.data, false);\n            message.DecryptedJson = msgJson;\n            return message;\n        }\n\n        if (secrets == null)\n        {\n            // This may happen if we somehow received an encrypted message from eftpos but we're not configered with secrets.\n            // For example, if we cancel the pairing process a little late in the game and we get an encrypted key_check message after we've dropped the keys.\n            return new Message(\"UNKNOWN\", \"NOSECRETS\", null, false);\n        }\n\n        // Its encrypted, verify sig\n        let sig = Crypto.HmacSignature(secrets.HmacKey, env.enc);\n        if (sig.toUpperCase() != env.hmac) {\n            return new Message(\"_\", Events.InvalidHmacSignature, null, false);\n        }\n\n        let decryptedJson = Crypto.AesDecrypt(secrets.EncKey, env.enc);\n\n        try {\n            let decryptedMsg = JSON.parse(decryptedJson);\n\n            let message = new Message(decryptedMsg.message.id, decryptedMsg.message.event, decryptedMsg.message.data, true);\n\n            message.DateTimeStamp = decryptedMsg.message.datetime;\n            message.PosId = decryptedMsg.message.pos_id;\n            message.IncomingHmac = env.hmac; \n            message.DecryptedJson = decryptedJson;\n\n            return message;\n\n        } catch(e) {\n            return new Message(\"UNKNOWN\", \"UNPARSEABLE\", {\"msg\": decryptedJson}, false);\n        }\n    }\n\n    ToJson(stamp) {\n        let now = Date.now();\n        let tzoffset = new Date().getTimezoneOffset() * 60 * 1000;\n        let adjustedTime = new Date(now - tzoffset + stamp.ServerTimeDelta);\n\n        // Format date: \"yyyy-MM-ddTHH:mm:ss.fff\"\n        this.DateTimeStamp = adjustedTime.toISOString().slice(0,-1);\n        this.PosId = stamp.PosId;\n        \n        var envelope = {\n            message: {\n                id: this.Id,\n                event: this.EventName,\n                data: this.Data,\n                datetime: this.DateTimeStamp\n            }\n        };\n\n        if (!this._needsEncryption) {\n            // Unencrypted Messages need PosID inside the message\n            envelope.message.pos_id = this.PosId\n        }\n        this.DecryptedJson = JSON.stringify(envelope);\n\n        if (!this._needsEncryption) {\n            return this.DecryptedJson;\n        }\n\n        let encMsg = Crypto.AesEncrypt(stamp.Secrets.EncKey, this.DecryptedJson);\n        let hmacSig = Crypto.HmacSignature(stamp.Secrets.HmacKey, encMsg);\n        let encrMessageEnvelope = {enc: encMsg, hmac: hmacSig.toUpperCase(), pos_id: stamp.PosId};\n\n        return JSON.stringify(encrMessageEnvelope);\n    }\n}\n","import {SuccessState} from './Messages';\n\n// <summary>\n// Represents the 3 Pairing statuses that the Spi instanxce can be in.\n// </summary>\nexport const SpiStatus = \n{\n    // <summary>\n    // Paired and Connected\n    // </summary>\n    PairedConnected: 'PairedConnected',\n    \n    // <summary>\n    // Paired but trying to establish a connection \n    // </summary>\n    PairedConnecting: 'PairedConnecting',\n    \n    // <summary>\n    // Unpaired\n    // </summary>\n    Unpaired: 'Unpaired'\n};\n\n// <summary>\n// The Spi instance can be in one of these flows at any point in time.\n// </summary>\nexport const SpiFlow = \n{\n    // <summary>\n    // Currently going through the Pairing Process Flow.\n    // Happens during the Unpaired SpiStatus.\n    // </summary>\n    Pairing: 'Pairing',\n    \n    // <summary>\n    // Currently going through the transaction Process Flow.\n    // Cannot happen in the Unpaired SpiStatus.\n    // </summary>\n    Transaction: 'Transaction',\n\n    // <summary>\n    // Not in any of the other states.\n    // </summary>\n    Idle: 'Idle'\n};\n\n// <summary>\n// Represents the Pairing Flow State during the pairing process \n// </summary>\nexport class PairingFlowState\n{\n    constructor(state) {\n        // <summary>\n        // Some text that can be displayed in the Pairing Process Screen\n        // that indicates what the pairing process is up to.\n        // </summary>\n        this.Message = null;\n\n        // <summary>\n        // When true, it means that the EFTPOS is shoing the confirmation code,\n        // and your user needs to press YES or NO on the EFTPOS.\n        // </summary>\n        this.AwaitingCheckFromEftpos = null;\n        \n        // <summary>\n        // When true, you need to display the YES/NO buttons on you pairing screen\n        // for your user to confirm the code.\n        // </summary>\n        this.AwaitingCheckFromPos = null;\n        \n        // <summary>\n        // This is the confirmation code for the pairing process.\n        // </summary>\n        this.ConfirmationCode = null;\n        \n        // <summary>\n        // Indicates whether the Pairing Flow has finished its job.\n        // </summary>\n        this.Finished = null;\n        \n        // <summary>\n        // Indicates whether pairing was successful or not.\n        // </summary>\n        this.Successful = null;\n\n        if(state) {\n            Object.assign(this, state);\n        }\n    }   \n}\n\nexport const TransactionType = \n{\n    Purchase: 'Purchase',\n    Refund: 'Refund',\n    CashoutOnly: 'CashoutOnly',\n    MOTO: 'MOTO',\n    Settle: 'Settle',\n    SettlementEnquiry: 'SettlementEnquiry',\n    GetLastTransaction: 'GetLastTransaction',\n    \n    Preauth: 'Preauth',\n    AccountVerify: 'AccountVerify'\n};\n\n// <summary>\n// Used as a return in the InitiateTx methods to signify whether \n// the transaction was initiated or not, and a reason to go with it.\n// </summary>\nexport class InitiateTxResult\n{\n    constructor(initiated, message)\n    {\n        // <summary>\n        // Whether the tx was initiated.\n        // When true, you can expect updated to your registered callback.\n        // When false, you can retry calling the InitiateX method.\n        // </summary>\n        this.Initiated = initiated;\n\n        // <summary>\n        // Text that gives reason for the Initiated flag, especially in case of false. \n        // </summary>\n        this.Message = message;\n    }\n}\n\n// <summary>\n// Used as a return in calls mid transaction to let you know\n// whether the call was valid or not.\n// These attributes work for COM interop.\n// </summary>\nexport class MidTxResult\n{\n    // <summary>\n    // This default stucture works for COM interop.\n    // </summary>\n    constructor(valid, message)\n    {\n        this.Valid = valid;\n        this.Message = message;\n    }\n}    \n\n// <summary>\n// Represents the State during a TransactionFlow\n// </summary>\nexport class TransactionFlowState\n{\n    constructor(posRefId, type, amountCents, message, msg)\n    {\n        // <summary>\n        //  The id given to this transaction\n        // </summary>\n        this.PosRefId   = posRefId;\n        this.Id         = posRefId; // obsolete, but let's maintain it for now, to mean same as PosRefId.\n\n        // <summary>\n        // Purchase/Refund/Settle/...\n        // </summary>\n        this.Type = type;\n\n        // <summary>\n        // A text message to display on your Transaction Flow Screen\n        // </summary>\n        this.DisplayMessage = msg;\n\n        // <summary>\n        // Amount in cents for this transaction\n        // </summary>\n        this.AmountCents = amountCents;\n\n        // <summary>\n        // Whther the request has been sent to the EFTPOS yet or not.\n        // In the PairedConnecting state, the transaction is initiated\n        // but the request is only sent once the connection is recovered.\n        // </summary>\n        this.RequestSent = false;\n\n        // <summary>\n        // The time when the request was sent to the EFTPOS.\n        // </summary>\n        this.RequestTime = null;\n                \n        // <summary>\n        // The time when we last asked for an update, including the original request at first\n        // </summary>\n        this.LastStateRequestTime = null;\n        \n        // <summary>\n        // Whether we're currently attempting to Cancel the transaction.\n        // </summary>\n        this.AttemptingToCancel = null;\n    \n        // <summary>\n        // When this flag is on, you need to display the dignature accept/decline buttons in your \n        // transaction flow screen.\n        // </summary>\n        this.AwaitingSignatureCheck = false;\n\n        // <summary>\n        // When this flag is on, you need to show your user the phone number to call to get the authorisation code.\n        // Then you need to provide your user means to enter that given code and submit it via SubmitAuthCode().\n        // </summary>\n        this.AwaitingPhoneForAuth = null;\n\n        // <summary>\n        // Whether this transaction flow is over or not.\n        // </summary>\n        this.Finished = false;\n\n        // <summary>\n        // The success state of this transaction. Starts off as Unknown.\n        // When finished, can be Success, Failed OR Unknown.\n        // </summary>\n        this.Success = SuccessState.Unknown;\n\n        // <summary>\n        // The response at the end of the transaction. \n        // Might not be present in all edge cases.\n        // You can then turn this Message into the appropriate structure,\n        // such as PurchaseResponse, RefundResponse, etc\n        // </summary>\n        this.Response = null;\n\n        // <summary>\n        // The message the we received from EFTPOS that told us that signature is required.\n        // </summary>\n        this.SignatureRequiredMessage = null;\n    \n        // <summary>\n        // The message the we received from EFTPOS that told us that Phone For Auth is required.\n        // </summary>\n        this.PhoneForAuthRequiredMessage = null;\n\n        // <summary>\n        // The time when the cancel attempt was made.\n        // </summary>\n        this.CancelAttemptTime = null;\n\n        // <summary>\n        // The request message that we are sending/sent to the server.\n        // </summary>\n        this.Request = message;\n\n        // <summary>\n        // Whether we're currently waiting for a Get Last Transaction Response to get an update. \n        // </summary>\n        this.AwaitingGltResponse = null;\n\n        this.GLTResponsePosRefId = null;\n    }\n\n    Sent(msg)\n    {\n        this.RequestSent = true;\n        this.RequestTime = Date.now();\n        this.LastStateRequestTime = Date.now();\n        this.DisplayMessage = msg;\n    }\n\n    Cancelling(msg)\n    {\n        this.AttemptingToCancel = true;\n        this.CancelAttemptTime = Date.now();\n        this.DisplayMessage = msg;\n    }\n\n    CancelFailed(msg)\n    {\n        this.AttemptingToCancel = false;\n        this.DisplayMessage = msg;\n    }\n\n    CallingGlt()\n    {\n        this.AwaitingGltResponse = true;\n        this.LastStateRequestTime = Date.now();\n    }\n\n    GotGltResponse()\n    {\n        this.AwaitingGltResponse = false;\n    }\n    \n    Failed(response, msg)\n    {\n        this.Success = SuccessState.Failed;\n        this.Finished = true;\n        this.Response = response;\n        this.DisplayMessage = msg;\n    }\n\n    SignatureRequired(spiMessage, msg)\n    {\n        this.SignatureRequiredMessage = spiMessage;\n        this.AwaitingSignatureCheck = true;\n        this.DisplayMessage = msg;\n    }\n\n    SignatureResponded(msg)\n    {\n        this.AwaitingSignatureCheck = false;\n        this.DisplayMessage = msg;\n    }\n    \n    PhoneForAuthRequired(spiMessage, msg)\n    {\n        this.PhoneForAuthRequiredMessage = spiMessage;\n        this.AwaitingPhoneForAuth = true;\n        this.DisplayMessage = msg;\n    }\n    \n    AuthCodeSent(msg)\n    {\n        this.AwaitingPhoneForAuth = false;\n        this.DisplayMessage = msg;\n    }\n\n    Completed(state, response, msg)\n    {\n        this.Success = state;\n        this.Response = response;\n        this.Finished = true;\n        this.AttemptingToCancel = false;\n        this.AwaitingGltResponse = false;\n        this.AwaitingSignatureCheck = false;\n        this.AwaitingPhoneForAuth = false;\n        this.DisplayMessage = msg;\n    }\n\n    UnknownCompleted(msg)\n    {\n        this.Success = SuccessState.Unknown;\n        this.Response = null;\n        this.Finished = true;\n        this.AttemptingToCancel = false;\n        this.AwaitingGltResponse = false;\n        this.AwaitingSignatureCheck = false;\n        this.AwaitingPhoneForAuth = false;\n        this.DisplayMessage = msg;\n    }\n}\n\n// <summary>\n// Used as a return in the SubmitAuthCode method to signify whether Code is valid\n// </summary>\nexport class SubmitAuthCodeResult\n{\n    constructor(validFormat, message)\n    {\n        this.ValidFormat = validFormat;\n\n        // <summary>\n        // Text that gives reason for Invalidity\n        // </summary>\n        this.Message = message;\n    }\n}\n\nexport class SpiConfig\n{\n    constructor() {\n        this.PromptForCustomerCopyOnEftpos  = false;\n        this.SignatureFlowOnEftpos          = false;\n        this.PrintMerchantCopy              = false;\n    }\n\n    addReceiptConfig(messageData)\n    {\n        if (this.PromptForCustomerCopyOnEftpos)\n        {\n            messageData.prompt_for_customer_copy = this.PromptForCustomerCopyOnEftpos;\n        }\n        if (this.SignatureFlowOnEftpos)\n        {\n            messageData.print_for_signature_required_transactions = this.SignatureFlowOnEftpos;\n        }\n        if (this.PrintMerchantCopy)\n        {\n            messageData.print_merchant_copy = this.PrintMerchantCopy;\n        }\n        return messageData;\n    }\n\n    ToString()\n    {\n        return `PromptForCustomerCopyOnEftpos:${this.PromptForCustomerCopyOnEftpos} SignatureFlowOnEftpos:${this.SignatureFlowOnEftpos} PrintMerchantCopy: ${this.PrintMerchantCopy}`;\n    }\n}\n\nexport class TransactionOptions\n{\n    constructor() {\n        this._customerReceiptHeader = null;\n        this._customerReceiptFooter = null;\n        this._merchantReceiptHeader = null;\n        this._merchantReceiptFooter = null;\n    }\n\n    SetCustomerReceiptHeader(customerReceiptHeader)\n    {\n        this._customerReceiptHeader = customerReceiptHeader;\n    }\n\n    SetCustomerReceiptFooter(customerReceiptFooter)\n    {\n        this._customerReceiptFooter = customerReceiptFooter;\n    }\n    SetMerchantReceiptHeader(merchantReceiptHeader)\n    {\n        this._merchantReceiptHeader = merchantReceiptHeader;\n    }\n    SetMerchantReceiptFooter(merchantReceiptFooter)\n    {\n        this._merchantReceiptFooter = merchantReceiptFooter;\n    }\n    AddOptions(messageData)\n    {\n        messageData.customer_receipt_header = this._customerReceiptHeader;\n        messageData.customer_receipt_footer = this._customerReceiptFooter;\n        messageData.merchant_receipt_header = this._merchantReceiptHeader;\n        messageData.merchant_receipt_footer = this._merchantReceiptFooter;\n\n        return messageData;\n    }\n}","let __RequestIdHelperCounter = 1;\n\nexport class RequestIdHelper {\n    static Id(prefix) {\n        return prefix + __RequestIdHelperCounter++;\n    }\n}\n","import {Events, Message} from './Messages';\nimport {RequestIdHelper} from './RequestIdHelper';\n\n// <summary>\n// Pairing Interaction 1: Outgoing\n// </summary>\nexport class PairRequest {\n    ToMessage() {\n        let data = {padding: true};\n        return new Message(RequestIdHelper.Id(\"pr\"), Events.PairRequest, data, false);\n    }\n}\n\n// Pairing Interaction 2: Incoming\nexport class KeyRequest {\n    constructor(m) {\n        this.RequestId = m.Id;\n        this.Aenc = m.Data.enc.A;\n        this.Ahmac = m.Data.hmac.A;\n    }\n}\n\n// Pairing Interaction 3: Outgoing\nexport class KeyResponse {\n    constructor(requestId, Benc, Bhmac) {\n        this.RequestId = requestId;\n        this.Benc = Benc;\n        this.Bhmac = Bhmac;\n    }\n\n    ToMessage() {\n        let data = {\n            enc: {\n                B: this.Benc\n            },\n            hmac: {\n                B: this.Bhmac\n            }\n        };\n\n        return new Message(this.RequestId, Events.KeyResponse, data, false);\n    }\n}\n\n// Pairing Interaction 4: Incoming\nexport class KeyCheck {\n    constructor(m) {\n        this.ConfirmationCode = m.IncomingHmac.substring(0,6);\n    }\n}\n\n// Pairing Interaction 5: Incoming\nexport class PairResponse {\n    constructor(m) {\n        this.Success = m.Data.success;\n    }\n}\n\n// Holder class for Secrets and KeyResponse, so that we can use them together in method signatures.\nexport class SecretsAndKeyResponse {\n    constructor(secrets, keyResponse) {\n        this.Secrets = secrets;\n        this.KeyResponse = keyResponse;\n    }\n}\n\nexport class DropKeysRequest\n{\n    ToMessage()\n    {\n        return new Message(RequestIdHelper.Id(\"drpkys\"), Events.DropKeysAdvice, null, true);\n    }\n}","export class Secrets {\n    constructor(encKey, hmacKey) {\n        this.EncKey     = encKey;\n        this.HmacKey    = hmacKey;\n    }\n\n    static save(EncKey, HmacKey) {\n        localStorage.setItem('EncKey', EncKey);\n        localStorage.setItem('HmacKey', HmacKey);\n    }\n\n    static restore() {\n        return new Secrets(localStorage.getItem('EncKey'), localStorage.getItem('HmacKey'));\n    }\n\n    static isSaved() {\n        return localStorage.getItem('EncKey') && localStorage.getItem('HmacKey');\n    }\n\n    static Reset() {\n        localStorage.removeItem('EncKey');\n        localStorage.removeItem('HmacKey');\n    }\n}\n","import BN from 'bn.js';\n\n// This creates the private and public keys for diffie-hellman (https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange#Cryptographic_explanation)\n// REQUIREMENTS: bn.js\n// ASSUMPTIONS: Inputs to the functions are hexadecimal strings\n\n// <summary>\n// This class implements the Diffie-Hellman algorithm using BigIntegers.\n// It can do the 3 main things:\n// 1. Generate a random Private Key for you.\n// 2. Generate your Public Key based on your Private Key.\n// 3. Generate the Secret given their Public Key and your Private Key\n// p and g are the shared constants for the algorithm, aka primeP and primeG.\n// </summary>\nexport class DiffieHellman {\n\n    constructor () {\n\n    }\n\n    // <summary>\n    // Generates a random Private Key that you can use.\n    // </summary>\n    // <param name=\"p\"></param>\n    // <returns>Random Private Key</returns>\n    RandomPrivateKey(maxValue) {\n        let maxValueBN      = new BN(maxValue);\n        let shiftDistance   = Math.floor((Math.random() * 1000) + 1);\n        let randBitInt      = maxValueBN.shrn(shiftDistance); // Right shift divides by a power of 2\n        let min             = new BN(2);\n\n        if(randBitInt.cmp(min) == -1) {\n            return min;\n        }\n\n        return randBitInt;\n    }\n\n    // <summary>\n    // Calculates the Public Key from a Private Key.\n    // </summary>\n    // <param name=\"p\"></param>\n    // <param name=\"g\"></param>\n    // <param name=\"privateKey\"></param>\n    // <returns>Public Key (Hex)</returns>\n    PublicKey(p, g, privateKey) {\n        const aHex = new BN(privateKey, 16);\n        const gHex = new BN(g, 16);\n        const montPrime = BN.mont(new BN(p, 16));\n        const gRed = gHex.toRed(montPrime);\n        const secret = gRed.redPow(aHex).fromRed().toString(16);\n\n        return secret;  \n    }\n\n    // <summary>\n    // Calculates the shared secret given their Public Key (A) and your Private Key (b)\n    // </summary>\n    // <param name=\"p\"></param>\n    // <param name=\"theirPublicKey\"></param>\n    // <param name=\"yourPrivateKey\"></param>\n    // <returns></returns>\n    Secret(p, theirPublicKey, yourPrivateKey) {\n        const bHex = new BN(theirPublicKey, 16);\n        const AHex = new BN(yourPrivateKey, 16);\n        const montPrime = BN.mont(new BN(p, 16));\n        const BRed = bHex.toRed(montPrime);\n\n        return BRed.redPow(AHex).fromRed().toString(16).toUpperCase();\n    }\n\n}\n","import {PairRequest, KeyResponse, SecretsAndKeyResponse} from './Pairing';\nimport {Secrets} from './Secrets';\nimport {Crypto} from './Crypto';\nimport {DiffieHellman} from './DiffieHellman';\n\n// This is the generator used for diffie-hellman in 2048-bit MODP Group 14 as per (https://tools.ietf.org/html/rfc3526#section-3)\nexport const GENERATOR = 2;\n\n// This is the prime used for diffie-hellman using 2048-bit MODP Group 14 as per (https://tools.ietf.org/html/rfc3526#section-3)\nexport const GROUP14_2048_BIT_MODP = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF';\n\n// <summary>\n// This static class helps you with the pairing process as documented here:\n// http://www.simplepaymentapi.com/#/api/pairing-process\n// </summary>\nexport class PairingHelper {\n    // <summary>\n    // Generates a pairing Request.\n    // </summary>\n    // <returns>New PairRequest</returns>\n    static NewPairRequest() {\n        return new PairRequest();\n    }\n\n    // <summary>\n    // Calculates/Generates Secrets and KeyResponse given an incoming KeyRequest.\n    // </summary>\n    // <param name=\"keyRequest\"></param>\n    // <returns>Secrets and KeyResponse to send back.</returns>\n    GenerateSecretsAndKeyResponse(keyRequest) {\n        let encPubAndSec = this._calculateMyPublicKeyAndSecret(keyRequest.Aenc);\n        let Benc = encPubAndSec.MyPublicKey;\n        let Senc = encPubAndSec.SharedSecretKey;\n\n        let hmacPubAndSec = this._calculateMyPublicKeyAndSecret(keyRequest.Ahmac);\n        let Bhmac = hmacPubAndSec.MyPublicKey;\n        let Shmac = hmacPubAndSec.SharedSecretKey;\n        \n        let secrets = new Secrets(Senc, Shmac);\n        let keyResponse = new KeyResponse(keyRequest.RequestId, Benc, Bhmac);\n\n        return new SecretsAndKeyResponse(secrets, keyResponse);\n    }\n\n    // <summary>\n    // Turns an incoming \"A\" value from the PinPad into the outgoing \"B\" value \n    // and the secret value using DiffieHelmman helper.\n    // </summary>\n    // <param name=\"theirPublicKey\">The incoming A value</param>\n    // <returns>Your B value and the Secret</returns>\n    _calculateMyPublicKeyAndSecret(theirPublicKey) {\n\n        let diffieHellman = new DiffieHellman();\n        let myPrivateBI = diffieHellman.RandomPrivateKey(GROUP14_2048_BIT_MODP);\n        let myPublicBI = diffieHellman.PublicKey(GROUP14_2048_BIT_MODP, GENERATOR, myPrivateBI);\n        let secretBI = diffieHellman.Secret(GROUP14_2048_BIT_MODP, theirPublicKey, myPrivateBI);\n\n        let secret = this.DHSecretToSPISecret(secretBI);\n\n        return new PublicKeyAndSecret(myPublicBI, secret);\n    }\n\n    // <summary>\n    // Converts the DH secret BigInteger into the hex-string to be used as the secret.\n    // There are some \"gotchyas\" here which is why this piece of work is abstracted so it can be tested separately.\n    // See: http://www.simplepaymentapi.com/#/api/pairing-process\n    // </summary>\n    // <param name=\"secretBI\">Secret as BigInteger</param>\n    // <returns>Secret as Hex-String</returns>\n    DHSecretToSPISecret(secret)\n    {      \n        // If the calculated hexadecimal secret doesn't have an even number of characters, we add an extra 0 to the start. This allows SHA-256 to operate on the hexadecimal secret as if it were a hexadecimal representation of a string.\n        if (secret.length % 2 === 1){\n            secret = '0' + secret;\n        }\n\n        secret = secret.padStart(512, '0');\n\n        // We sha256 that byte array and return the hex string result\n        return Crypto.GenerateHash(secret);\n    }\n}\n\n// <summary>\n// Internal Holder class for Public and Secret, so that we can use them together in method signatures. \n// </summary>\nexport class PublicKeyAndSecret {\n    constructor(myPublicKey, sharedSecretKey) {\n        this.MyPublicKey = myPublicKey;\n        this.SharedSecretKey = sharedSecretKey;\n    }\n}","export const ConnectionState = {\n    Disconnected: 'Disconnected',\n    Connecting: 'Connecting',\n    Connected: 'Connected'\n};\n\nexport const SPI_PROTOCOL   = 'spi.2.4.0';\n\nexport class ConnectionStateEventArgs\n{\n    constructor(connectionState) {\n        this.ConnectionState = connectionState;\n    }\n}\n\nexport class MessageEventArgs\n{\n    constructor(message) {\n        this.Message = message;\n    }\n}\n\nexport class Connection {\n    constructor() {\n        this.Address    = null;\n        this.Connected  = false;\n        this.State      = ConnectionState.Disconnected;\n        this.SpiProtocol = SPI_PROTOCOL;\n        this._ws        = null;\n\n        if(typeof WebSocket === 'undefined') {\n            throw new Error('Environment does not support WebSockets');\n        }\n    }\n\n    Connect(UseSecureWebSockets) {\n        if(this.State === ConnectionState.Connected || this.State === ConnectionState.Connecting) {\n            // already connected or connecting. disconnect first.\n            return;\n        }\n\n        this.State = ConnectionState.Connecting;\n\n        //Create a new socket instance specifying the url, SPI protocol and Websocket to use.\n        //The will create a TCP/IP socket connection to the provided URL and perform HTTP websocket negotiation\n        this._ws           = new WebSocket(this.Address, this.SpiProtocol);\n        this._ws.onopen    = () => this.pollWebSocketConnection();\n        this._ws.onmessage = (payload) => this.onMessageReceived(payload);\n        this._ws.onclose   = () => this.onClosed();\n        this._ws.onerror   = (err) => this.onError(err);\n\n        document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {detail: new ConnectionStateEventArgs(ConnectionState.Connecting)}));\n    }\n\n    Disconnect() {\n        if (this.State == ConnectionState.Disconnected) return;\n\n        if(this._ws && this._ws.readyState != this._ws.CLOSED) {\n            this._ws.close();\n        }\n\n        if (this._ws) {\n            this._ws.onopen    = null;\n            this._ws.onmessage = null;\n            this._ws.onclose   = null;\n            this._ws.onerror   = null;\n        }\n\n        this.onClosed();\n    }\n\n    Send(message) {\n        this._ws.send(message);\n    }\n\n    onOpened() {\n        this.State = ConnectionState.Connected;\n        this.Connected = true;\n        document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {detail: new ConnectionStateEventArgs(ConnectionState.Connected)}));\n    }\n\n    onClosed() {\n        this.Connected = false;\n        this.State = ConnectionState.Disconnected;\n        this._ws = null;\n        document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {detail: new ConnectionStateEventArgs(ConnectionState.Disconnected)}));\n    }\n\n    pollWebSocketConnection(count = 0) {\n        \n        if(this._ws.readyState === this._ws.OPEN) {\n            this.onOpened();\n            return true;\n        } else if(count < 25) {\n            count++;\n            setTimeout(() => this.pollWebSocketConnection(count), 200);\n        } else {\n            this.Disconnect();\n            return false;\n        }\n    }\n\n    onMessageReceived(message) {\n        document.dispatchEvent(new CustomEvent('MessageReceived', {detail: new MessageEventArgs(message.data)}));\n    }\n\n    onError(err) {\n        document.dispatchEvent(new CustomEvent('ErrorReceived', {detail: new MessageEventArgs(err)}));\n    }\n}\n","import {Events, SuccessState, Message} from './Messages';\nimport {RequestIdHelper} from './RequestIdHelper';\nimport {SpiConfig, TransactionOptions} from './SpiModels';\n\nexport class PurchaseRequest {\n    constructor(amountCents, posRefId) {\n        this.PosRefId = posRefId;\n        this.PurchaseAmount = amountCents;\n        this.TipAmount = 0;\n        this.CashoutAmount = 0;\n        this.PromptForCashout = false;\n        this.SurchargeAmount = 0;\n        this.Config = new SpiConfig();\n        this.Options = new TransactionOptions();\n\n        // Library Backwards Compatibility\n        this.Id = posRefId;\n        this.AmountCents = amountCents;\n    }\n\n    AmountSummary()\n    {\n        return `Purchase: ${(this.PurchaseAmount / 100.0).toFixed(2)}; \n            Tip: ${(this.TipAmount / 100.0).toFixed(2)}; \n            Cashout: ${(this.CashoutAmount / 100.0).toFixed(2)};`;\n    }\n\n    ToMessage() {\n        let data = {\n            pos_ref_id: this.PosRefId,\n            purchase_amount: this.PurchaseAmount,\n            tip_amount: this.TipAmount,\n            cash_amount: this.CashoutAmount,\n            prompt_for_cashout: this.PromptForCashout, \n            surcharge_amount: this.SurchargeAmount\n        };\n\n        this.Config.addReceiptConfig(data);\n        this.Options.AddOptions(data);\n        return new Message(RequestIdHelper.Id(\"prchs\"), Events.PurchaseRequest, data, true);\n    }\n}\n\nexport class PurchaseResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n        this.RequestId = m.Id;\n        this.PosRefId = m.Data.pos_ref_id;\n        this.SchemeName = m.Data.scheme_name;\n        this.SchemeAppName = m.Data.scheme_name;\n        this.Success = m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetRRN()\n    {\n        return this._m.Data.rrn;\n    }\n\n    GetPurchaseAmount()\n    {\n        return this._m.Data.purchase_amount;\n    }\n\n    GetTipAmount()\n    {\n        return this._m.Data.tip_amount;\n    }\n\n    GetSurchargeAmount()\n    {\n        return this._m.Data.surcharge_amount;\n    }\n\n    GetCashoutAmount()\n    {\n        return this._m.Data.cash_amount;\n    }\n\n    GetBankNonCashAmount()\n    {\n        return this._m.Data.bank_noncash_amount;\n    }\n\n    GetBankCashAmount()\n    {\n        return this._m.Data.bank_cash_amount;\n    }\n\n    GetCustomerReceipt()\n    {\n        return this._m.Data.customer_receipt || \"\";\n    }\n\n    GetMerchantReceipt()\n    {\n        return this._m.Data.merchant_receipt || \"\";\n    }\n\n    GetResponseText()\n    {\n        return this._m.Data.host_response_text || \"\";\n    }\n\n    GetResponseCode()\n    {\n        return this._m.Data.host_response_code;\n    }\n    \n    GetTerminalReferenceId()\n    {\n        return this._m.Data.terminal_ref_id;\n    }\n\n    GetCardEntry()\n    {\n        return this._m.Data.card_entry;\n    }\n    \n    GetAccountType()\n    {\n        return this._m.Data.account_type;\n    }\n\n    GetAuthCode()\n    {\n        return this._m.Data.auth_code;\n    }\n\n    GetBankDate()\n    {\n        return this._m.Data.bank_date;\n    }\n\n    GetBankTime()\n    {\n        return this._m.Data.bank_time;\n    }\n    \n    GetMaskedPan()\n    {\n        return this._m.Data.masked_pan;\n    }\n    \n    GetTerminalId()\n    {\n        return this._m.Data.terminal_id;\n    }\n\n    WasMerchantReceiptPrinted()\n    {\n        return this._m.Data.merchant_receipt_printed;\n    }\n\n    WasCustomerReceiptPrinted()\n    {\n        return this._m.Data.customer_receipt_printed;\n    }\n    \n    GetSettlementDate()\n    {\n        //\"bank_settlement_date\":\"20042018\"\n        var dateStr = this._m.Data.bank_settlement_date;\n        if (!dateStr) return null;\n        return Message.ParseBankDate(dateStr);\n    }\n\n    GetResponseValue(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n\n    ToPaymentSummary()\n    {\n        return {\n            account_type: this.GetAccountType(),\n            auth_code: this.GetAuthCode(),\n            bank_date: this.GetBankDate(),\n            bank_time: this.GetBankTime(),\n            host_response_code: this.GetResponseCode(),\n            host_response_text: this.GetResponseText(),\n            masked_pan: this.GetMaskedPan(),\n            purchase_amount: this.GetPurchaseAmount(),\n            rrn: this.GetRRN(),\n            scheme_name: this.SchemeName,\n            terminal_id: this.GetTerminalId(),\n            terminal_ref_id: this.GetTerminalReferenceId(),\n            tip_amount: this.GetTipAmount(),\n            surcharge_amount: this.GetSurchargeAmount()\n        };\n    }\n}\n\nexport class CancelTransactionRequest\n{\n    \n    ToMessage()\n    {\n        return new Message(RequestIdHelper.Id(\"ctx\"), Events.CancelTransactionRequest, null, true);\n    }\n}\n\nexport class CancelTransactionResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n        this.PosRefId = this._m.Data.pos_ref_id;\n        this.Success = this._m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetErrorReason()\n    {\n        return this._m.Data.error_reason;\n    }\n\n    GetErrorDetail()\n    {\n        return this._m.Data.error_detail;\n    }\n\n    GetResponseValueWithAttribute(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n}\n\nexport class GetLastTransactionRequest\n{\n    ToMessage()\n    {\n        return new Message(RequestIdHelper.Id(\"glt\"), Events.GetLastTransactionRequest, null, true);\n    }\n}\n\nexport class GetLastTransactionResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n    }\n\n    WasRetrievedSuccessfully()\n    {\n        // We can't rely on checking \"success\" flag or \"error\" fields here,\n        // as retrieval may be successful, but the retrieved transaction was a fail.\n        // So we check if we got back an ResponseCode.\n        // (as opposed to say an operation_in_progress_error)\n        return !!this.GetResponseCode();\n    }\n\n    WasTimeOutOfSyncError()\n    {\n        return this._m.GetError().startsWith(\"TIME_OUT_OF_SYNC\");\n    }\n\n    WasOperationInProgressError()\n    {\n        return this._m.GetError().startsWith(\"OPERATION_IN_PROGRESS\");\n    }\n\n    IsWaitingForSignatureResponse()\n    {\n        return this._m.GetError().startsWith(\"OPERATION_IN_PROGRESS_AWAITING_SIGNATURE\");\n    }\n\n    IsWaitingForAuthCode()\n    {\n        return this._m.GetError().startsWith(\"OPERATION_IN_PROGRESS_AWAITING_PHONE_AUTH_CODE\");\n    }\n    \n    IsStillInProgress(posRefId)\n    {\n        return this.WasOperationInProgressError() && this.GetPosRefId() == posRefId;\n    }\n\n    GetSuccessState()\n    {\n        return this._m.GetSuccessState();\n    }\n\n    WasSuccessfulTx()\n    {\n        return this._m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetTxType()\n    {\n        return this._m.Data.transaction_type;\n    }\n\n    GetPosRefId()\n    {\n        return this._m.Data.pos_ref_id;\n    }\n\n    GetSchemeApp()\n    {\n        return this._m.Data.scheme_name;\n    }\n\n    GetSchemeName()\n    {\n        return this._m.Data.scheme_name;\n    }\n\n    GetAmount()\n    {\n        return this._m.Data.amount_purchase;\n    }\n\n    GetTransactionAmount()\n    {\n        return this._m.Data.amount_transaction_type;\n    }\n\n    GetBankDateTimeString()\n    {\n        var ds = this._m.Data.bank_date + this._m.Data.bank_time;\n        return ds;\n    }\n\n    GetRRN()\n    {\n        return this._m.Data.rrn;\n    }\n    \n    GetResponseText()\n    {\n        return this._m.Data.host_response_text | \"\";\n    }\n\n    GetResponseCode()\n    {\n        return this._m.Data.host_response_code;\n    }\n\n    // <summary>\n    // There is a bug, VSV-920, whereby the customer_receipt is missing from a glt response.\n    // The current recommendation is to use the merchant receipt in place of it if required.\n    // This method modifies the underlying incoming message data by copying\n    // the merchant receipt into the customer receipt only if there \n    // is a merchant_receipt and there is not a customer_receipt.   \n    // </summary>\n    CopyMerchantReceiptToCustomerReceipt()\n    {\n        var cr = this._m.Data.customer_receipt;\n        var mr = this._m.Data.merchant_receipt;\n        if (mr != \"\" && !(cr))\n        {\n            this._m.Data.customer_receipt = mr;\n        }\n    }\n}\n\nexport class RefundRequest\n{\n    constructor(amountCents, posRefId, isSuppressMerchantPassword)\n    {\n        this.AmountCents = amountCents;\n        this.Id = RequestIdHelper.Id(\"refund\");\n        this.PosRefId = posRefId;\n        this.IsSuppressMerchantPassword = isSuppressMerchantPassword;\n        this.Config = new SpiConfig();\n        this.Options = new TransactionOptions();\n    }\n    \n    ToMessage()\n    {\n        let data = {\n            refund_amount: this.AmountCents, \n            pos_ref_id: this.PosRefId,\n            suppress_merchant_password: this.IsSuppressMerchantPassword\n        };\n        \n        this.Config.addReceiptConfig(data);\n        // this.Options.AddOptions(data);\n        return new Message(RequestIdHelper.Id(\"refund\"), Events.RefundRequest, data, true);\n    }\n}\n\nexport class RefundResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n        this.RequestId = m.Id;\n        this.PosRefId = m.Data.pos_ref_id;\n        this.SchemeName = m.Data.scheme_name;\n        this.SchemeAppName = m.Data.scheme_name;\n        this.Success = m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetRefundAmount()\n    {\n        return this._m.Data.refund_amount;\n    }\n\n    GetRRN()\n    {\n        return this._m.Data.rrn;\n    }\n\n    GetCustomerReceipt()\n    {\n        return this._m.Data.customer_receipt || \"\";\n    }\n\n    GetMerchantReceipt()\n    {\n        return this._m.Data.merchant_receipt;\n    }\n    \n    GetResponseText()\n    {\n        return this._m.Data.host_response_text || \"\";\n    }\n\n    GetResponseCode()\n    {\n        return this._m.Data.host_response_code || \"\";\n    }\n\n\n    GetTerminalReferenceId()\n    {\n        return this._m.Data.terminal_ref_id || \"\";\n    }\n    GetCardEntry()\n    {\n        return this._m.Data.card_entry || \"\";\n    }\n    GetAccountType()\n    {\n        return this._m.Data.account_type || \"\";\n    }\n    GetAuthCode()\n    {\n        return this._m.Data.auth_code || \"\";\n    }\n    GetBankDate()\n    {\n        return this._m.Data.bank_date || \"\";\n    }\n    GetBankTime()\n    {\n        return this._m.Data.bank_time || \"\";\n    }\n    GetMaskedPan()\n    {\n        return this._m.Data.masked_pan || \"\";\n    }\n    GetTerminalId()\n    {\n        return this._m.Data.terminal_id || \"\";\n    }\n    WasMerchantReceiptPrinted()\n    {\n        return this._m.Data.merchant_receipt_printed;\n    }\n    WasCustomerReceiptPrinted()\n    {\n        return this._m.Data.customer_receipt_printed;\n    }\n    GetSettlementDate()\n    {\n        //\"bank_settlement_date\":\"20042018\"\n        var dateStr = this._m.Data.bank_settlement_date;\n        if (!dateStr) return null;\n        return Message.ParseBankDate(dateStr);\n    }\n\n    GetResponseValue(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n}\n\nexport class SignatureRequired\n{\n    constructor(m)\n    {\n        this.RequestId = m.Id;\n        this.PosRefId = m.Data.pos_ref_id;\n        this._receiptToSign = m.Data.merchant_receipt;\n    }\n    \n    SignatureRequired(posRefId, requestId, receiptToSign)\n    {\n        this.RequestId = requestId;\n        this.PosRefId = posRefId;\n        this._receiptToSign = receiptToSign;\n    }\n\n    GetMerchantReceipt()\n    {\n        return this._receiptToSign;\n    }\n}\n\nexport class SignatureDecline\n{\n    constructor(posRefId)\n    {\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            pos_ref_id: this.PosRefId\n        };\n        return new Message(RequestIdHelper.Id(\"sigdec\"), Events.SignatureDeclined, data, true);\n    }\n}\n\nexport class SignatureAccept\n{\n    constructor(posRefId)\n    {\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            pos_ref_id: this.PosRefId\n        };\n        return new Message(RequestIdHelper.Id(\"sigacc\"), Events.SignatureAccepted, data, true);\n    }\n}\n\nexport class MotoPurchaseRequest\n{\n    constructor(amountCents, posRefId, surchargeAmount)\n    {\n        this.PosRefId = posRefId;\n        this.PurchaseAmount = amountCents;\n        this.SurchargeAmount = surchargeAmount;\n        this.Config = new SpiConfig();\n        this.Options = new TransactionOptions();\n    }\n\n    ToMessage()\n    {\n        var data = {\n            pos_ref_id: this.PosRefId,\n            purchase_amount: this.PurchaseAmount,\n            surcharge_amount: this.SurchargeAmount\n        };\n        this.Config.addReceiptConfig(data);\n        return new Message(RequestIdHelper.Id(\"moto\"), Events.MotoPurchaseRequest, data, true);\n    }\n}\n\nexport class MotoPurchaseResponse\n{\n    constructor(m)\n    {\n        this.PurchaseResponse = new PurchaseResponse(m);\n        this.PosRefId = PurchaseResponse.PosRefId;\n    }\n}\n\nexport class PhoneForAuthRequired\n{\n    constructor(...args)\n    {\n        if(args.length === 4) {\n            this.PosRefId = args[0];\n            this.RequestId = args[1];\n            this._phoneNumber = args[2];\n            this._merchantId = args[3];\n        } else if(args.length === 1) {\n            this.RequestId = args[0].Id;\n            this.PosRefId = args[0].Data.pos_ref_id;\n            this._phoneNumber = args[0].Data.auth_centre_phone_number;\n            this._merchantId = args[0].Data.merchant_id;\n        } else {\n            throw new Error('Invalid call sig for Phone auth required class');\n        }\n    }\n    \n    GetPhoneNumber()\n    {\n        return this._phoneNumber;\n    }\n    \n    GetMerchantId()\n    {\n        return this._merchantId;\n    }\n}\n\nexport class AuthCodeAdvice\n{\n    constructor(posRefId, authCode)\n    {\n        this.PosRefId = posRefId;\n        this.AuthCode = authCode;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            pos_ref_id: this.PosRefId,\n            auth_code: this.AuthCode\n        };\n        return new Message(RequestIdHelper.Id(\"authad\"), Events.AuthCodeAdvice, data, true);\n    }\n}","import {Events, Message} from './Messages';\nimport {PurchaseResponse} from './Purchase';\n\n// <summary>\n// This class represents the BillDetails that the POS will be asked for throughout a PayAtTable flow.\n// </summary>\nexport class BillStatusResponse\n{\n    constructor() {\n        // <summary>\n        // Set this Error accordingly if you are not able to return the BillDetails that were asked from you.\n        // </summary>\n        this.Result = null;\n        \n        // <summary>\n        // This is a unique identifier that you assign to each bill.\n        // It migt be for example, the timestamp of when the cover was opened.\n        // </summary>\n        this.BillId = null;\n        \n        // <summary>\n        // This is the table id that this bill was for.\n        // The waiter will enter it on the Eftpos at the start of the PayAtTable flow and the Eftpos will \n        // retrieve the bill using the table id. \n        // </summary>\n        this.TableId = null;\n        \n        // <summary>\n        // The Total Amount on this bill, in cents.\n        // </summary>\n        this.TotalAmount = 0;\n        \n        // <summary>\n        // The currently outsanding amount on this bill, in cents.\n        // </summary>\n        this.OutstandingAmount = 0;\n\n        // <summary>\n        // Your POS is required to persist some state on behalf of the Eftpos so the Eftpos can recover state.\n        // It is just a piece of string that you save against your billId.\n        // WHenever you're asked for BillDetails, make sure you return this piece of data if you have it.\n        // </summary>\n        this.BillData = \"\";\n    }\n\n    getBillPaymentHistory()\n    {\n        if (!this.BillData)\n        {\n            return [];\n        }\n        \n        let billPaymentHistory = [];\n        let savedBillData = JSON.parse(this.BillData);\n\n        return savedBillData.map((bill) => {\n            return new PaymentHistoryEntry(bill.payment_type, bill.payment_summary);\n        });\n    }\n\n    static ToBillData(ph)\n    {\n        if (ph.length < 1)\n        {\n            return \"\";\n        }\n\n        return JSON.stringify(ph);\n    }\n    \n    ToMessage(messageId)\n    {\n        var data = {\n            \"success\": this.Result==BillRetrievalResult.SUCCESS\n        };\n        \n        if (this.BillId) data.bill_id = this.BillId;\n        if (this.TableId) data.table_id = this.TableId;\n\n        if (this.Result == BillRetrievalResult.SUCCESS)\n        {\n            data.bill_total_amount = this.TotalAmount;\n            data.bill_outstanding_amount = this.OutstandingAmount;\n            data.bill_payment_history = this.getBillPaymentHistory();\n        }\n        else\n        {\n            data.error_reason = this.Result.toString();\n            data.error_detail = this.Result.toString();\n        }\n\n        return new Message(messageId, Events.PayAtTableBillDetails, data, true);\n    }\n}\n\nexport const BillRetrievalResult = \n{\n    SUCCESS: 'SUCCESS',\n    INVALID_TABLE_ID: 'INVALID_TABLE_ID',\n    INVALID_BILL_ID: 'INVALID_BILL_ID',\n    INVALID_OPERATOR_ID: 'INVALID_OPERATOR_ID'\n};\n\nexport const PaymentType = \n{\n    CARD: 'CARD',\n    CASH: 'CASH' \n};\n\nexport class BillPayment\n{\n    constructor(m)\n    {\n        this._incomingAdvice = m;\n        this.BillId = this._incomingAdvice.Data[\"bill_id\"];\n        this.TableId = this._incomingAdvice.Data[\"table_id\"];\n        this.OperatorId = this._incomingAdvice.Data[\"operator_id\"];\n        \n        var pt = this._incomingAdvice.Data[\"payment_type\"];\n        this.PaymentType = pt;\n        \n        // this is when we ply the sub object \"payment_details\" into a purchase response for convenience.\n        var purchaseMsg = new Message(m.Id, \"payment_details\", m.Data[\"payment_details\"], false);\n        this.PurchaseResponse = new PurchaseResponse(purchaseMsg);\n\n        this.PurchaseAmount = this.PurchaseResponse.GetPurchaseAmount();\n        this.TipAmount = this.PurchaseResponse.GetTipAmount();\n    }\n}\n\nexport class PaymentHistoryEntry\n{\n    constructor(paymentType, paymentSummary)\n    {\n        this.PaymentType = paymentType;\n        this.PaymentSummary = paymentSummary;\n    }\n\n    toJSON() {\n        return {\n            payment_type: this.PaymentType,\n            payment_summary: this.PaymentSummary\n        };\n    }\n    \n    GetTerminalRefId()\n    {\n        return this.PaymentSummary[\"terminal_ref_id\"];\n    }\n}\n\nexport class PayAtTableConfig\n{\n    constructor() {\n        this.PayAtTabledEnabled = false;\n        this.OperatorIdEnabled = false;\n        this.SplitByAmountEnabled = false;\n        this.EqualSplitEnabled = false;\n    \n        this.TippingEnabled = false;\n    \n        this.SummaryReportEnabled = false;\n    \n        this.LabelPayButton = '';\n        this.LabelOperatorId = '';\n        this.LabelTableId = '';\n    \n        // \n        // <summary>\n        // Fill in with operator ids that the eftpos terminal will validate against. \n        // Leave Empty to allow any operator_id through. \n        // </summary>\n       this.AllowedOperatorIds = [];\n    }\n\n    ToMessage(messageId)\n    {\n        var data = {\n            \"pay_at_table_enabled\": this.PayAtTabledEnabled,\n            \"operator_id_enabled\": this.OperatorIdEnabled,\n            \"split_by_amount_enabled\": this.SplitByAmountEnabled,\n            \"equal_split_enabled\": this.EqualSplitEnabled,\n            \"tipping_enabled\": this.TippingEnabled,\n            \"summary_report_enabled\": this.SummaryReportEnabled,\n            \"pay_button_label\": this.LabelPayButton,\n            \"operator_id_label\": this.LabelOperatorId,\n            \"table_id_label\": this.LabelTableId,\n            \"operator_id_list\": this.AllowedOperatorIds\n        };\n\n        return new Message(messageId, Events.PayAtTableSetTableConfig, data, true);\n    }\n    \n    static FeatureDisableMessage(messageId) {\n        var data = {\n            \"pay_at_table_enabled\": false\n        };\n        return new Message(messageId, Events.PayAtTableSetTableConfig, data, true);\n    }\n}\n\n    ","import {RequestIdHelper} from './RequestIdHelper';\nimport {BillPayment, PayAtTableConfig, PaymentHistoryEntry, BillRetrievalResult, BillStatusResponse} from './PayAtTable';\n\nexport class SpiPayAtTable\n{  \n    constructor(spi)\n    {\n        this._spi = spi;\n        this._log = console;\n\n        this.Config = Object.assign(new PayAtTableConfig(), {\n            PayAtTabledEnabled: true,\n            OperatorIdEnabled: true,\n            AllowedOperatorIds: [],\n            EqualSplitEnabled: true,\n            SplitByAmountEnabled: true,\n            SummaryReportEnabled: true,\n            TippingEnabled: true,\n            LabelOperatorId: \"Operator ID\",\n            LabelPayButton: \"Pay at Table\",\n            LabelTableId: \"Table Number\"\n        });\n    }\n\n    // <summary>\n    // This delegate will be called when the Eftpos needs to know the current state of a bill for a table. \n    // <para />\n    // Parameters:<para />\n    // billId - The unique identifier of the bill. If empty, it means that the PayAtTable flow on the Eftpos is just starting, and the lookup is by tableId.<para />\n    // tableId - The identifier of the table that the bill is for. <para />\n    // operatorId - The id of the operator entered on the eftpos. <para />\n    // <para />\n    // Return:<para />\n    // You need to return the current state of the bill.\n    // </summary>\n    GetBillStatus(billId, tableId, operatorId) {\n        throw new Error('Method not implemented. Please overwrite this method in your POS');\n    }\n\n    // Abstract method, must implement in POS system\n    BillPaymentReceived(billPayment, updatedBillData) {\n        throw new Error('Method not implemented. Please overwrite this method in your POS');\n    }\n\n    PushPayAtTableConfig()\n    {\n        this._spi._send(this.Config.ToMessage(RequestIdHelper.Id(\"patconf\")));\n    } \n    \n    _handleGetBillDetailsRequest(m)\n    {\n        var operatorId = m.Data[\"operator_id\"];\n        var tableId = m.Data[\"table_id\"];\n\n        // Ask POS for Bill Details for this tableId, inluding encoded PaymentData\n        var billStatus = this.GetBillStatus(null, tableId, operatorId);\n        billStatus.TableId = tableId;\n        if (billStatus.TotalAmount <= 0)\n        {\n            this._log.info(\"Table has 0 total amount. not sending it to eftpos.\");\n            billStatus.Result = BillRetrievalResult.INVALID_TABLE_ID;\n        }\n        \n        this._spi._send(billStatus.ToMessage(m.Id));\n    }\n\n    _handleBillPaymentAdvice(m)\n    {\n        var billPayment = new BillPayment(m);\n        \n        // Ask POS for Bill Details, inluding encoded PaymentData\n        var existingBillStatus = this.GetBillStatus(billPayment.BillId, billPayment.TableId, billPayment.OperatorId);\n        if (existingBillStatus.Result != BillRetrievalResult.SUCCESS)\n        {\n            this._log.warn(\"Could not retrieve Bill Status for Payment Advice. Sending Error to Eftpos.\");\n            this._spi._send(existingBillStatus.ToMessage(m.Id));\n        }\n                    \n        var existingPaymentHistory = existingBillStatus.getBillPaymentHistory();\n   \n        var foundExistingEntry = existingPaymentHistory.find(phe => phe.GetTerminalRefId() == billPayment.PurchaseResponse.GetTerminalReferenceId());\n        if (foundExistingEntry)\n        {\n            // We have already processed this payment.\n            // perhaps Eftpos did get our acknowledgement.\n            // Let's update Eftpos.\n            this._log.warn(\"Had already received this bill_paymemnt advice from eftpos. Ignoring.\");\n            this._spi._send(existingBillStatus.ToMessage(m.Id));\n            return;\n        }\n\n        // Let's add the new entry to the history\n        var updatedHistoryEntries = existingPaymentHistory;\n        updatedHistoryEntries.push(\n            new PaymentHistoryEntry(billPayment.PaymentType.toLowerCase(), billPayment.PurchaseResponse.ToPaymentSummary())\n        );\n        \n        var updatedBillData = BillStatusResponse.ToBillData(updatedHistoryEntries);\n\n        // Advise POS of new payment against this bill, and the updated BillData to Save.\n        var updatedBillStatus = this.BillPaymentReceived(billPayment, updatedBillData);\n\n        // Just in case client forgot to set these:\n        updatedBillStatus.BillId = billPayment.BillId;\n        updatedBillStatus.TableId = billPayment.TableId;\n\n        if (updatedBillStatus.Result != BillRetrievalResult.SUCCESS)\n        {\n            this._log.warn(\"POS Errored when being Advised of Payment. Letting EFTPOS know, and sending existing bill data.\");\n            updatedBillStatus.BillData = existingBillStatus.BillData;\n        }\n        else\n        {\n            updatedBillStatus.BillData = updatedBillData;\n        }\n    \n        this._spi._send(updatedBillStatus.ToMessage(m.Id));\n    }\n    \n    _handleGetTableConfig(m)\n    {\n        this._spi._send(this.Config.ToMessage(m.Id));\n    }\n}\n","import {RequestIdHelper} from './RequestIdHelper';\nimport {Message} from './Messages';\nimport {PurchaseResponse} from './Purchase';\n\nexport const PreauthEvents = \n{\n    AccountVerifyRequest: \"account_verify\",\n    AccountVerifyResponse: \"account_verify_response\",\n    \n    PreauthOpenRequest : \"preauth\",\n    PreauthOpenResponse : \"preauth_response\",\n\n    PreauthTopupRequest: \"preauth_topup\",\n    PreauthTopupResponse: \"preauth_topup_response\",\n\n    PreauthExtendRequest: \"preauth_extend\",\n    PreauthExtendResponse: \"preauth_extend_response\",\n\n    PreauthPartialCancellationRequest : \"preauth_partial_cancellation\",\n    PreauthPartialCancellationResponse : \"preauth_partial_cancellation_response\",\n    \n    PreauthCancellationRequest : \"preauth_cancellation\",\n    PreauthCancellationResponse : \"preauth_cancellation_response\",\n\n    PreauthCompleteRequest : \"completion\",\n    PreauthCompleteResponse : \"completion_response\"\n};\n\nexport class AccountVerifyRequest\n{\n    constructor(posRefId)\n    {\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId\n        };\n\n        return new Message(RequestIdHelper.Id(\"prav\"), PreauthEvents.AccountVerifyRequest, data, true);\n    }\n}\n\nexport class AccountVerifyResponse\n{\n    constructor(m)\n    {\n        this.Details = new PurchaseResponse(m);\n        this.PosRefId = this.Details.PosRefId;\n        this._m = m;\n    }\n}\n\nexport class PreauthOpenRequest\n{\n    constructor(amountCents, posRefId)\n    {\n        this.PosRefId = posRefId;\n        this.PreauthAmount = amountCents;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_amount\": this.PreauthAmount\n        };\n\n        return new Message(RequestIdHelper.Id(\"prac\"), PreauthEvents.PreauthOpenRequest, data, true);\n    }\n}\n\nexport class PreauthTopupRequest\n{\n    constructor(preauthId, topupAmountCents, posRefId)\n    {\n        this.PreauthId = preauthId;\n        this.TopupAmount = topupAmountCents;\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_id\": this.PreauthId,\n            \"topup_amount\": this.TopupAmount\n        };\n\n        return new Message(RequestIdHelper.Id(\"prtu\"), PreauthEvents.PreauthTopupRequest, data, true);\n    }\n}\n\nexport class PreauthPartialCancellationRequest\n{\n    constructor(preauthId, partialCancellationAmountCents, posRefId)\n    {\n        this.PreauthId = preauthId;\n        this.PartialCancellationAmount = partialCancellationAmountCents;\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_id\": this.PreauthId,\n            \"preauth_cancel_amount\": this.PartialCancellationAmount\n        };\n\n        return new Message(RequestIdHelper.Id(\"prpc\"), PreauthEvents.PreauthPartialCancellationRequest, data, true);\n    }\n}\n\nexport class PreauthExtendRequest\n{\n    constructor(preauthId, posRefId)\n    {\n        this.PreauthId = preauthId;\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_id\": this.PreauthId\n        };\n\n        return new Message(RequestIdHelper.Id(\"prext\"), PreauthEvents.PreauthExtendRequest, data, true);\n    }\n}\n\nexport class PreauthCancelRequest\n{\n    constructor(preauthId, posRefId)\n    {\n        this.PreauthId = preauthId;\n        this.PosRefId = posRefId;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_id\": this.PreauthId\n        };\n\n        return new Message(RequestIdHelper.Id(\"prac\"), PreauthEvents.PreauthCancellationRequest, data, true);\n    }\n}\n\nexport class PreauthCompletionRequest\n{\n    constructor(preauthId, completionAmountCents, posRefId, surchargeAmount)\n    {\n        this.PreauthId = preauthId;\n        this.CompletionAmount = completionAmountCents;\n        this.PosRefId = posRefId;\n        this.SurchargeAmount = surchargeAmount;\n    }\n\n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"preauth_id\": this.PreauthId,\n            \"completion_amount\": this.CompletionAmount,\n            \"surcharge_amount\": this.SurchargeAmount\n        };\n\n        return new Message(RequestIdHelper.Id(\"prac\"), PreauthEvents.PreauthCompleteRequest, data, true);\n    }\n}\n\nexport class PreauthResponse\n{\n    constructor(m)\n    {\n        this.PreauthId = m.Data[\"preauth_id\"];\n        this.Details = new PurchaseResponse(m);\n        this.PosRefId = this.Details.PosRefId;\n        this._m = m;\n    }\n\n    GetBalanceAmount()\n    {\n        var txType = this._m.Data[\"transaction_type\"];\n        switch (txType)\n        {\n            case \"PRE-AUTH\":\n                return this._m.Data[\"preauth_amount\"];\n            case \"TOPUP\":\n                return this._m.Data[\"balance_amount\"];\n            case \"CANCEL\": // PARTIAL CANCELLATION\n                return this._m.Data[\"balance_amount\"];\n            case \"PRE-AUTH EXT\":\n                return this._m.Data[\"balance_amount\"];\n            case \"PCOMP\":\n                return 0; // Balance is 0 after completion\n            case \"PRE-AUTH CANCEL\":\n                return 0; // Balance is 0 after cancellation\n            default:\n                return 0;\n        }\n    }\n\n    GetPreviousBalanceAmount()\n    {\n        var txType = this._m.Data[\"transaction_type\"];\n        switch (txType)\n        {   \n            case \"PRE-AUTH\":\n                return 0;\n            case \"TOPUP\":\n                return this._m.Data[\"existing_preauth_amount\"];\n            case \"CANCEL\": // PARTIAL CANCELLATION\n                return this._m.Data[\"existing_preauth_amount\"];\n            case \"PRE-AUTH EXT\":\n                return this._m.Data[\"existing_preauth_amount\"];\n            case \"PCOMP\":\n                // THIS IS TECHNICALLY NOT CORRECT WHEN COMPLETION HAPPENS FOR A PARTIAL AMOUNT.\n                // BUT UNFORTUNATELY, THIS RESPONSE DOES NOT CONTAIN \"existing_preauth_amount\".\n                // SO \"completion_amount\" IS THE CLOSEST WE HAVE.\n                return this._m.Data[\"completion_amount\"];\n            case \"PRE-AUTH CANCEL\":\n                return this._m.Data[\"preauth_amount\"];\n            default:\n                return 0;\n        }\n    }\n    \n    GetCompletionAmount()\n    {\n        var txType = this._m.Data[\"transaction_type\"];\n        switch (txType)\n        {   \n            case \"PCOMP\":\n                return this._m.Data[\"completion_amount\"];\n            default:\n                return 0;\n        }\n\n    }\n\n    GetSurchargeAmount()\n    {\n        var txType = this._m.Data[\"transaction_type\"];\n        switch (txType)\n        {\n            case \"PCOMP\":\n                return this._m.Data[\"surcharge_amount\"];\n            default:\n                return 0;\n        }\n    }\n}","import {\n    PreauthEvents,\n    AccountVerifyRequest, \n    PreauthOpenRequest, \n    PreauthTopupRequest, \n    PreauthPartialCancellationRequest, \n    PreauthExtendRequest,\n    PreauthCompletionRequest,\n    PreauthCancelRequest} from './Preauth';\n\n\nimport {TransactionFlowState, TransactionType, InitiateTxResult, SpiStatus, SpiFlow} from './SpiModels';\n\nexport class SpiPreauth\n{\n    constructor(spi)\n    {\n        this._spi = spi;\n        this._log = console;\n    }\n\n    InitiateAccountVerifyTx(posRefId)\n    {\n        var verifyMsg = new AccountVerifyRequest(posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.AccountVerify, 0, verifyMsg,\n            \"Waiting for EFTPOS connection to make account verify request\");\n        var sentMsg = \"Asked EFTPOS to verify account\";\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n    \n    InitiateOpenTx(posRefId, amountCents)\n    {\n        var msg = new PreauthOpenRequest(amountCents, posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, amountCents, msg,\n            `Waiting for EFTPOS connection to make preauth request for ${(amountCents / 100.0).toFixed(2)}`);\n        var sentMsg = `Asked EFTPOS to create preauth for ${(amountCents / 100.0).toFixed(2)}`;\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    InitiateTopupTx(posRefId, preauthId, amountCents)\n    {\n        var msg = new PreauthTopupRequest(preauthId, amountCents, posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, amountCents, msg,\n            `Waiting for EFTPOS connection to make preauth topup request for ${(amountCents / 100.0).toFixed(2)}`);\n        var sentMsg = `Asked EFTPOS to make preauth topup for ${(amountCents / 100.0).toFixed(2)}`;\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    InitiatePartialCancellationTx(posRefId, preauthId, amountCents)\n    {\n        var msg = new PreauthPartialCancellationRequest(preauthId, amountCents, posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, amountCents, msg,\n            `Waiting for EFTPOS connection to make preauth partial cancellation request for ${(amountCents / 100.0).toFixed(2)}`);\n        var sentMsg = `Asked EFTPOS to make preauth partial cancellation for ${(amountCents / 100.0).toFixed(2)}`;\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    InitiateExtendTx(posRefId, preauthId)\n    {\n        var msg = new PreauthExtendRequest(preauthId, posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, 0, msg,\n            \"Waiting for EFTPOS connection to make preauth Extend request\");\n        var sentMsg = \"Asked EFTPOS to make preauth Extend request\";\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    InitiateCompletionTx(posRefId, preauthId, amountCents, surchargeAmount)\n    {\n        var msg = new PreauthCompletionRequest(preauthId, amountCents, posRefId, surchargeAmount).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, amountCents, msg,\n            `Waiting for EFTPOS connection to make preauth completion request for ${(amountCents / 100.0).toFixed(2)}`);\n        var sentMsg = `Asked EFTPOS to make preauth completion for ${(amountCents / 100.0).toFixed(2)}`;\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    InitiateCancelTx(posRefId, preauthId)\n    {\n        var msg = new PreauthCancelRequest(preauthId, posRefId).ToMessage();\n        var tfs = new TransactionFlowState(\n            posRefId, TransactionType.Preauth, 0, msg,\n            \"Waiting for EFTPOS connection to make preauth cancellation request\");\n        var sentMsg = \"Asked EFTPOS to make preauth cancellation request\";\n        return this._initiatePreauthTx(tfs, sentMsg);\n    }\n\n    _initiatePreauthTx(tfs, sentMsg)\n    {\n        if (this._spi.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n\n        if (this._spi.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n\n        this._spi.CurrentFlow = SpiFlow.Transaction;\n        this._spi.CurrentTxFlowState = tfs;\n        if (this._spi._send(tfs.Request))\n        {\n            this._spi.CurrentTxFlowState.Sent(sentMsg);\n        }\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this._spi.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Preauth Initiated\");\n    }\n\n    _handlePreauthMessage(m)\n    {\n        switch (m.EventName)\n        {\n            case PreauthEvents.AccountVerifyResponse:\n                this._handleAccountVerifyResponse(m);\n                break;\n            case PreauthEvents.PreauthOpenResponse:\n            case PreauthEvents.PreauthTopupResponse:\n            case PreauthEvents.PreauthPartialCancellationResponse:\n            case PreauthEvents.PreauthExtendResponse:\n            case PreauthEvents.PreauthCompleteResponse:\n            case PreauthEvents.PreauthCancellationResponse:\n                this._handlePreauthResponse(m);\n                break;\n            default:\n                this._log.info(`I don't Understand Preauth Event: ${m.EventName}, ${m.Data}. Perhaps I have not implemented it yet.`);\n                break;\n        }\n    }\n\n    _handleAccountVerifyResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        var currentTxFlowState = this._spi.CurrentTxFlowState;\n        if (this._spi.CurrentFlow != SpiFlow.Transaction || currentTxFlowState.Finished || !currentTxFlowState.PosRefId === incomingPosRefId)\n        {\n            this._log.info(`Received Account Verify response but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        // TH-1A, TH-2A\n\n        currentTxFlowState.Completed(m.GetSuccessState(), m, \"Account Verify Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this._spi.CurrentTxFlowState}));\n    }\n    \n    _handlePreauthResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        var currentTxFlowState = this._spi.CurrentTxFlowState;\n        if (this._spi.CurrentFlow != SpiFlow.Transaction || currentTxFlowState.Finished || !currentTxFlowState.PosRefId === incomingPosRefId)\n        {\n            this._log.info(`Received Preauth response but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        // TH-1A, TH-2A\n\n        currentTxFlowState.Completed(m.GetSuccessState(), m, \"Preauth Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this._spi.CurrentTxFlowState}));\n    }\n\n    static IsPreauthEvent(eventName)\n    {\n        return eventName.lastIndexOf(\"preauth\",0) === 0 \n                || eventName == PreauthEvents.PreauthCompleteResponse\n                || eventName == PreauthEvents.PreauthCompleteRequest\n                || eventName == PreauthEvents.AccountVerifyRequest\n                || eventName == PreauthEvents.AccountVerifyResponse;\n    }\n}\n","import {Message, Events, SuccessState} from './Messages';\nimport {SpiConfig, TransactionOptions} from './SpiModels';\nimport {RequestIdHelper} from './RequestIdHelper';\n\nexport class CashoutOnlyRequest\n{  \n    constructor(amountCents, posRefId, surchargeAmount)\n    {\n        this.PosRefId = posRefId;\n        this.CashoutAmount = amountCents;\n        this.SurchargeAmount = surchargeAmount;\n        this.Config = new SpiConfig();\n        this.Options = new TransactionOptions();\n    }\n    \n    ToMessage()\n    {\n        var data = {\n            \"pos_ref_id\": this.PosRefId,\n            \"cash_amount\": this.CashoutAmount,\n            \"surcharge_amount\": this.SurchargeAmount\n        };\n\n        this.Config.addReceiptConfig(data);\n        return new Message(RequestIdHelper.Id(\"cshout\"), Events.CashoutOnlyRequest, data, true);\n    }\n}\n\nexport class CashoutOnlyResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n        this.RequestId = m.Id;\n        this.PosRefId = m.Data.pos_ref_id;\n        this.SchemeName = m.Data.scheme_name;\n        this.Success = m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetRRN()\n    {\n        return this._m.Data[\"rrn\"];\n    }\n\n    GetCashoutAmount()\n    {\n        return this._m.Data[\"cash_amount\"];\n    }\n\n    GetBankNonCashAmount()\n    {\n        return this._m.Data[\"bank_noncash_amount\"];\n    }\n\n    GetBankCashAmount()\n    {\n        return this._m.Data[\"bank_cash_amount\"];\n    }\n    \n    GetCustomerReceipt()\n    {\n        return this._m.Data[\"customer_receipt\"];\n    }\n\n    GetMerchantReceipt()\n    {\n        return this._m.Data[\"merchant_receipt\"];\n    }\n    \n    GetResponseText()\n    {\n        return this._m.Data[\"host_response_text\"];\n    }\n\n    GetResponseCode()\n    {\n        return this._m.Data[\"host_response_code\"];\n    }\n    \n    GetTerminalReferenceId()\n    {\n        return this._m.Data[\"terminal_ref_id\"];\n    }\n\n    GetAccountType()\n    {\n        return this._m.Data[\"account_type\"];\n    }\n\n    GetAuthCode()\n    {\n        return this._m.Data[\"auth_code\"];\n    }\n\n    GetBankDate()\n    {\n        return this._m.Data[\"bank_date\"];\n    }\n\n    GetBankTime()\n    {\n        return this._m.Data[\"bank_time\"];\n    }\n    \n    GetMaskedPan()\n    {\n        return this._m.Data[\"masked_pan\"];\n    }\n    \n    GetTerminalId()\n    {\n        return this._m.Data[\"terminal_id\"];\n    }\n\n    WasMerchantReceiptPrinted()\n    {\n        return this._m.Data[\"merchant_receipt_printed\"];\n    }\n\n    WasCustomerReceiptPrinted()\n    {\n        return this._m.Data[\"customer_receipt_printed\"];\n    }\n    \n    GetSurchargeAmount()\n    {\n        return this._m.Data[\"surcharge_amount\"];\n    }\n\n    GetResponseValue(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n\n}","import {Events, SuccessState, Message} from './Messages';\n\nexport class SettleRequest {\n    constructor(id) {\n        this.Id = id;\n    }\n\n    ToMessage() {\n        return new Message(this.Id, Events.SettleRequest, null, true);\n    }\n}\n\nexport class Settlement {\n    constructor(m) {\n        this.RequestId = m.Id;\n        this._m = m;\n        this.Success = m.GetSuccessState() == SuccessState.Success;\n    }\n\n    GetSettleByAcquirerCount()\n    {\n        return this._m.Data.accumulated_settle_by_acquirer_count;\n    }\n\n    GetSettleByAcquirerValue()\n    {\n        return this._m.Data.accumulated_settle_by_acquirer_value;\n    }\n\n    GetTotalCount()\n    {\n        return this._m.Data.accumulated_total_count;\n    }\n\n    GetTotalValue()\n    {\n        return this._m.Data.accumulated_total_value;\n    }\n\n    GetPeriodStartTime()\n    {\n        var timeStr = this._m.Data.settlement_period_start_time; // \"05:00\"\n        var dateStr = this._m.Data.settlement_period_start_date; // \"05Oct17\"\n        return Message.ParseBankDateTimeStr(dateStr, timeStr);\n    }\n\n    GetPeriodEndTime()\n    {\n        var timeStr = this._m.Data.settlement_period_end_time; // \"05:00\"\n        var dateStr = this._m.Data.settlement_period_end_date; // \"05Oct17\"\n        return Message.ParseBankDateTimeStr(dateStr, timeStr);\n    }\n\n    GetTriggeredTime()\n    {\n        var timeStr = this._m.Data.settlement_triggered_time; // \"05:00:45\"\n        var dateStr = this._m.Data.settlement_triggered_date; // \"05Oct17\"\n        return Message.ParseBankDateTimeStr(dateStr, timeStr);\n    }\n\n    GetResponseText()\n    {\n        return this._m.Data.host_response_text;\n    }\n    \n    GetReceipt()\n    {\n        return this._m.Data.merchant_receipt;\n    }\n\n    GetTransactionRange()\n    {\n        return this._m.Data.transaction_range;\n    }\n\n    GetTerminalId()\n    {\n        return this._m.Data.terminal_id;\n    }\n\n    GetSchemeSettlementEntries()\n    {\n        var schemes = this._m.Data.schemes;\n        if (!schemes) return [];\n\n        return schemes.map((scheme) => {\n            return new SchemeSettlementEntry(scheme);\n        });\n    }\n}\n\nexport class SchemeSettlementEntry\n{\n    // SchemeSettlementEntry(string schemeName, bool settleByAcquirer, int totalCount, int totalValue)\n    // SchemeSettlementEntry(Object schemeObj)\n    constructor(...args)\n    {\n        if(args.length === 1) {\n            this.SchemeName = args[0].scheme_name;\n            this.SettleByAcquirer = args[0].settle_by_acquirer.toLowerCase() == \"yes\";\n            this.TotalValue = parseInt(args[0].total_value,10);\n            this.TotalCount = parseInt(args[0].total_count,10);\n        } else if(args.length === 4) {\n            this.SchemeName = args[0];\n            this.SettleByAcquirer = args[1];\n            this.TotalCount = args[2];\n            this.TotalValue = args[3];\n        }\n    }\n    \n    ToString()\n    {\n        return `SchemeName: ${this.SchemeName}, SettleByAcquirer: ${this.SettleByAcquirer}, TotalCount: ${this.TotalCount}, TotalValue: ${this.TotalValue}`;\n    }\n}\n\nexport class SettlementEnquiryRequest\n{\n    constructor(id)\n    {\n        this.Id = id;\n    }\n    \n    ToMessage()\n    {\n        return new Message(this.Id, Events.SettlementEnquiryRequest, null, true);\n    }\n}","import {Message, Events, SuccessState} from './Messages';\nimport {RequestIdHelper} from './RequestIdHelper';\n\nexport class SetPosInfoRequest\n{\n    constructor(version, vendorId, libraryLanguage, libraryVersion, otherInfo)\n    {\n        this._version = version;\n        this._vendorId = vendorId;\n        this._libraryLanguage = libraryLanguage;\n        this._libraryVersion = libraryVersion;\n        this._otherInfo = otherInfo;\n    }\n\n    toMessage()\n    {\n        var data = {\n            pos_version: this._version,\n            pos_vendor_id: this._vendorId,\n            library_language: this._libraryLanguage,\n            library_version: this._libraryVersion,\n            other_info: this._otherInfo\n        };\n\n        return new Message(RequestIdHelper.Id(\"prav\"), Events.SetPosInfoRequest, data, true);\n    }\n}\n\nexport class SetPosInfoResponse\n{\n    constructor(m)\n    {\n        this._success = m.GetSuccessState() == SuccessState.Success;\n        this._m = m;\n    }\n    isSuccess()\n    {\n        return this._success;\n    }\n    getErrorReason()\n    {\n        return this._m.Data.error_reason;\n    }\n    getErrorDetail()\n    {\n        return this._m.Data.error_detail;\n    }\n    getResponseValueWithAttribute(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n}\n\nexport class DeviceInfo\n{\n    static GetAppDeviceInfo()\n    {\n        var deviceInfo = {};\n        deviceInfo['device_system'] = navigator.userAgent;\n        // deviceInfo.Add(\"device_system\", Environment.OSVersion.Platform.ToString() + \" \" + Environment.OSVersion.Version.ToString());\n        return deviceInfo;\n    }\n}\n","import {PurchaseRequest, RefundRequest} from './Purchase';\n\nexport class PurchaseHelper\n{\n    static CreatePurchaseRequest(amountCents, purchaseId)\n    {\n        return new PurchaseRequest(amountCents, purchaseId);\n    }\n    \n    static CreatePurchaseRequestV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout, surchargeAmount)\n    {\n        var pr = Object.assign(new PurchaseRequest(purchaseAmount, posRefId),\n        {\n            CashoutAmount: cashoutAmount,\n            TipAmount: tipAmount,\n            PromptForCashout: promptForCashout,\n            SurchargeAmount: surchargeAmount\n        });\n\n        return pr;\n    }\n\n    static CreateRefundRequest(amountCents, purchaseId, isSuppressMerchantPassword)\n    {\n        return new RefundRequest(amountCents, purchaseId, isSuppressMerchantPassword);\n    }\n\n}\n","import {Events, Message} from './Messages';\nimport {Crypto} from './Crypto';\nimport {Secrets} from './Secrets';\n\nexport class KeyRollingHelper {\n    static PerformKeyRolling(krRequest, currentSecrets)\n    {\n        let m = new Message(krRequest.Id, Events.KeyRollResponse, {\"status\": \"confirmed\"}, true);\n        let newSecrets = new Secrets(Crypto.GenerateHash(currentSecrets.EncKey).toUpperCase(),Crypto.GenerateHash(currentSecrets.HmacKey).toUpperCase());\n        return new KeyRollingResult(m, newSecrets);\n    }\n}\n\nexport class KeyRollingResult {\n    constructor(keyRollingConfirmation, newSecrets) {\n        this.KeyRollingConfirmation = keyRollingConfirmation;\n        this.NewSecrets = newSecrets;\n    }\n}\n","import {RequestIdHelper} from './RequestIdHelper';\nimport {Events, Message} from './Messages';\n\nexport class PongHelper\n{\n    static GeneratePongRessponse(ping)\n    {\n        return new Message(ping.Id, Events.Pong, null, true);\n    }\n}\n\nexport class PingHelper\n{\n    static GeneratePingRequest()\n    {\n        return new Message(RequestIdHelper.Id(\"ping\"), Events.Ping, null, true);\n    }\n}\n","export class DeviceAddressStatus\n{\n    get Address()\n    {\n        if(this.UseSecureWebSockets) \n        {\n            return this.fqdn;\n        } \n        else\n        {\n            return this.ip;\n        }\n    }\n\n    set Address(address)\n    {\n        if(this.UseSecureWebSockets) \n        {\n            this.fqdn = addreses;\n        } \n        else\n        {\n            this.ip = address;\n        }\n    }\n\n    constructor(useSecureWebSockets) \n    {\n        this.UseSecureWebSockets = useSecureWebSockets;\n\n        this.ip = null;\n        this.fqdn = null;\n        this.last_updated = null;\n    }\n}\n\nexport class DeviceAddressService\n{\n    // RetrieveService(serialNumber, apiKey = 'spi-sample-pos1', acquirerCode, useSecureWebSockets, isTestMode)\n    RetrieveService(serialNumber, apiKey = 'spi-sample-pos1', acquirerCode, isSecureConnection, isTestMode)    \n    {\n        var path = isSecureConnection ? 'fqdn' : 'ip';\n        var deviceAddressUri = isTestMode ? `https://device-address-api-sb.${acquirerCode}.mspenv.io/v1/${serialNumber}/${path}` : `https://device-address-api.${acquirerCode}.mspenv.io/v1/${serialNumber}/${path}`;\n\n        return fetch(deviceAddressUri, {\n            method: 'GET',\n            headers: {\n                \"ASM-MSP-DEVICE-ADDRESS-API-KEY\": apiKey\n            }\n        })\n        .then(response => response.json())\n        .catch((response) => {\n            console.error(`Status code ${response.StatusCode} received from ${deviceAddressUri} - Exception ${response.error}`);\n        })\n    }\n}\n","import {Events, Message, SuccessState} from './Messages';\nimport {RequestIdHelper} from './RequestIdHelper';\n\nexport class PrintingRequest\n{\n    constructor(key, payload)\n    {\n        this._key = key;\n        this._payload = payload;\n    }\n\n    toMessage()\n    {\n        var data = {\n            \"key\": this._key,\n            \"payload\": this._payload\n        };\n\n        return new Message(RequestIdHelper.Id(\"print\"), Events.PrintingRequest, data, true);\n    }\n}\n\nexport class PrintingResponse\n{\n    constructor(m)\n    {\n        this._success = m.GetSuccessState() == SuccessState.Success;\n        this._m = m;\n    }\n    isSuccess()\n    {\n        return this._success;\n    }\n    getErrorReason()\n    {\n        return this._m.Data.error_reason;\n    }\n    getErrorDetail()\n    {\n        return this._m.Data.error_detail;\n    }\n    getResponseValueWithAttribute(attribute)\n    {\n        return this._m.Data[attribute];\n    }\n}\n\n/**\n * This class is a mock printer for the terminal to print Receipts\n */\nexport class Printer {\n    constructor(element) {\n        this.buffer     = [];\n        this.element    = element;\n    }\n\n    print(...args) {\n        this.buffer.push(args.join(' '));\n        this._render();\n    }\n\n    _render() {\n        this.element.innerText = this.buffer.join(`\\n\\n \\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/\\\\/ \\n\\n`);\n        this.element.scrollTop = this.element.scrollHeight;\n    }\n\n    Clear() {\n        this.buffer = [];\n        this._render();\n    }\n}","import {Events, Message} from './Messages';\nimport {RequestIdHelper} from './RequestIdHelper';\n\nexport class TerminalStatusRequest\n{\n    ToMessage()\n    {\n        var data = {};\n\n        return new Message(RequestIdHelper.Id(\"trmnl\"), Events.TerminalStatusRequest, data, true);\n    }\n}\n\nexport class TerminalStatusResponse\n{\n    constructor(m)\n    {\n        this._m = m;\n    }\n    GetStatus()\n    {\n        return this._m.Data.status;\n    }\n    GetBatteryLevel()\n    {\n        return parseInt(this._m.Data.battery_level,10);\n    }\n    IsCharging()\n    {\n        return !!this._m.Data.charging;\n    }\n}\n\nexport class TerminalBattery\n{\n    constructor(m)\n    {\n        this.BatteryLevel = parseInt(m.Data.battery_level,10);\n    }\n}\n","import {Message, MessageStamp, Events, SuccessState} from './Messages';\nimport {SpiConfig, SpiFlow, SpiStatus, PairingFlowState, TransactionFlowState, TransactionType, InitiateTxResult, MidTxResult, SubmitAuthCodeResult} from './SpiModels';\nimport {RequestIdHelper} from './RequestIdHelper';\nimport {PairingHelper} from './PairingHelper';\nimport {Connection, ConnectionState} from './Connection';\nimport {SpiPayAtTable} from './SpiPayAtTable';\nimport {PayAtTableConfig} from './PayAtTable';\nimport {SpiPreauth} from './SpiPreauth';\nimport {CashoutOnlyRequest} from './Cashout';\nimport {SettleRequest, SettlementEnquiryRequest} from './Settlement';\nimport {DropKeysRequest, KeyRequest, KeyCheck, PairResponse} from './Pairing';\nimport {SetPosInfoRequest, SetPosInfoResponse, DeviceInfo} from './PosInfo';\nimport {PurchaseHelper} from './PurchaseHelper';\nimport {KeyRollingHelper} from './KeyRollingHelper';\nimport {PingHelper, PongHelper} from './PingHelper';\nimport {GetLastTransactionRequest, GetLastTransactionResponse, SignatureAccept, SignatureDecline, MotoPurchaseRequest, AuthCodeAdvice, CancelTransactionRequest, SignatureRequired, CancelTransactionResponse, PhoneForAuthRequired} from './Purchase';\nimport {DeviceAddressService, DeviceAddressStatus} from './Service/DeviceService';\nimport {PrintingRequest} from './Printing';\nimport {TerminalStatusRequest} from './TerminalStatus';\n\nexport const SPI_VERSION = '2.4.10';\n\nexport default class Spi {\n\n    get CurrentStatus() {\n        return this._currentStatus;\n    }\n\n    set CurrentStatus(value) {\n        if(this._currentStatus === value) {\n            return;\n        }\n\n        this._currentStatus = value;\n        document.dispatchEvent(new CustomEvent('StatusChanged', {detail: value}));\n    }\n\n    constructor(posId, serialNumber, eftposAddress, secrets) \n    {\n        this._posId = posId;\n        this._serialNumber = serialNumber;\n        this._secrets = secrets;\n        this._forceSecureWebSockets = false;\n        this._eftposAddress = \"ws://\" + eftposAddress;\n        this._log = console;\n        this.Config = new SpiConfig();\n\n        this.CurrentDeviceStatus = null;\n        this._deviceApiKey  = null;\n        this._acquirerCode  = null;\n        this._inTestMode    = false;\n        this._autoAddressResolutionEnabled = false;\n\n        // Our stamp for signing outgoing messages\n        this._spiMessageStamp = new MessageStamp(this._posId, this._secrets, 0);\n\n        this._posVendorId = null;\n        this._posVersion = null;\n        this._hasSetInfo = null;\n\n        // We will maintain some state\n        this._mostRecentPingSent = null;\n        this._mostRecentPongReceived = null;\n        this._missedPongsCount = 0;\n        this._retriesSinceLastDeviceAddressResolution = 0;\n        this._mostRecentLoginResponse = null;\n\n        this._pongTimeout = 5000;\n        this._pingFrequency = 18000;\n        \n        this._readyToTransact = null;\n        this._periodicPingThread = null;\n\n        this._txMonitorCheckFrequency = 1000;\n        this._checkOnTxFrequency = 20000;\n        this._maxWaitForCancelTx = 10000;\n        this._sleepBeforeReconnectMs = 5000;\n        this._missedPongsToDisconnect = 2;\n        this._retriesBeforeResolvingDeviceAddress = 5;\n\n        this.CurrentFlow                = null;\n        this.CurrentPairingFlowState    = null;\n        this.CurrentTxFlowState         = null;\n    }\n\n    EnablePayAtTable()\n    {\n        this._spiPat = new SpiPayAtTable(this);\n        return this._spiPat;\n    }\n\n    DisablePayAtTable()\n    {\n        this._spiPat = new SpiPayAtTable(this);\n        this._spiPat.Config.PayAtTabledEnabled = false;\n        return this._spiPat;\n    }\n\n    EnablePreauth()\n    {\n        this._spiPreauth = new SpiPreauth(this);\n        return this._spiPreauth;\n    }\n\n    Start() {\n\n        if (!this._posVendorId || !this._posVersion)\n        {\n            // POS information is now required to be set\n            this._log.warn(\"Missing POS vendor ID and version. posVendorId and posVersion are required before starting\");\n            throw new Error(\"Missing POS vendor ID and version. posVendorId and posVersion are required before starting\");\n        }\n\n        this._resetConn();\n        this._startTransactionMonitoringThread();\n\n        this.CurrentFlow = SpiFlow.Idle;\n        if (this._secrets != null)\n        {\n            this._log.info(\"Starting in Paired State\");\n            this._currentStatus = SpiStatus.PairedConnecting;\n            this._conn.Connect(); // This is non-blocking\n        }\n        else\n        {\n            this._log.info(\"Starting in Unpaired State\");\n            this._currentStatus = SpiStatus.Unpaired;\n        } \n    }\n\n    /// <summary>\n    /// Set the acquirer code of your bank, please contact Assembly's Integration Engineers for acquirer code.\n    /// </summary>\n    SetAcquirerCode(acquirerCode)\n    {\n        this._acquirerCode = acquirerCode;\n        return true;\n    }\n\n    /// <summary>\n    /// Set the api key used for auto address discovery feature\n    /// </summary>\n    /// <returns></returns>\n    SetDeviceApiKey(deviceApiKey)\n    {\n        this._deviceApiKey = deviceApiKey;\n        return true;\n    }\n\n    /// <summary>\n    /// Allows you to set the serial number of the Eftpos\n    /// </summary>\n    SetSerialNumber(serialNumber)\n    {\n        if (this.CurrentStatus != SpiStatus.Unpaired)\n            return false;\n\n        var was = this._serialNumber;\n        this._serialNumber = serialNumber;\n        if (this._autoAddressResolutionEnabled && this.HasSerialNumberChanged(was))\n        {\n            this._autoResolveEftposAddress();\n        }\n\n        return true;\n    }\n\n    /// <summary>\n    /// Allows you to set the auto address discovery feature. \n    /// </summary>\n    /// <returns></returns>\n    SetAutoAddressResolution(autoAddressResolutionEnable)\n    {\n        if (this.CurrentStatus == SpiStatus.PairedConnected)\n            return false;\n\n        var was = this._autoAddressResolutionEnabled;\n        this._autoAddressResolutionEnabled = autoAddressResolutionEnable;\n        if (autoAddressResolutionEnable && !was)\n        {\n            // we're turning it on\n            this._autoResolveEftposAddress();\n        }\n\n        return true;\n    }\n\n    /// <summary>\n    /// Call this method to set the client library test mode.\n    /// Set it to true only while you are developing the integration. \n    /// It defaults to false. For a real merchant, always leave it set to false. \n    /// </summary>\n    /// <param name=\"testMode\"></param>\n    /// <returns></returns>\n    SetTestMode(testMode)\n    {\n        if (this.CurrentStatus != SpiStatus.Unpaired)\n            return false;\n\n        if (testMode == this._inTestMode)\n            return true;\n\n        // we're changing mode\n        this._inTestMode = testMode;\n        this._autoResolveEftposAddress();\n        return true;\n    }\n\n    /// <summary>\n    /// Set the client library to use secure web sockets TLS (wss protocol)\n    /// </summary>\n    /// <param name=\"isSecure\"></param>\n    /// <returns></returns>\n    SetSecureWebSockets(useSecureWebSockets)\n    {\n        this._forceSecureWebSockets = useSecureWebSockets;\n    }\n\n    // <summary>\n    // Allows you to set the PosId which identifies this instance of your POS.\n    // Can only be called in thge Unpaired state. \n    // </summary>\n    SetPosId(posId)\n    {\n        if (this.CurrentStatus != SpiStatus.Unpaired)\n            return false;\n\n        this._posId = posId;\n        this._spiMessageStamp.PosId = posId;\n        return true;\n    }\n\n    // <summary>\n    // Allows you to set the PinPad address. Sometimes the PinPad might change IP address \n    // (we recommend reserving static IPs if possible).\n    // Either way you need to allow your User to enter the IP address of the PinPad.\n    // </summary>\n    SetEftposAddress(address)\n    {\n        if (this.CurrentStatus == SpiStatus.PairedConnected || this._autoAddressResolutionEnabled) {\n            return false;\n        }\n\n        this._eftposAddress = \"ws://\" + address;\n        this._conn.Address = this._eftposAddress;\n        return true;\n    }\n\n    static GetVersion()\n    {\n        return SPI_VERSION;\n    }\n\n    /**\n     * Sets values used to identify the POS software to the EFTPOS terminal.\n     * Must be set before starting!\n     *\n     * @param posVendorId Vendor identifier of the POS itself.\n     * @param posVersion  Version string of the POS itself.\n     */\n    SetPosInfo(posVendorId, posVersion)\n    {\n        this._posVendorId = posVendorId;\n        this._posVersion = posVersion;\n    }\n\n    // <summary>\n    // Call this one when a flow is finished and you want to go back to idle state.\n    // Typically when your user clicks the \"OK\" bubtton to acknowldge that pairing is\n    // finished, or that transaction is finished.\n    // When true, you can dismiss the flow screen and show back the idle screen.\n    // </summary>\n    // <returns>true means we have moved back to the Idle state. false means current flow was not finished yet.</returns>\n    AckFlowEndedAndBackToIdle()\n    {\n        if (this.CurrentFlow == SpiFlow.Idle)\n            return true; // already idle\n\n        if (this.CurrentFlow == SpiFlow.Pairing && this.CurrentPairingFlowState.Finished)\n        {\n            this.CurrentFlow = SpiFlow.Idle;\n            return true;\n        }\n        \n        if (this.CurrentFlow == SpiFlow.Transaction && this.CurrentTxFlowState.Finished)\n        {\n            this.CurrentFlow = SpiFlow.Idle;\n            return true;\n        }\n\n        return false;\n    }\n\n    // endregion\n\n    // <summary>\n    // This will connect to the Eftpos and start the pairing process.\n    // Only call this if you are in the Unpaired state.\n    // Subscribe to the PairingFlowStateChanged event to get updates on the pairing process.\n    // </summary>\n    // <returns>Whether pairing has initiated or not</returns>\n    Pair()\n    {\n        if (this.CurrentStatus != SpiStatus.Unpaired) {\n            this._log.warn(\"Tried to Pair but we're already so.\");\n            return false;\n        }\n\n        if (!this._posId || !this._eftposAddress)\n        {\n            this._log.warn(\"Tried to Pair but missing posId or updatedEftposAddress\");\n            return false;\n        }\n\n        this.CurrentFlow = SpiFlow.Pairing;\n        this.CurrentPairingFlowState = new PairingFlowState\n        ({\n            Successful: false,\n            Finished: false,\n            Message: \"Connecting...\",\n            AwaitingCheckFromEftpos: false,\n            AwaitingCheckFromPos: false,\n            ConfirmationCode: \"\"\n        });\n\n        document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n        this._conn.Connect(); // Non-Blocking\n        return true;\n    }\n\n    // <summary>\n    // Call this when your user clicks yes to confirm the pairing code on your \n    // screen matches the one on the Eftpos.\n    // </summary>\n    PairingConfirmCode()\n    {\n        if (!this.CurrentPairingFlowState.AwaitingCheckFromPos)\n        {\n            // We weren't expecting this\n            return;\n        }\n\n        this.CurrentPairingFlowState.AwaitingCheckFromPos = false;\n        if (this.CurrentPairingFlowState.AwaitingCheckFromEftpos)\n        {\n            // But we are still waiting for confirmation from Eftpos side.\n            this._log.info(\"Pair Code Confirmed from POS side, but am still waiting for confirmation from Eftpos.\");\n            this.CurrentPairingFlowState.Message =\n                \"Click YES on EFTPOS if code is: \" + this.CurrentPairingFlowState.ConfirmationCode;\n            document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n        }\n        else\n        {\n            // Already confirmed from Eftpos - So all good now. We're Paired also from the POS perspective.\n            this._log.info(\"Pair Code Confirmed from POS side, and was already confirmed from Eftpos side. Pairing finalised.\");\n            this._onPairingSuccess();\n            this._onReadyToTransact();\n        }\n    }\n\n    // <summary>\n    // Call this if your user clicks CANCEL or NO during the pairing process.\n    // </summary>\n    PairingCancel()\n    {\n        if (this.CurrentFlow != SpiFlow.Pairing || this.CurrentPairingFlowState.Finished) {\n            return;\n        }\n\n        if (this.CurrentPairingFlowState.AwaitingCheckFromPos && !this.CurrentPairingFlowState.AwaitingCheckFromEftpos)\n        {\n            // This means that the Eftpos already thinks it's paired.\n            // Let's tell it to drop keys\n            this._send(new DropKeysRequest().ToMessage());\n        }\n        this._onPairingFailed();\n    }\n\n    // <summary>\n    // Call this when your uses clicks the Unpair button.\n    // This will disconnect from the Eftpos and forget the secrets.\n    // The CurrentState is then changed to Unpaired.\n    // Call this only if you are not yet in the Unpaired state.\n    // </summary>\n    Unpair()\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) {\n            return false;\n        }\n\n        if (this.CurrentFlow != SpiFlow.Idle) {\n            return false;\n        }\n        \n        // Best effort letting the eftpos know that we're dropping the keys, so it can drop them as well.\n        this._send(new DropKeysRequest().ToMessage());\n        this._doUnpair();\n        return true;\n    }\n\n    // endregion\n\n    // region Transaction Methods\n\n    // <summary>\n    // Initiates a purchase transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // </summary>\n    // <param name=\"posRefId\">Alphanumeric Identifier for your purchase.</param>\n    // <param name=\"amountCents\">Amount in Cents to charge</param>\n    // <returns>InitiateTxResult</returns>\n    InitiatePurchaseTx(posRefId, amountCents)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) {\n            return new InitiateTxResult(false, \"Not Paired\");\n        }\n\n        if (this.CurrentFlow != SpiFlow.Idle) {\n            return new InitiateTxResult(false, \"Not Idle\");\n        }\n\n        var purchaseRequest = PurchaseHelper.CreatePurchaseRequest(amountCents, posRefId);\n        purchaseRequest.Config = this.Config;\n        var purchaseMsg = purchaseRequest.ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.Purchase, amountCents, purchaseMsg,\n            `Waiting for EFTPOS connection to make payment request for ${amountCents / 100.0}`);\n        if (this._send(purchaseMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to accept payment for ${amountCents / 100.0}`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Purchase Initiated\");\n    }\n\n    // <summary>\n    // Initiates a purchase transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // <para>Tip and cashout are not allowed simultaneously.</para>\n    // </summary>\n    // <param name=\"posRefId\">An Unique Identifier for your Order/Purchase</param>\n    // <param name=\"purchaseAmount\">The Purchase Amount in Cents.</param>\n    // <param name=\"tipAmount\">The Tip Amount in Cents</param>\n    // <param name=\"cashoutAmount\">The Cashout Amount in Cents</param>\n    // <param name=\"promptForCashout\">Whether to prompt your customer for cashout on the Eftpos</param>\n    // <param name=\"options\">The Setting to set Header and Footer for the Receipt</param>\n    // <param name=\"surchargeAmount\">The Surcharge Amount in Cents</param>\n    // <returns>InitiateTxResult</returns>\n    InitiatePurchaseTxV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout, options = {}, surchargeAmount = 0)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n\n        if (tipAmount > 0 && (cashoutAmount > 0 || promptForCashout)) return new InitiateTxResult(false, \"Cannot Accept Tips and Cashout at the same time.\");\n        \n        if (this.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n        this.CurrentFlow = SpiFlow.Transaction;\n        \n        var purchase = PurchaseHelper.CreatePurchaseRequestV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout, surchargeAmount);\n        purchase.Config = this.Config;\n        purchase.Options = options;\n        var purchaseMsg = purchase.ToMessage();\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.Purchase, purchaseAmount, purchaseMsg,\n            `Waiting for EFTPOS connection to make payment request. ${purchase.AmountSummary()}`);\n        if (this._send(purchaseMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to accept payment for ${purchase.AmountSummary()}`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Purchase Initiated\");\n    }\n\n    // <summary>\n    // Initiates a refund transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // </summary>\n    // <param name=\"posRefId\">Alphanumeric Identifier for your refund.</param>\n    // <param name=\"amountCents\">Amount in Cents to charge</param>\n    // <param name=\"isSuppressMerchantPassword\">Merchant Password control in VAA</param>\n    // <returns>InitiateTxResult</returns>\n    InitiateRefundTx(posRefId, amountCents, isSuppressMerchantPassword = false)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) {\n            return new InitiateTxResult(false, \"Not Paired\");\n        }\n\n        if (this.CurrentFlow != SpiFlow.Idle) {\n            return new InitiateTxResult(false, \"Not Idle\");\n        }\n\n        var refundRequest = PurchaseHelper.CreateRefundRequest(amountCents, posRefId, isSuppressMerchantPassword);\n        refundRequest.Config = this.Config;\n        var refundMsg = refundRequest.ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.Refund, amountCents, refundMsg, \n            `Waiting for EFTPOS connection to make refund request for ${(amountCents / 100.0).toFixed(2)}`);\n        if (this._send(refundMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to refund ${(amountCents / 100.0).toFixed(2)}`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Refund Initiated\");\n    }\n    \n    // <summary>\n    // Let the EFTPOS know whether merchant accepted or declined the signature\n    // </summary>\n    // <param name=\"accepted\">whether merchant accepted the signature from customer or not</param>\n    AcceptSignature(accepted)\n    {\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.AwaitingSignatureCheck)\n        {\n            this._log.info(\"Asked to accept signature but I was not waiting for one.\");\n            return new MidTxResult(false, \"Asked to accept signature but I was not waiting for one.\");\n        }\n\n        this.CurrentTxFlowState.SignatureResponded(accepted ? \"Accepting Signature...\" : \"Declining Signature...\");\n        var sigReqMsg = this.CurrentTxFlowState.SignatureRequiredMessage;\n        this._send(accepted\n            ? new SignatureAccept(this.CurrentTxFlowState.PosRefId).ToMessage()\n            : new SignatureDecline(this.CurrentTxFlowState.PosRefId).ToMessage());\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new MidTxResult(true, \"\");\n    }\n\n    // <summary>\n    // Submit the Code obtained by your user when phoning for auth. \n    // It will return immediately to tell you whether the code has a valid format or not. \n    // If valid==true is returned, no need to do anything else. Expect updates via standard callback.\n    // If valid==false is returned, you can show your user the accompanying message, and invite them to enter another code. \n    // </summary>\n    // <param name=\"authCode\">The code obtained by your user from the merchant call centre. It should be a 6-character alpha-numeric value.</param>\n    // <returns>Whether code has a valid format or not.</returns>\n    SubmitAuthCode(authCode)\n    {\n        if (authCode.length != 6)\n        {\n            return new SubmitAuthCodeResult(false, \"Not a 6-digit code.\");    \n        }\n                \n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.AwaitingPhoneForAuth)\n        {\n            this._log.info(\"Asked to send auth code but I was not waiting for one.\");\n            return new SubmitAuthCodeResult(false, \"Was not waiting for one.\");\n        }\n\n        this.CurrentTxFlowState.AuthCodeSent(`Submitting Auth Code ${authCode}`);\n        this._send(new AuthCodeAdvice(this.CurrentTxFlowState.PosRefId, authCode).ToMessage());\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new SubmitAuthCodeResult(true, \"Valid Code.\");\n    }\n\n    // <summary>\n    // Attempts to cancel a Transaction. \n    // Be subscribed to TxFlowStateChanged event to see how it goes.\n    // Wait for the transaction to be finished and then see whether cancellation was successful or not.\n    // </summary>\n    // <returns>MidTxResult - false only if you called it in the wrong state</returns>\n    CancelTransaction()\n    {\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished)\n        {\n            this._log.info(\"Asked to cancel transaction but I was not in the middle of one.\");\n            return new MidTxResult(false, \"Asked to cancel transaction but I was not in the middle of one.\");\n        }\n\n        // TH-1C, TH-3C - Merchant pressed cancel\n        if (this.CurrentTxFlowState.RequestSent)\n        {\n            var cancelReq = new CancelTransactionRequest();\n            this.CurrentTxFlowState.Cancelling(\"Attempting to Cancel Transaction...\");\n            this._send(cancelReq.ToMessage());\n        }\n        else\n        {\n            // We Had Not Even Sent Request Yet. Consider as known failed.\n            this.CurrentTxFlowState.Failed(null, \"Transaction Cancelled. Request Had not even been sent yet.\");\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new MidTxResult(true, \"\");\n    }\n\n    // <summary>\n    // Initiates a cashout only transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // </summary>\n    // <param name=\"posRefId\">Alphanumeric Identifier for your transaction.</param>\n    // <param name=\"amountCents\">Amount in Cents to cash out</param>\n    // <param name=\"surchargeAmount\">The Surcharge Amount in Cents</param>\n    // <returns>InitiateTxResult</returns>\n    InitiateCashoutOnlyTx(posRefId, amountCents, surchargeAmount = 0)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n\n        if (this.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n        var cashoutOnlyRequest = new CashoutOnlyRequest(amountCents, posRefId, surchargeAmount);\n        cashoutOnlyRequest.Config = this.Config;\n        var cashoutMsg = cashoutOnlyRequest.ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.CashoutOnly, amountCents, cashoutMsg,\n            `Waiting for EFTPOS connection to send cashout request for ${(amountCents / 100).toFixed(2)}`);\n        if (this._send(cashoutMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to do cashout for ${(amountCents / 100).toFixed(2)}`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Cashout Initiated\");\n    }    \n\n    // <summary>\n    // Initiates a Mail Order / Telephone Order Purchase Transaction\n    // </summary>\n    // <param name=\"posRefId\">Alphanumeric Identifier for your transaction.</param>\n    // <param name=\"amountCents\">Amount in Cents</param>\n    // <param name=\"surchargeAmount\">The Surcharge Amount in Cents</param>\n    // <returns>InitiateTxResult</returns>\n    InitiateMotoPurchaseTx(posRefId, amountCents, surchargeAmount = 0)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n\n        if (this.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n        var motoPurchaseRequest = new MotoPurchaseRequest(amountCents, posRefId, surchargeAmount);\n        motoPurchaseRequest.Config = this.Config;\n        var cashoutMsg = motoPurchaseRequest.ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.MOTO, amountCents, cashoutMsg,\n            `Waiting for EFTPOS connection to send MOTO request for ${(amountCents / 100).toFixed(2)}`);\n        if (this._send(cashoutMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS do MOTO for ${(amountCents / 100).toFixed(2)}`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"MOTO Initiated\");\n    }\n\n    // <summary>\n    // Initiates a settlement transaction.\n    // Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // </summary>\n    InitiateSettleTx(posRefId)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) {\n            return new InitiateTxResult(false, \"Not Paired\");\n        }\n\n        if (this.CurrentFlow != SpiFlow.Idle) {\n            return new InitiateTxResult(false, \"Not Idle\");\n        }\n\n        var settleRequestMsg = new SettleRequest(RequestIdHelper.Id(\"settle\")).ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.Settle, 0, settleRequestMsg, \n            `Waiting for EFTPOS connection to make a settle request`);\n\n        if (this._send(settleRequestMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to settle.`);\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Settle Initiated\");   \n    }\n\n    // <summary>\n    // </summary>\n    InitiateSettlementEnquiry(posRefId)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n\n        if (this.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n        var stlEnqMsg = new SettlementEnquiryRequest(RequestIdHelper.Id(\"stlenq\")).ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.SettlementEnquiry, 0, stlEnqMsg,\n            \"Waiting for EFTPOS connection to make a settlement enquiry\");\n        if (this._send(stlEnqMsg))\n        {\n            this.CurrentTxFlowState.Sent(\"Asked EFTPOS to make a settlement enquiry.\");\n        }\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Settle Initiated\");   \n    }\n\n    // <summary>\n    // Initiates a Get Last Transaction. Use this when you want to retrieve the most recent transaction\n    // that was processed by the Eftpos.\n    // Be subscribed to TxFlowStateChanged event to get updates on the process.\n    // </summary>\n    InitiateGetLastTx()\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) {\n            return new InitiateTxResult(false, \"Not Paired\");\n        }\n\n        if (this.CurrentFlow != SpiFlow.Idle) {\n            return new InitiateTxResult(false, \"Not Idle\");\n        }\n\n        var gltRequestMsg = new GetLastTransactionRequest().ToMessage();\n        this.CurrentFlow = SpiFlow.Transaction;\n        var posRefId = gltRequestMsg.Id; // GetLastTx is not trying to get anything specific back. So we just use the message id.\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, TransactionType.GetLastTransaction, 0, gltRequestMsg, \n            \"Waiting for EFTPOS connection to make a Get-Last-Transaction request.\");\n        \n        if (this._send(gltRequestMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS for last transaction.`);\n        }\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"GLT Initiated\");   \n    }\n\n    // <summary>\n    // This is useful to recover from your POS crashing in the middle of a transaction.\n    // When you restart your POS, if you had saved enough state, you can call this method to recover the client library state.\n    // You need to have the posRefId that you passed in with the original transaction, and the transaction type.\n    // This method will return immediately whether recovery has started or not.\n    // If recovery has started, you need to bring up the transaction modal to your user a be listening to TxFlowStateChanged.\n    // </summary>\n    // <param name=\"posRefId\">The is that you had assigned to the transaction that you are trying to recover.</param>\n    // <param name=\"txType\">The transaction type.</param>\n    // <returns></returns>\n    InitiateRecovery(posRefId, txType)\n    {\n        if (this.CurrentStatus == SpiStatus.Unpaired) return new InitiateTxResult(false, \"Not Paired\");\n    \n        if (this.CurrentFlow != SpiFlow.Idle) return new InitiateTxResult(false, \"Not Idle\");\n        \n        this.CurrentFlow = SpiFlow.Transaction;\n        \n        var gltRequestMsg = new GetLastTransactionRequest().ToMessage();\n        this.CurrentTxFlowState = new TransactionFlowState(\n            posRefId, txType, 0, gltRequestMsg, \n            \"Waiting for EFTPOS connection to attempt recovery.\");\n        \n        if (this._send(gltRequestMsg))\n        {\n            this.CurrentTxFlowState.Sent(`Asked EFTPOS to recover state.`);\n        }\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        return new InitiateTxResult(true, \"Recovery Initiated\");\n    }\n\n    // <summary>\n    // GltMatch attempts to conclude whether a gltResponse matches an expected transaction and returns\n    // the outcome. \n    // If Success/Failed is returned, it means that the gtlResponse did match, and that transaction was succesful/failed.\n    // If Unknown is returned, it means that the gltResponse does not match the expected transaction. \n    // </summary>\n    // <param name=\"gltResponse\">The GetLastTransactionResponse message to check</param>\n    // <param name=\"posRefId\">The Reference Id that you passed in with the original request.</param>\n\n    // <returns></returns>\n    GltMatch(gltResponse, posRefId, ...deprecatedArgs) \n    {\n        // Obsolete method call check\n        // Old interface: GltMatch(GetLastTransactionResponse gltResponse, TransactionType expectedType, int expectedAmount, DateTime requestTime, string posRefId)\n        if(deprecatedArgs.length) {\n            if(deprecatedArgs.length == 2) {\n                this._log.info(\"Obsolete method call detected: Use GltMatch(gltResponse, posRefId)\");\n                return this.GltMatch(gltResponse, deprecatedArgs[2]);\n            } else {\n                throw new Error(\"Obsolete method call with unknown args: Use GltMatch(GetLastTransactionResponse gltResponse, string posRefId)\");\n            }\n        }\n\n        this._log.info(`GLT CHECK: PosRefId: ${posRefId}->${gltResponse.GetPosRefId()}`);\n\n        if (!posRefId == gltResponse.GetPosRefId())\n        {\n            return SuccessState.Unknown;\n        }\n\n        return gltResponse.GetSuccessState();\n    }\n    \n    PrintReceipt(key, payload)\n    {\n        this._send(new PrintingRequest(key, payload).toMessage());\n    }\n\n    GetTerminalStatus()\n    {\n        this._send(new TerminalStatusRequest().ToMessage());\n    }\n\n    // endregion\n        \n    // region Internals for Pairing Flow\n\n    // <summary>\n    // Handling the 2nd interaction of the pairing process, i.e. an incoming KeyRequest.\n    // </summary>\n    // <param name=\"m\">incoming message</param>\n    _handleKeyRequest(m)\n    {\n        this.CurrentPairingFlowState.Message = \"Negotiating Pairing...\";\n        document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n\n        // Use the helper. It takes the incoming request, and generates the secrets and the response.\n        var ph      = new PairingHelper();\n        var result  = ph.GenerateSecretsAndKeyResponse(new KeyRequest(m));\n        this._secrets = result.Secrets; // we now have secrets, although pairing is not fully finished yet.\n        this._spiMessageStamp.Secrets = this._secrets; // updating our stamp with the secrets so can encrypt messages later.\n        this._send(result.KeyResponse.ToMessage()); // send the key_response, i.e. interaction 3 of pairing.\n    }\n\n    // <summary>\n    // Handling the 4th interaction of the pairing process i.e. an incoming KeyCheck.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleKeyCheck(m)\n    {\n        var keyCheck = new KeyCheck(m);\n        this.CurrentPairingFlowState.ConfirmationCode = keyCheck.ConfirmationCode;\n        this.CurrentPairingFlowState.AwaitingCheckFromEftpos = true;\n        this.CurrentPairingFlowState.AwaitingCheckFromPos = true;\n        this.CurrentPairingFlowState.Message = \"Confirm that the following Code is showing on the Terminal\";\n        document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n    }\n\n    // <summary>\n    // Handling the 5th and final interaction of the pairing process, i.e. an incoming PairResponse\n    // </summary>\n    // <param name=\"m\"></param>\n    _handlePairResponse(m)\n    {\n        var pairResp = new PairResponse(m);\n\n        this.CurrentPairingFlowState.AwaitingCheckFromEftpos = false;\n        if (pairResp.Success)\n        {\n            if (this.CurrentPairingFlowState.AwaitingCheckFromPos)\n            {\n                // Still Waiting for User to say yes on POS\n                this._log.info(\"Got Pair Confirm from Eftpos, but still waiting for use to confirm from POS.\");\n                this.CurrentPairingFlowState.Message = \"Confirm that the following Code is what the EFTPOS showed\";\n                document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n            }\n            else\n            {\n                this._log.info(\"Got Pair Confirm from Eftpos, and already had confirm from POS. Now just waiting for first pong.\");\n                this._onPairingSuccess();\n            }\n            // I need to ping/login even if the pos user has not said yes yet, \n            // because otherwise within 5 seconds connectiong will be dropped by eftpos.\n            this._startPeriodicPing();\n        }\n        else\n        {\n            this._onPairingFailed();\n        }\n    }\n\n    _handleDropKeysAdvice(m)\n    {\n        this._log.info(\"Eftpos was Unpaired. I shall unpair from my end as well.\");\n        this._doUnpair();\n    }\n\n    _onPairingSuccess()\n    {\n        this.CurrentPairingFlowState.Successful = true;\n        this.CurrentPairingFlowState.Finished = true;\n        this.CurrentPairingFlowState.Message = \"Pairing Successful!\";\n        this.CurrentStatus = SpiStatus.PairedConnected;\n        document.dispatchEvent(new CustomEvent('SecretsChanged', {detail: this._secrets}));\n        document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n    }\n\n    _onPairingFailed()\n    {\n        this._secrets = null;\n        this._spiMessageStamp.Secrets = null;\n        this._conn.Disconnect();\n\n        this.CurrentStatus = SpiStatus.Unpaired;\n        this.CurrentPairingFlowState.Message = \"Pairing Failed\";\n        this.CurrentPairingFlowState.Finished = true;\n        this.CurrentPairingFlowState.Successful = false;\n        this.CurrentPairingFlowState.AwaitingCheckFromPos = false;\n        document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n    }\n\n    _doUnpair()\n    {\n        this.CurrentStatus = SpiStatus.Unpaired;\n        this._conn.Disconnect();\n        this._secrets = null;\n        this._spiMessageStamp.Secrets = null;\n        document.dispatchEvent(new CustomEvent('SecretsChanged', {detail: this._secrets}));\n    }\n\n    // <summary>\n    // Sometimes the server asks us to roll our secrets.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleKeyRollingRequest(m)\n    {\n        // we calculate the new ones...\n        var krRes = KeyRollingHelper.PerformKeyRolling(m, this._secrets);\n        this._secrets = krRes.NewSecrets; // and update our secrets with them\n        this._spiMessageStamp.Secrets = this._secrets; // and our stamp\n        this._send(krRes.KeyRollingConfirmation); // and we tell the server that all is well.\n        document.dispatchEvent(new CustomEvent('SecretsChanged', {detail: this._secrets}));\n    }\n\n    // <summary>\n    // The PinPad server will send us this message when a customer signature is reqired.\n    // We need to ask the customer to sign the incoming receipt.\n    // And then tell the pinpad whether the signature is ok or not.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleSignatureRequired(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Signature Required but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        this.CurrentTxFlowState.SignatureRequired(new SignatureRequired(m), \"Ask Customer to Sign the Receipt\");\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // The PinPad server will send us this message when an auth code is required.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleAuthCodeRequired(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            _log.info(`Received Auth Code Required but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        var phoneForAuthRequired = new PhoneForAuthRequired(m);\n        var msg = `Auth Code Required. Call ${phoneForAuthRequired.GetPhoneNumber()} and quote merchant id ${phoneForAuthRequired.GetMerchantId()}`;\n        this.CurrentTxFlowState.PhoneForAuthRequired(phoneForAuthRequired, msg);\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // The PinPad server will reply to our PurchaseRequest with a PurchaseResponse.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handlePurchaseResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Purchase response but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}\"`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Purchase Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // The PinPad server will reply to our CashoutOnlyRequest with a CashoutOnlyResponse.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleCashoutOnlyResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Cashout Response but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Cashout Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // The PinPad server will reply to our MotoPurchaseRequest with a MotoPurchaseResponse.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleMotoPurchaseResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Moto Response but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Moto Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }   \n\n    // <summary>\n    // The PinPad server will reply to our RefundRequest with a RefundResponse.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleRefundResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished | !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Refund response but I was not waiting for this one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Refund Transaction Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // TODO: Handle the Settlement Response received from the PinPad\n    // </summary>\n    // <param name=\"m\"></param>\n    HandleSettleResponse(m)\n    {\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished)\n        {\n            this._log.info(`Received Settle response but I was not waiting for one. ${m.DecryptedJson}`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Settle Transaction Ended.\");\n        // TH-6A, TH-6E\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // Handle the Settlement Enquiry Response received from the PinPad\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleSettlementEnquiryResponse(m)\n    {\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished)\n        {\n            this._log.info(`Received Settlement Enquiry response but I was not waiting for one. ${m.DecryptedJson}`);\n            return;\n        }\n        // TH-1A, TH-2A\n        \n        this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, \"Settlement Enquiry Ended.\");\n        // TH-6A, TH-6E\n        \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n    }\n\n    // <summary>\n    // Sometimes we receive event type \"error\" from the server, such as when calling cancel_transaction and there is no transaction in progress.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleErrorEvent(m)\n    {\n        if (this.CurrentFlow == SpiFlow.Transaction\n            && !this.CurrentTxFlowState.Finished\n            && this.CurrentTxFlowState.AttemptingToCancel\n            && m.GetError() == \"NO_TRANSACTION\")\n        {\n            // TH-2E\n            this._log.info(`Was trying to cancel a transaction but there is nothing to cancel. Calling GLT to see what's up`);\n            this._callGetLastTransaction();\n        }\n        else\n        {\n            this._log.info(`Received Error Event But Don't know what to do with it. ${m.DecryptedJson}`);\n        }\n    }\n\n    // <summary>\n    // When the PinPad returns to us what the Last Transaction was.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleGetLastTransactionResponse(m)\n    {\n        var txState = this.CurrentTxFlowState;\n        if (this.CurrentFlow != SpiFlow.Transaction || txState.Finished)\n        {\n            // We were not in the middle of a transaction, who cares?\n            return;\n        }\n\n        // TH-4 We were in the middle of a transaction.\n        // Let's attempt recovery. This is step 4 of Transaction Processing Handling\n        this._log.info(`Got Last Transaction..`);\n        txState.GotGltResponse();\n        var gtlResponse = new GetLastTransactionResponse(m);\n        txState.GLTResponsePosRefId = gtlResponse.GetPosRefId();\n        if (!gtlResponse.WasRetrievedSuccessfully())\n        {\n            if (gtlResponse.IsStillInProgress(txState.PosRefId))\n            {\n                // TH-4E - Operation In Progress\n\n                if (gtlResponse.IsWaitingForSignatureResponse() && !txState.AwaitingSignatureCheck)\n                {\n                    this._log.info(\"Eftpos is waiting for us to send it signature accept/decline, but we were not aware of this. \" +\n                              \"The user can only really decline at this stage as there is no receipt to print for signing.\");\n                    this.CurrentTxFlowState.SignatureRequired(new SignatureRequired(txState.PosRefId, m.Id, \"MISSING RECEIPT\\n DECLINE AND TRY AGAIN.\"), \"Recovered in Signature Required but we don't have receipt. You may Decline then Retry.\");\n                }\n                else if (gtlResponse.IsWaitingForAuthCode() && !txState.AwaitingPhoneForAuth)\n                {\n                    this._log.info(\"Eftpos is waiting for us to send it auth code, but we were not aware of this. \" +\n                              \"We can only cancel the transaction at this stage as we don't have enough information to recover from this.\");\n                    this.CurrentTxFlowState.PhoneForAuthRequired(new PhoneForAuthRequired(txState.PosRefId, m.Id, \"UNKNOWN\", \"UNKNOWN\"), \"Recovered mid Phone-For-Auth but don't have details. You may Cancel then Retry.\");\n                }\n                else\n                {\n                    this._log.info(\"Operation still in progress... stay waiting.\");\n                    // No need to publish txFlowStateChanged. Can return;\n                    return;\n                }\n            }\n            else if (gtlResponse.WasTimeOutOfSyncError())\n            {\n                // Let's not give up based on a TOOS error.\n                // Let's log it, and ignore it. \n                this._log.info(`Time-Out-Of-Sync error in Get Last Transaction response. Let's ignore it and we'll try again.`);\n                // No need to publish txFlowStateChanged. Can return;\n                return;\n            }\n            else\n            {\n                // TH-4X - Unexpected Response when recovering\n                this._log.info(`Unexpected Response in Get Last Transaction during - Received posRefId:${gtlResponse.GetPosRefId()} Error:${m.GetError()}`);\n                txState.UnknownCompleted(\"Unexpected Error when recovering Transaction Status. Check EFTPOS. \");\n            }\n        }\n        else\n        {\n            if (txState.Type == TransactionType.GetLastTransaction)\n            {\n                // THIS WAS A PLAIN GET LAST TRANSACTION REQUEST, NOT FOR RECOVERY PURPOSES.\n                this._log.info(\"Retrieved Last Transaction as asked directly by the user.\");\n                gtlResponse.CopyMerchantReceiptToCustomerReceipt();\n                txState.Completed(m.GetSuccessState(), m, \"Last Transaction Retrieved\");\n            }\n            else\n            {\n                // TH-4A - Let's try to match the received last transaction against the current transaction\n                var successState = this.GltMatch(gtlResponse, txState.PosRefId);\n                if (successState == SuccessState.Unknown)\n                {\n                    // TH-4N: Didn't Match our transaction. Consider Unknown State.\n                    this._log.info(\"Did not match transaction.\");\n                    txState.UnknownCompleted(\"Failed to recover Transaction Status. Check EFTPOS. \");\n                }\n                else\n                {\n                    // TH-4Y: We Matched, transaction finished, let's update ourselves\n                    gtlResponse.CopyMerchantReceiptToCustomerReceipt();\n                    txState.Completed(successState, m, \"Transaction Ended.\");\n                }\n            } \n        }\n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: txState}));\n    }\n\n    //When the transaction cancel response is returned.\n    _handleCancelTransactionResponse(m)\n    {\n        var incomingPosRefId = m.Data.pos_ref_id;\n        if (this.CurrentFlow != SpiFlow.Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId)\n        {\n            this._log.info(`Received Cancel Required but I was not waiting for one. Incoming Pos Ref ID: ${incomingPosRefId}`);\n            return;\n        }\n\n        var txState = this.CurrentTxFlowState;\n        var cancelResponse = new CancelTransactionResponse(m);\n\n        if (cancelResponse.Success) return;\n\n        this._log.warn(\"Failed to cancel transaction: reason=\" + cancelResponse.GetErrorReason() + \", detail=\" + cancelResponse.GetErrorDetail());\n\n        txState.CancelFailed(\"Failed to cancel transaction: \" + cancelResponse.GetErrorDetail() + \". Check EFTPOS.\");\n    \n        document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: txState}));\n    }\n\n    _handleSetPosInfoResponse(m)\n    {\n        var response = new SetPosInfoResponse(m);\n        if (response.isSuccess())\n        {\n            this._hasSetInfo = true;\n            this._log.info(\"Setting POS info successful\");\n        }\n        else\n        {\n            this._log.warn(\"Setting POS info failed: reason=\" + response.getErrorReason() + \", detail=\" + response.getErrorDetail());\n        }\n    }\n\n    _startTransactionMonitoringThread()\n    {\n        var needsPublishing = false;\n    \n        var txState = this.CurrentTxFlowState;\n        if (this.CurrentFlow == SpiFlow.Transaction && !txState.Finished)\n        {\n            var state = txState;\n            if (state.AttemptingToCancel && Date.now() > state.CancelAttemptTime + this._maxWaitForCancelTx)\n            {\n                // TH-2T - too long since cancel attempt - Consider unknown\n                this._log.info(`Been too long waiting for transaction to cancel.`);\n                txState.UnknownCompleted(`Waited long enough for Cancel Transaction result. Check EFTPOS. `);\n                needsPublishing = true;\n            }\n            else if (state.RequestSent && Date.now() > state.LastStateRequestTime + this._checkOnTxFrequency)\n            {\n                // TH-1T, TH-4T - It's been a while since we received an update, let's call a GLT\n                this._log.info(`Checking on our transaction. Last we asked was at ${state.LastStateRequestTime}...`);\n                txState.CallingGlt();\n                this._callGetLastTransaction();\n            }\n        }\n        \n        if (needsPublishing) {\n            document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n        }\n\n        setTimeout(() => this._startTransactionMonitoringThread(), this._txMonitorCheckFrequency);\n    }\n\n    PrintingResponse(m) {\n        throw new Error('Method not implemented. Please overwrite this method in your POS');\n    }\n\n    TerminalStatusResponse(m) {\n        throw new Error('Method not implemented. Please overwrite this method in your POS');\n    }\n\n    BatteryLevelChanged(m) {\n        throw new Error('Method not implemented. Please overwrite this method in your POS');\n    }\n\n    _handlePrintingResponse(m)\n    {\n        this.PrintingResponse(m);\n    }\n\n    _handleTerminalStatusResponse(m)\n    {\n        this.TerminalStatusResponse(m);\n    }\n\n    _handleBatteryLevelChanged(m)\n    {\n        this.BatteryLevelChanged(m);\n    }\n\n    // endregion\n        \n    // region Internals for Connection Management\n\n    _resetConn()\n    {\n        // Setup the Connection\n        this._conn = new Connection();\n\n        if (this._isUsingHttps() || this._forceSecureWebSockets) {\n            this._log.info(\"Secure connection detected.\");\n            this._eftposAddress = this._eftposAddress.replace(\"ws://\", \"wss://\");\n          }\n          this._conn.Address = this._eftposAddress;\n    \n        // Register our Event Handlers\n        document.addEventListener('ConnectionStatusChanged', (e) => this._onSpiConnectionStatusChanged(e.detail));\n        document.addEventListener('MessageReceived', (e) => this._onSpiMessageReceived(e.detail));\n        document.addEventListener('ErrorReceived', (e) => this._onWsErrorReceived(e.detail));\n    }\n\n    // <summary>\n    // This method will be called when the connection status changes.\n    // You are encouraged to display a PinPad Connection Indicator on the POS screen.\n    // </summary>\n    // <param name=\"state\"></param>\n    _onSpiConnectionStatusChanged(state)\n    {\n        switch (state.ConnectionState)\n        {\n            case ConnectionState.Connecting:\n                this._log.info(`I'm Connecting to the Eftpos at ${this._eftposAddress}...`);\n                break;\n\n            case ConnectionState.Connected:\n                this._retriesSinceLastDeviceAddressResolution = 0;\n\n                if (this.CurrentFlow == SpiFlow.Pairing && this.CurrentStatus == SpiStatus.Unpaired)\n                {\n                    this.CurrentPairingFlowState.Message = \"Requesting to Pair...\";\n                    document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n                    var pr = PairingHelper.NewPairRequest();\n                    this._send(pr.ToMessage());\n                }\n                else\n                {\n                    this._log.info(`I'm Connected to ${this._eftposAddress}...`);\n                    this._spiMessageStamp.Secrets = this._secrets;\n                    this._startPeriodicPing();\n                }\n                break;\n\n            case ConnectionState.Disconnected:\n                // Let's reset some lifecycle related to connection state, ready for next connection\n                this._log.info(`I'm disconnected from ${this._eftposAddress}...`);\n                this._mostRecentPingSent = null;\n                this._mostRecentPongReceived = null;\n                this._missedPongsCount = 0;\n                this._stopPeriodicPing();\n\n                if (this.CurrentStatus != SpiStatus.Unpaired)\n                {\n                    this.CurrentStatus = SpiStatus.PairedConnecting;\n\n                    if (this.CurrentFlow == SpiFlow.Transaction && !this.CurrentTxFlowState.Finished)\n                    {\n                        // we're in the middle of a transaction, just so you know!\n                        // TH-1D\n                        this._log.info(`Lost connection in the middle of a transaction...`);\n                    }\n                    \n                    if (this._conn == null) return; // This means the instance has been disposed. Aborting.\n                    \n                    if (this._autoAddressResolutionEnabled)\n                    {\n                        if (this._retriesSinceLastDeviceAddressResolution >= this._retriesBeforeResolvingDeviceAddress)\n                        {\n                            this._autoResolveEftposAddress();\n                            this._retriesSinceLastDeviceAddressResolution = 0;\n                        }\n                        else\n                        {\n                            this._retriesSinceLastDeviceAddressResolution += 1;\n                        }\n                    }\n\n                    this._log.info(`Will try to reconnect in ${this._sleepBeforeReconnectMs}ms...`);\n                    setTimeout(() => {\n                        if (this.CurrentStatus != SpiStatus.Unpaired)\n                        {\n                            // This is non-blocking\n                            if(this._conn) \n                            {\n                                this._conn.Connect();\n                            }\n                        }\n                    }, this._sleepBeforeReconnectMs);\n                }\n                else if (this.CurrentFlow == SpiFlow.Pairing)\n                {\n                    this._log.info(\"Lost Connection during pairing.\");\n                    this.CurrentPairingFlowState.Message = \"Could not Connect to Pair. Check Network and Try Again...\";\n                    this._onPairingFailed();\n                    document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {detail: this.CurrentPairingFlowState}));\n                }\n                break;\n            default:\n                throw new Error('Unknown state: ' + state);\n        }\n    }\n\n    // <summary>\n    // This is an important piece of the puzzle. It's a background thread that periodically\n    // sends Pings to the server. If it doesn't receive Pongs, it considers the connection as broken\n    // so it disconnects. \n    // </summary>\n    _startPeriodicPing() {\n        this._stopPeriodicPing();\n        this._periodicPingThread = setInterval(() => this._periodicPing(),this._pingFrequency);\n        this._periodicPing();\n    }\n\n    _periodicPing() {\n        // while i'm still connected AND paired...\n        if(this._conn.Connected && this._secrets != null) {\n            this._doPing();\n\n            setTimeout(() => {\n                if (this._mostRecentPingSent != null &&\n                    (this._mostRecentPongReceived == null || this._mostRecentPongReceived.Id != this._mostRecentPingSent.Id))\n                {\n                    this._missedPongsCount += 1;\n\n                    this._log.info(`Eftpos didn't reply to my Ping. Missed Count: ${this._missedPongsCount}/${this._missedPongsToDisconnect}.`);\n\n                    if (this._missedPongsCount < this._missedPongsToDisconnect)\n                    {\n                        this._log.info(\"Trying another ping...\");\n                        this._startPeriodicPing();\n                        return;\n                    }\n\n                    // This means that we have not received a pong for our most recent ping.\n                    // We consider this connection as broken.\n                    // Let's Disconnect.\n                    this._log.info(\"Disconnecting...\");\n                    this._conn.Disconnect();\n                    this._stopPeriodicPing();\n                }\n\n                this._missedPongsCount = 0;\n\n            },this._pongTimeout);\n\n        } else {\n            this._stopPeriodicPing();\n            this._log.info(\"Cancelling periodic ping as were disconnected or not paired\");\n        }\n    }\n\n    // <summary>\n    // We call this ourselves as soon as we're ready to transact with the PinPad after a connection is established.\n    // This function is effectively called after we received the first Login Response from the PinPad.\n    // </summary>\n    _onReadyToTransact()\n    {\n        this._log.info(\"On Ready To Transact!\");\n\n        // So, we have just made a connection, pinged and logged in successfully.\n        this.CurrentStatus = SpiStatus.PairedConnected;\n\n        if (this.CurrentFlow == SpiFlow.Transaction && !this.CurrentTxFlowState.Finished)\n        {\n            if (this.CurrentTxFlowState.RequestSent)\n            {\n                // TH-3A - We've just reconnected and were in the middle of Tx.\n                // Let's get the last transaction to check what we might have missed out on.\n                this.CurrentTxFlowState.CallingGlt();\n                this._callGetLastTransaction();\n            }\n            else\n            {\n                // TH-3AR - We had not even sent the request yet. Let's do that now\n                this._send(this.CurrentTxFlowState.Request);\n                this.CurrentTxFlowState.Sent(`Sending Request Now...`);\n                document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {detail: this.CurrentTxFlowState}));\n            }\n        }\n        else\n        {\n            if (!this._hasSetInfo) { \n                this._callSetPosInfo(); \n            }\n\n            // let's also tell the eftpos our latest table configuration.\n            if(this._spiPat) {\n                this._spiPat.PushPayAtTableConfig();\n            }\n        }\n    }\n\n    _callSetPosInfo()\n    {\n        var setPosInfoRequest = new SetPosInfoRequest(this._posVersion, this._posVendorId, \"js\", SPI_VERSION, DeviceInfo.GetAppDeviceInfo());\n        this._send(setPosInfoRequest.toMessage());\n    }\n\n    // <summary>\n    // When we disconnect, we should also stop the periodic ping.\n    // </summary>\n    _stopPeriodicPing() {\n        if(this._periodicPingThread) {\n            // If we were already set up, clean up before restarting.\n            clearInterval(this._periodicPingThread);\n            this._periodicPingThread = null;\n        }\n    }\n\n    // Send a Ping to the Server\n    _doPing()\n    {\n        var ping = PingHelper.GeneratePingRequest();\n        this._mostRecentPingSent = ping;\n        this._send(ping);\n        this._mostRecentPingSentTime = Date.now();\n    }\n\n    // <summary>\n    // Received a Pong from the server\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleIncomingPong(m)\n    {\n        // We need to maintain this time delta otherwise the server will not accept our messages.\n        this._spiMessageStamp.ServerTimeDelta = m.GetServerTimeDelta();\n\n        if (this._mostRecentPongReceived == null)\n        {\n            // First pong received after a connection, and after the pairing process is fully finalised.\n            if (this.CurrentStatus != SpiStatus.Unpaired)\n            {\n                this._log.info(\"First pong of connection and in paired state.\");\n                this._onReadyToTransact();\n            }\n            else\n            {\n                this._log.info(\"First pong of connection but pairing process not finalised yet.\");\n            }\n        }\n\n        this._mostRecentPongReceived = m;\n        this._log.debug(`PongLatency:${Date.now() - this._mostRecentPingSentTime}`);\n    }\n\n    // <summary>\n    // The server will also send us pings. We need to reply with a pong so it doesn't disconnect us.\n    // </summary>\n    // <param name=\"m\"></param>\n    _handleIncomingPing(m)\n    {\n        var pong = PongHelper.GeneratePongRessponse(m);\n        this._send(pong);\n    }\n\n    // <summary>\n    // Ask the PinPad to tell us what the Most Recent Transaction was\n    // </summary>\n    _callGetLastTransaction()\n    {\n        var gltRequest = new GetLastTransactionRequest();\n        this._send(gltRequest.ToMessage());\n    }\n\n    // <summary>\n    // This method will be called whenever we receive a message from the Connection\n    // </summary>\n    // <param name=\"messageJson\"></param>\n    _onSpiMessageReceived(messageJson)\n    {\n        // First we parse the incoming message\n        var m = Message.FromJson(messageJson.Message, this._secrets);\n        this._log.info(\"Received:\" + m.DecryptedJson);\n\n        if (SpiPreauth.IsPreauthEvent(m.EventName))\n        {\n            this._spiPreauth._handlePreauthMessage(m);\n            return;\n        }\n\n        // And then we switch on the event type.\n        switch (m.EventName)\n        {\n            case Events.KeyRequest:\n                this._handleKeyRequest(m);\n                break;\n            case Events.KeyCheck:\n                this._handleKeyCheck(m);\n                break;\n            case Events.PairResponse:\n                this._handlePairResponse(m);\n                break;\n            case Events.DropKeysAdvice:\n                this._handleDropKeysAdvice(m);\n                break;\n            case Events.PurchaseResponse:\n                this._handlePurchaseResponse(m);\n                break;\n            case Events.RefundResponse:\n                this._handleRefundResponse(m);\n                break;\n            case Events.CashoutOnlyResponse:\n                this._handleCashoutOnlyResponse(m);\n                break;\n            case Events.MotoPurchaseResponse:\n                this._handleMotoPurchaseResponse(m);\n                break;\n            case Events.SignatureRequired:\n                this._handleSignatureRequired(m);\n                break;\n            case Events.AuthCodeRequired:\n                this._handleAuthCodeRequired(m);\n                break;\n            case Events.GetLastTransactionResponse:\n                this._handleGetLastTransactionResponse(m);\n                break;\n            case Events.SettleResponse:\n                this.HandleSettleResponse(m);\n                break;\n            case Events.SettlementEnquiryResponse:\n                this._handleSettlementEnquiryResponse(m);\n                break;\n            case Events.Ping:\n                this._handleIncomingPing(m);\n                break;\n            case Events.Pong:\n                this._handleIncomingPong(m);\n                break;\n            case Events.KeyRollRequest:\n                this._handleKeyRollingRequest(m);\n                break;\n            case Events.CancelTransactionResponse:\n                this._handleCancelTransactionResponse(m);\n                break;\n            case Events.SetPosInfoResponse:\n                this._handleSetPosInfoResponse(m);\n                break;\n            case Events.PayAtTableGetTableConfig:\n                if (this._spiPat == null)\n                {\n                    this._send(PayAtTableConfig.FeatureDisableMessage(RequestIdHelper.Id(\"patconf\")));\n                    break;\n                }\n                this._spiPat._handleGetTableConfig(m);\n                break;\n            case Events.PayAtTableGetBillDetails:\n                this._spiPat._handleGetBillDetailsRequest(m);\n                break;\n            case Events.PayAtTableBillPayment:\n                this._spiPat._handleBillPaymentAdvice(m);\n                break;\n            case Events.PrintingResponse:\n                this._handlePrintingResponse(m);\n                break;\n            case Events.TerminalStatusResponse:\n                this._handleTerminalStatusResponse(m);\n                break;\n            case Events.BatteryLevelChanged:\n                this._handleBatteryLevelChanged(m);\n                break;\n            case Events.Error:\n                this._handleErrorEvent(m);\n                break;\n            case Events.InvalidHmacSignature:\n                this._log.info(\"I could not verify message from Eftpos. You might have to Un-pair Eftpos and then reconnect.\");\n                break;\n            default:\n                this._log.info(`I don't Understand Event: ${m.EventName}, ${m.Data}. Perhaps I have not implemented it yet.`);\n                break;\n        }\n    }\n\n    _onWsErrorReceived(error)\n    {\n        this._log.warn(\"Received WS Error: \" + error.Message);\n    }\n\n    _send(message)\n    {\n        var json = message.ToJson(this._spiMessageStamp);\n        if (this._conn.Connected)\n        {\n            this._log.info(\"Sending: \" + message.DecryptedJson);\n            this._conn.Send(json);\n            return true;\n        }\n        else\n        {\n            this._log.info(\"Asked to send, but not connected: \" + message.DecryptedJson);\n            return false;\n        }\n    }\n\n    HasSerialNumberChanged(updatedSerialNumber)\n    {\n        return this._serialNumber != updatedSerialNumber;\n    }\n\n    HasEftposAddressChanged(updatedEftposAddress)\n    {\n        return this._eftposAddress != updatedEftposAddress;\n    }\n\n    _autoResolveEftposAddress()\n    {\n        if (!this._autoAddressResolutionEnabled)\n            return;\n    \n        if (!this._serialNumber)\n            return;\n\n        var service = new DeviceAddressService();\n        var isSecureConnection = false;\n         \n        // determine whether to use wss or not\n        if (this._isUsingHttps() || this._forceSecureWebSockets)\n        {\n            this._log.info(`Secure connection detected.`);    \n            isSecureConnection = true;\n        }\n\n        this._log.info(`Resolving address for device ${this._serialNumber}.`);\n\n        // return service.RetrieveService(this._serialNumber, this._deviceApiKey, this._acquirerCode, this._useSecureWebSockets, this._inTestMode).then((response) => \n        return service.RetrieveService(this._serialNumber, this._deviceApiKey, this._acquirerCode, isSecureConnection, this._inTestMode).then((response) => \n        {\n            var deviceAddressStatus = Object.assign(new DeviceAddressStatus(isSecureConnection), response);\n\n            if(!deviceAddressStatus || !deviceAddressStatus.Address)\n            {\n                this._log.info(`Could not resolve device address.`);\n                return;\n            }\n                \n            this._log.info(`Address for device resolved to ${deviceAddressStatus.Address}`);\n            if (!this.HasEftposAddressChanged(deviceAddressStatus.Address))\n                return;\n\n            // update device and connection address\n            var protocol = isSecureConnection ? \"wss\" : \"ws\";\n            this._eftposAddress = protocol + \"://\" + deviceAddressStatus.Address;\n            this._conn.Address = this._eftposAddress;\n\n            this.CurrentDeviceStatus = deviceAddressStatus;\n\n            document.dispatchEvent(new CustomEvent('DeviceAddressChanged', {detail: this.CurrentDeviceStatus}));\n            \n            return this.CurrentDeviceStatus;\n        });\n    }\n\n    _isUsingHttps() \n    {\n        return 'https:' == document.location.protocol ? true : false;\n    }\n}\n\nexport {Spi};","export default class Logger {\n    constructor(element, lineSeperator = '\\n') {\n        this.buffer     = [];\n        this.element    = element;\n        this.lineSeperator = lineSeperator;\n    }\n\n    Info(...args) {\n        this.buffer.push(args.join(' '));\n        this._render();\n    }\n\n    Debug(...args) {\n        this.buffer.push(args.join(' '));\n        this._render();\n    }\n\n    Warn(...args) {\n        this.buffer.push(args.join(' '));\n        this._render();\n    }\n\n    Error(...args) {\n        this.buffer.push(args.join(' '));\n        this._render();\n    }\n\n    Console(...args) {\n        console.log(args.join(' '));\n    }\n\n    _render() {\n        this.element.innerText = this.buffer.join(this.lineSeperator);\n        this.element.scrollTop = this.element.scrollHeight;\n    }\n\n    Clear() {\n        this.buffer = [];\n        this._render();\n    }\n}\n\nexport {Logger};","import {Spi} from \"./src/Spi\";\nimport {Logger} from './src/Logger';\nimport {Printer} from './src/Printing';\n\n// Re-exported modules required for POS vendors\nexport {Spi} from './src/Spi';\nexport {Logger} from './src/Logger';\nexport {Secrets} from './src/Secrets';\nexport {SuccessState} from './src/Messages';\nexport {TransactionOptions, TransactionType, SpiFlow, SpiStatus} from './src/SpiModels';\nexport {PrintingResponse} from './src/Printing';\nexport {RefundResponse, PurchaseResponse, GetLastTransactionResponse, MotoPurchaseResponse} from './src/Purchase';\nexport {TerminalStatusResponse, TerminalBattery} from './src/TerminalStatus';\nexport {CashoutOnlyResponse} from './src/Cashout';\nexport {Settlement} from './src/Settlement';\nexport {RequestIdHelper} from './src/RequestIdHelper';\n\nwindow.Spi = Spi;\nwindow.Logger = Logger;\nwindow.Printer = Printer;"],"sourceRoot":""}